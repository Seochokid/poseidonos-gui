69f0f894a098abb469a6b749484161a2
"use strict";

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _reactRedux = require("react-redux");

var _core = require("@material-ui/core");

var _MuiThemeProvider = _interopRequireDefault(require("@material-ui/core/styles/MuiThemeProvider"));

var _Dialog = _interopRequireDefault(require("../../../components/Dialog"));

var _theme = require("../../../theme");

var actionTypes = _interopRequireWildcard(require("../../../store/actions/actionTypes"));

var actionCreators = _interopRequireWildcard(require("../../../store/actions/exportActionCreators"));

var _PowerSummary = _interopRequireDefault(require("../../../components/PowerManagementComponents/PowerSummary"));

var _PowerStateTable = _interopRequireDefault(require("../../../components/PowerManagementComponents/PowerStateTable"));

var _jsxFileName = "/home/ibof07/pk/ibofmgmt/Code/UI/src/containers/Hardware/PowerManagement/index.js";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

const styles = theme => ({
  powerMgmtContainer: {
    margin: 0,
    maxWidth: "100%"
  },
  content: {
    flexGrow: 1,
    width: '100%',
    boxSizing: 'border-box',
    padding: theme.spacing(2, 0)
  },
  toolbar: _theme.customTheme.toolbar,
  cardHeader: _theme.customTheme.card.header,
  powerMgmtPaper: {
    width: '100%'
  }
});

class PowerManagement extends _react.Component {
  constructor(props) {
    super(props);
    this.openAlert = this.openAlert.bind(this);
    this.handleAlertClose = this.handleAlertClose.bind(this);
    this.triggerCommand = this.triggerCommand.bind(this);
    this.onHandleChange = this.onHandleChange.bind(this);
    this.state = {
      powermode: 'Manual'
    };
  }

  componentDidMount() {}

  openAlert(operationType) {
    this.props.openAlertBox({
      alertOpen: true,
      addDeleteSend: operationType,
      alerttype: 'delete',
      istypealert: false,
      alerttitle: `${operationType} System`,
      alertdescription: `Are you sure you want to ${operationType} the system?`
    });
  }

  triggerCommand() {
    if (this.props.addDeleteSend === 'Reboot') {
      this.props.rebootSystem();
      this.handleAlertClose();
    } else if (this.props.addDeleteSend === 'Shutdown') {
      this.props.shutdownSystem();
      this.handleAlertClose();
    }
  }

  handleAlertClose() {
    this.props.openAlertBox({
      alertOpen: false
    });
  }

  onHandleChange(event) {
    const _event$target = event.target,
          name = _event$target.name,
          value = _event$target.value;
    this.setState(_objectSpread({}, this.state, {
      [name]: value
    }));
  }

  render() {
    const classes = this.props.classes;
    return _react.default.createElement(_MuiThemeProvider.default, {
      theme: _theme.PageTheme,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 110
      },
      __self: this
    }, _react.default.createElement("main", {
      className: classes.content,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 111
      },
      __self: this
    }, _react.default.createElement(_core.Grid, {
      "data-testid": "PowerManagement-container",
      container: true,
      className: classes.powerMgmtContainer,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 112
      },
      __self: this
    }, _react.default.createElement(_core.Paper, {
      className: classes.powerMgmtPaper,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 113
      },
      __self: this
    }, _react.default.createElement(_PowerSummary.default, {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 114
      },
      __self: this
    }), _react.default.createElement(_PowerStateTable.default, {
      powermode: this.state.powermode,
      handleChange: this.onHandleChange,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 115
      },
      __self: this
    })))), _react.default.createElement(_Dialog.default, {
      title: this.props.alerttitle,
      description: this.props.alertdescription,
      open: this.props.alertOpen,
      type: this.props.alerttype,
      handleClose: this.handleAlertClose,
      onConfirm: this.triggerCommand,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 119
      },
      __self: this
    }));
  }

}

const mapStateToProps = state => {
  return {
    alertOpen: state.alertManagementReducer.alertOpen,
    addDeleteSend: state.alertManagementReducer.addDeleteSend,
    alerttype: state.alertManagementReducer.alerttype,
    istypealert: state.alertManagementReducer.istypealert,
    alerttitle: state.alertManagementReducer.alerttitle,
    alertdescription: state.alertManagementReducer.alertdescription
  };
};

const mapDispatchToProps = dispatch => {
  return {
    openAlertBox: alertParam => dispatch(actionCreators.openAlertBox(alertParam))
  };
};

var _default = (0, _core.withStyles)(styles)((0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(PowerManagement));

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInN0eWxlcyIsInRoZW1lIiwicG93ZXJNZ210Q29udGFpbmVyIiwibWFyZ2luIiwibWF4V2lkdGgiLCJjb250ZW50IiwiZmxleEdyb3ciLCJ3aWR0aCIsImJveFNpemluZyIsInBhZGRpbmciLCJzcGFjaW5nIiwidG9vbGJhciIsImN1c3RvbVRoZW1lIiwiY2FyZEhlYWRlciIsImNhcmQiLCJoZWFkZXIiLCJwb3dlck1nbXRQYXBlciIsIlBvd2VyTWFuYWdlbWVudCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJvcGVuQWxlcnQiLCJiaW5kIiwiaGFuZGxlQWxlcnRDbG9zZSIsInRyaWdnZXJDb21tYW5kIiwib25IYW5kbGVDaGFuZ2UiLCJzdGF0ZSIsInBvd2VybW9kZSIsImNvbXBvbmVudERpZE1vdW50Iiwib3BlcmF0aW9uVHlwZSIsIm9wZW5BbGVydEJveCIsImFsZXJ0T3BlbiIsImFkZERlbGV0ZVNlbmQiLCJhbGVydHR5cGUiLCJpc3R5cGVhbGVydCIsImFsZXJ0dGl0bGUiLCJhbGVydGRlc2NyaXB0aW9uIiwicmVib290U3lzdGVtIiwic2h1dGRvd25TeXN0ZW0iLCJldmVudCIsInRhcmdldCIsIm5hbWUiLCJ2YWx1ZSIsInNldFN0YXRlIiwicmVuZGVyIiwiY2xhc3NlcyIsIlBhZ2VUaGVtZSIsIm1hcFN0YXRlVG9Qcm9wcyIsImFsZXJ0TWFuYWdlbWVudFJlZHVjZXIiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJkaXNwYXRjaCIsImFsZXJ0UGFyYW0iLCJhY3Rpb25DcmVhdG9ycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQTBCQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUlDLEtBQUQsS0FBWTtBQUN6QkMsRUFBQUEsa0JBQWtCLEVBQUU7QUFDbEJDLElBQUFBLE1BQU0sRUFBRSxDQURVO0FBRWxCQyxJQUFBQSxRQUFRLEVBQUU7QUFGUSxHQURLO0FBS3pCQyxFQUFBQSxPQUFPLEVBQUU7QUFDUEMsSUFBQUEsUUFBUSxFQUFFLENBREg7QUFFUEMsSUFBQUEsS0FBSyxFQUFFLE1BRkE7QUFHUEMsSUFBQUEsU0FBUyxFQUFFLFlBSEo7QUFJUEMsSUFBQUEsT0FBTyxFQUFFUixLQUFLLENBQUNTLE9BQU4sQ0FBYyxDQUFkLEVBQWlCLENBQWpCO0FBSkYsR0FMZ0I7QUFXekJDLEVBQUFBLE9BQU8sRUFBRUMsbUJBQVlELE9BWEk7QUFZekJFLEVBQUFBLFVBQVUsRUFBRUQsbUJBQVlFLElBQVosQ0FBaUJDLE1BWko7QUFhekJDLEVBQUFBLGNBQWMsRUFBRTtBQUNkVCxJQUFBQSxLQUFLLEVBQUU7QUFETztBQWJTLENBQVosQ0FBZjs7QUFrQkEsTUFBTVUsZUFBTixTQUE4QkMsZ0JBQTlCLENBQXdDO0FBQ3RDQyxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixLQUFLQSxTQUFMLENBQWVDLElBQWYsQ0FBb0IsSUFBcEIsQ0FBakI7QUFDQSxTQUFLQyxnQkFBTCxHQUF3QixLQUFLQSxnQkFBTCxDQUFzQkQsSUFBdEIsQ0FBMkIsSUFBM0IsQ0FBeEI7QUFDQSxTQUFLRSxjQUFMLEdBQXNCLEtBQUtBLGNBQUwsQ0FBb0JGLElBQXBCLENBQXlCLElBQXpCLENBQXRCO0FBQ0EsU0FBS0csY0FBTCxHQUFzQixLQUFLQSxjQUFMLENBQW9CSCxJQUFwQixDQUF5QixJQUF6QixDQUF0QjtBQUNBLFNBQUtJLEtBQUwsR0FBYTtBQUNUQyxNQUFBQSxTQUFTLEVBQUM7QUFERCxLQUFiO0FBR0Q7O0FBRURDLEVBQUFBLGlCQUFpQixHQUFHLENBQ25COztBQUVEUCxFQUFBQSxTQUFTLENBQUNRLGFBQUQsRUFBZ0I7QUFDdkIsU0FBS1QsS0FBTCxDQUFXVSxZQUFYLENBQXdCO0FBQ3RCQyxNQUFBQSxTQUFTLEVBQUUsSUFEVztBQUV0QkMsTUFBQUEsYUFBYSxFQUFFSCxhQUZPO0FBR3RCSSxNQUFBQSxTQUFTLEVBQUUsUUFIVztBQUl0QkMsTUFBQUEsV0FBVyxFQUFFLEtBSlM7QUFLdEJDLE1BQUFBLFVBQVUsRUFBRyxHQUFFTixhQUFjLFNBTFA7QUFNdEJPLE1BQUFBLGdCQUFnQixFQUFHLDRCQUEyQlAsYUFBYztBQU50QyxLQUF4QjtBQVNEOztBQUVETCxFQUFBQSxjQUFjLEdBQUc7QUFDZixRQUFJLEtBQUtKLEtBQUwsQ0FBV1ksYUFBWCxLQUE2QixRQUFqQyxFQUEyQztBQUN6QyxXQUFLWixLQUFMLENBQVdpQixZQUFYO0FBQ0EsV0FBS2QsZ0JBQUw7QUFDRCxLQUhELE1BR08sSUFBSSxLQUFLSCxLQUFMLENBQVdZLGFBQVgsS0FBNkIsVUFBakMsRUFBNkM7QUFDbEQsV0FBS1osS0FBTCxDQUFXa0IsY0FBWDtBQUNBLFdBQUtmLGdCQUFMO0FBQ0Q7QUFDRjs7QUFFREEsRUFBQUEsZ0JBQWdCLEdBQUc7QUFDakIsU0FBS0gsS0FBTCxDQUFXVSxZQUFYLENBQXdCO0FBQ3RCQyxNQUFBQSxTQUFTLEVBQUU7QUFEVyxLQUF4QjtBQUdEOztBQUVETixFQUFBQSxjQUFjLENBQUNjLEtBQUQsRUFBTztBQUFBLDBCQUNJQSxLQUFLLENBQUNDLE1BRFY7QUFBQSxVQUNWQyxJQURVLGlCQUNWQSxJQURVO0FBQUEsVUFDTEMsS0FESyxpQkFDTEEsS0FESztBQUVqQixTQUFLQyxRQUFMLG1CQUNPLEtBQUtqQixLQURaO0FBRUksT0FBQ2UsSUFBRCxHQUFPQztBQUZYO0FBSUg7O0FBRURFLEVBQUFBLE1BQU0sR0FBRztBQUFBLFVBQ0NDLE9BREQsR0FDYSxLQUFLekIsS0FEbEIsQ0FDQ3lCLE9BREQ7QUFFUCxXQUNFLDZCQUFDLHlCQUFEO0FBQWUsTUFBQSxLQUFLLEVBQUVDLGdCQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUNFO0FBQU0sTUFBQSxTQUFTLEVBQUVELE9BQU8sQ0FBQ3hDLE9BQXpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BQ0UsNkJBQUMsVUFBRDtBQUFNLHFCQUFZLDJCQUFsQjtBQUE4QyxNQUFBLFNBQVMsTUFBdkQ7QUFBd0QsTUFBQSxTQUFTLEVBQUV3QyxPQUFPLENBQUMzQyxrQkFBM0U7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsT0FDRSw2QkFBQyxXQUFEO0FBQU8sTUFBQSxTQUFTLEVBQUUyQyxPQUFPLENBQUM3QixjQUExQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUNFLDZCQUFDLHFCQUFEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BREYsRUFFRSw2QkFBQyx3QkFBRDtBQUFpQixNQUFBLFNBQVMsRUFBRSxLQUFLVSxLQUFMLENBQVdDLFNBQXZDO0FBQWtELE1BQUEsWUFBWSxFQUFFLEtBQUtGLGNBQXJFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BRkYsQ0FERixDQURGLENBREYsRUFTRSw2QkFBQyxlQUFEO0FBQ0UsTUFBQSxLQUFLLEVBQUUsS0FBS0wsS0FBTCxDQUFXZSxVQURwQjtBQUVFLE1BQUEsV0FBVyxFQUFFLEtBQUtmLEtBQUwsQ0FBV2dCLGdCQUYxQjtBQUdFLE1BQUEsSUFBSSxFQUFFLEtBQUtoQixLQUFMLENBQVdXLFNBSG5CO0FBSUUsTUFBQSxJQUFJLEVBQUUsS0FBS1gsS0FBTCxDQUFXYSxTQUpuQjtBQUtFLE1BQUEsV0FBVyxFQUFFLEtBQUtWLGdCQUxwQjtBQU1FLE1BQUEsU0FBUyxFQUFFLEtBQUtDLGNBTmxCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BVEYsQ0FERjtBQW9CRDs7QUF6RXFDOztBQTRFeEMsTUFBTXVCLGVBQWUsR0FBR3JCLEtBQUssSUFBSTtBQUMvQixTQUFPO0FBQ0xLLElBQUFBLFNBQVMsRUFBQ0wsS0FBSyxDQUFDc0Isc0JBQU4sQ0FBNkJqQixTQURsQztBQUVMQyxJQUFBQSxhQUFhLEVBQUVOLEtBQUssQ0FBQ3NCLHNCQUFOLENBQTZCaEIsYUFGdkM7QUFHTEMsSUFBQUEsU0FBUyxFQUFFUCxLQUFLLENBQUNzQixzQkFBTixDQUE2QmYsU0FIbkM7QUFJTEMsSUFBQUEsV0FBVyxFQUFFUixLQUFLLENBQUNzQixzQkFBTixDQUE2QmQsV0FKckM7QUFLTEMsSUFBQUEsVUFBVSxFQUFFVCxLQUFLLENBQUNzQixzQkFBTixDQUE2QmIsVUFMcEM7QUFNTEMsSUFBQUEsZ0JBQWdCLEVBQUVWLEtBQUssQ0FBQ3NCLHNCQUFOLENBQTZCWjtBQU4xQyxHQUFQO0FBUUQsQ0FURDs7QUFXQSxNQUFNYSxrQkFBa0IsR0FBR0MsUUFBUSxJQUFJO0FBQ3JDLFNBQU87QUFDTHBCLElBQUFBLFlBQVksRUFBR3FCLFVBQUQsSUFBZ0JELFFBQVEsQ0FBQ0UsY0FBYyxDQUFDdEIsWUFBZixDQUE0QnFCLFVBQTVCLENBQUQ7QUFEakMsR0FBUDtBQUdELENBSkQ7O2VBTWUsc0JBQVduRCxNQUFYLEVBQW9CLHlCQUFRK0MsZUFBUixFQUF5QkUsa0JBQXpCLENBQUQsQ0FBaURoQyxlQUFqRCxDQUFuQixDIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICBDT1BZUklHSFQgKGMpIDIwMTkgU0FNU1VORyBFTEVDVFJPTklDUyBDTy4sIExURC4gICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgQUxMIFJJR0hUUyBSRVNFUlZFRCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkIHRvIGxpY2Vuc2VlcyBvZiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiAgICAgICAgL1xuLyAgIHByb2R1Y3RzIHRvIHVzZSBvciBhYnN0cmFjdCB0aGlzIGNvbXB1dGVyIHByb2dyYW0gZm9yIHRoZSBzb2xlIHB1cnBvc2Ugb2YgICAgICAgICAvXG4vICAgaW1wbGVtZW50aW5nIGEgcHJvZHVjdCBiYXNlZCBvbiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiBwcm9kdWN0cy4gICAgICAgICAgIC9cbi8gICBObyBvdGhlciByaWdodHMgdG8gcmVwcm9kdWNlLCB1c2UsIG9yIGRpc3NlbWluYXRlIHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSwgICAgICAgICAgL1xuLyAgIHdoZXRoZXIgaW4gcGFydCBvciBpbiB3aG9sZSwgYXJlIGdyYW50ZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIFxuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gbWFrZXMgbm8gcmVwcmVzZW50YXRpb24gb3Igd2FycmFudGllcyB3aXRoICAgICAgICAgIC9cbi8gICByZXNwZWN0IHRvIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIGNvbXB1dGVyIHByb2dyYW0sIGFuZCBzcGVjaWZpY2FsbHkgZGlzY2xhaW1zICAgL1xuLyAgIGFueSByZXNwb25zaWJpbGl0eSBmb3IgYW55IGRhbWFnZXMsIHNwZWNpYWwgb3IgY29uc2VxdWVudGlhbCwgY29ubmVjdGVkICAgICAgICAgICAvXG4vICAgd2l0aCB0aGUgdXNlIG9mIHRoaXMgcHJvZ3JhbS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vXG5cblxuREVTQ1JJUFRJT046IFBvd2VyIE1hbmFnZW1lbnQgUGFnZSBDb21wb25lbnQgVGFiXG5ATkFNRSA6IGluZGV4LmpzXG5AQVVUSE9SUzogSmF5IEhpdGVzaCBTYW5naGF2aVxuQFZlcnNpb24gOiAxLjAgXG5AUkVWSVNJT04gSElTVE9SWVxuWzAzLzExLzIwMTldIFtKYXldIDogUHJvdG90eXBpbmcuLi4uLi4uLi4uLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgd2l0aFN0eWxlcywgR3JpZCwgUGFwZXIgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XG5pbXBvcnQgVGhlbWVQcm92aWRlciBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMvTXVpVGhlbWVQcm92aWRlcic7XG5pbXBvcnQgQWxlcnREaWFsb2cgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9EaWFsb2cnO1xuaW1wb3J0IHsgUGFnZVRoZW1lLCBjdXN0b21UaGVtZSB9IGZyb20gJy4uLy4uLy4uL3RoZW1lJztcbmltcG9ydCAqIGFzIGFjdGlvblR5cGVzIGZyb20gXCIuLi8uLi8uLi9zdG9yZS9hY3Rpb25zL2FjdGlvblR5cGVzXCI7XG5pbXBvcnQgKiBhcyBhY3Rpb25DcmVhdG9ycyBmcm9tIFwiLi4vLi4vLi4vc3RvcmUvYWN0aW9ucy9leHBvcnRBY3Rpb25DcmVhdG9yc1wiO1xuaW1wb3J0IFBvd2VyU3VtbWFyeSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL1Bvd2VyTWFuYWdlbWVudENvbXBvbmVudHMvUG93ZXJTdW1tYXJ5J1xuaW1wb3J0IFBvd2VyU3RhdGVUYWJsZSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL1Bvd2VyTWFuYWdlbWVudENvbXBvbmVudHMvUG93ZXJTdGF0ZVRhYmxlJ1xuXG5jb25zdCBzdHlsZXMgPSAodGhlbWUpID0+ICh7XG4gIHBvd2VyTWdtdENvbnRhaW5lcjoge1xuICAgIG1hcmdpbjogMCxcbiAgICBtYXhXaWR0aDogXCIxMDAlXCJcbiAgfSxcbiAgY29udGVudDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgcGFkZGluZzogdGhlbWUuc3BhY2luZygyLCAwKVxuICB9LFxuICB0b29sYmFyOiBjdXN0b21UaGVtZS50b29sYmFyLFxuICBjYXJkSGVhZGVyOiBjdXN0b21UaGVtZS5jYXJkLmhlYWRlcixcbiAgcG93ZXJNZ210UGFwZXI6IHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICB9LFxufSk7XG5cbmNsYXNzIFBvd2VyTWFuYWdlbWVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub3BlbkFsZXJ0ID0gdGhpcy5vcGVuQWxlcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUFsZXJ0Q2xvc2UgPSB0aGlzLmhhbmRsZUFsZXJ0Q2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLnRyaWdnZXJDb21tYW5kID0gdGhpcy50cmlnZ2VyQ29tbWFuZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25IYW5kbGVDaGFuZ2UgPSB0aGlzLm9uSGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgcG93ZXJtb2RlOidNYW51YWwnLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgfVxuXG4gIG9wZW5BbGVydChvcGVyYXRpb25UeXBlKSB7XG4gICAgdGhpcy5wcm9wcy5vcGVuQWxlcnRCb3goe1xuICAgICAgYWxlcnRPcGVuOiB0cnVlLFxuICAgICAgYWRkRGVsZXRlU2VuZDogb3BlcmF0aW9uVHlwZSxcbiAgICAgIGFsZXJ0dHlwZTogJ2RlbGV0ZScsXG4gICAgICBpc3R5cGVhbGVydDogZmFsc2UsXG4gICAgICBhbGVydHRpdGxlOiBgJHtvcGVyYXRpb25UeXBlfSBTeXN0ZW1gLFxuICAgICAgYWxlcnRkZXNjcmlwdGlvbjogYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byAke29wZXJhdGlvblR5cGV9IHRoZSBzeXN0ZW0/YCxcbiAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHRyaWdnZXJDb21tYW5kKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFkZERlbGV0ZVNlbmQgPT09ICdSZWJvb3QnKSB7XG4gICAgICB0aGlzLnByb3BzLnJlYm9vdFN5c3RlbSgpO1xuICAgICAgdGhpcy5oYW5kbGVBbGVydENsb3NlKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmFkZERlbGV0ZVNlbmQgPT09ICdTaHV0ZG93bicpIHtcbiAgICAgIHRoaXMucHJvcHMuc2h1dGRvd25TeXN0ZW0oKTtcbiAgICAgIHRoaXMuaGFuZGxlQWxlcnRDbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUFsZXJ0Q2xvc2UoKSB7XG4gICAgdGhpcy5wcm9wcy5vcGVuQWxlcnRCb3goe1xuICAgICAgYWxlcnRPcGVuOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgb25IYW5kbGVDaGFuZ2UoZXZlbnQpe1xuICAgICAgY29uc3Qge25hbWUsdmFsdWV9ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICBbbmFtZV06dmFsdWVcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPFRoZW1lUHJvdmlkZXIgdGhlbWU9e1BhZ2VUaGVtZX0+XG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250ZW50fT5cbiAgICAgICAgICA8R3JpZCBkYXRhLXRlc3RpZD1cIlBvd2VyTWFuYWdlbWVudC1jb250YWluZXJcIiBjb250YWluZXIgY2xhc3NOYW1lPXtjbGFzc2VzLnBvd2VyTWdtdENvbnRhaW5lcn0+XG4gICAgICAgICAgICA8UGFwZXIgY2xhc3NOYW1lPXtjbGFzc2VzLnBvd2VyTWdtdFBhcGVyfT5cbiAgICAgICAgICAgICAgPFBvd2VyU3VtbWFyeSAvPlxuICAgICAgICAgICAgICA8UG93ZXJTdGF0ZVRhYmxlIHBvd2VybW9kZT17dGhpcy5zdGF0ZS5wb3dlcm1vZGV9IGhhbmRsZUNoYW5nZT17dGhpcy5vbkhhbmRsZUNoYW5nZX0gLz5cbiAgICAgICAgICAgIDwvUGFwZXI+XG4gICAgICAgICAgPC9HcmlkPlxuICAgICAgICA8L21haW4+XG4gICAgICAgIDxBbGVydERpYWxvZ1xuICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmFsZXJ0dGl0bGV9XG4gICAgICAgICAgZGVzY3JpcHRpb249e3RoaXMucHJvcHMuYWxlcnRkZXNjcmlwdGlvbn1cbiAgICAgICAgICBvcGVuPXt0aGlzLnByb3BzLmFsZXJ0T3Blbn1cbiAgICAgICAgICB0eXBlPXt0aGlzLnByb3BzLmFsZXJ0dHlwZX1cbiAgICAgICAgICBoYW5kbGVDbG9zZT17dGhpcy5oYW5kbGVBbGVydENsb3NlfVxuICAgICAgICAgIG9uQ29uZmlybT17dGhpcy50cmlnZ2VyQ29tbWFuZH1cbiAgICAgICAgLz5cbiAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhbGVydE9wZW46c3RhdGUuYWxlcnRNYW5hZ2VtZW50UmVkdWNlci5hbGVydE9wZW4sXG4gICAgYWRkRGVsZXRlU2VuZDogc3RhdGUuYWxlcnRNYW5hZ2VtZW50UmVkdWNlci5hZGREZWxldGVTZW5kLFxuICAgIGFsZXJ0dHlwZTogc3RhdGUuYWxlcnRNYW5hZ2VtZW50UmVkdWNlci5hbGVydHR5cGUsXG4gICAgaXN0eXBlYWxlcnQ6IHN0YXRlLmFsZXJ0TWFuYWdlbWVudFJlZHVjZXIuaXN0eXBlYWxlcnQsXG4gICAgYWxlcnR0aXRsZTogc3RhdGUuYWxlcnRNYW5hZ2VtZW50UmVkdWNlci5hbGVydHRpdGxlLFxuICAgIGFsZXJ0ZGVzY3JpcHRpb246IHN0YXRlLmFsZXJ0TWFuYWdlbWVudFJlZHVjZXIuYWxlcnRkZXNjcmlwdGlvbixcbiAgfTtcbn1cblxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gZGlzcGF0Y2ggPT4ge1xuICByZXR1cm4ge1xuICAgIG9wZW5BbGVydEJveDogKGFsZXJ0UGFyYW0pID0+IGRpc3BhdGNoKGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveChhbGVydFBhcmFtKSksXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzKSgoY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykpKCgoUG93ZXJNYW5hZ2VtZW50KSkpKTsiXX0=