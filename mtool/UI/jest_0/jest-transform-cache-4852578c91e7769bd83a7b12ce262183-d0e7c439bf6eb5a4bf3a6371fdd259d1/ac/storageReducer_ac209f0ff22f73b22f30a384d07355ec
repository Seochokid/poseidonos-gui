0c9ea677463f5976e9376cd863e79b37
"use strict";

var _interopRequireWildcard = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.initialState = void 0;

var _defineProperty2 = _interopRequireDefault(require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/defineProperty"));

var actionTypes = _interopRequireWildcard(require("../actions/actionTypes"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

const initialState = {
  ssds: [],
  volumes: [],
  metadisks: [],
  loading: false,
  alertOpen: false,
  alertType: 'alert',
  alertTitle: '',
  errorMsg: '',
  errorCode: '',
  arraySize: 0,
  maxVolumeCount: 256,
  createVolumeButton: false,
  totalVolSize: 0,
  storagedisks: [],
  sparedisks: [],
  writebufferdisks: [],
  metadiskpath: '',
  slots: [],
  arrayExists: false,
  RAIDLevel: '',
  loadText: 'Loading...',
  diskDetails: {
    DevicePath: 'NA',
    SerialNumber: 'NA',
    ModelNumber: 'NA',
    PhysicalSize: 'NA',
    UsedBytes: 'NA',
    Firmware: 'NA',
    critical_warning: 'NA',
    temperature: 'NA',
    avail_spare: 'NA',
    spare_thresh: 'NA',
    precent_used: 'NA',
    data_units_read: 'NA',
    data_units_written: 'NA',
    critical_comp_time: 'NA',
    warning_temp_time: 'NA',
    percent_used: 'NA'
  }
};
exports.initialState = initialState;

const bytesToGB = size => {
  return parseInt(size / (1024 * 1024 * 1024), 10);
};

const storageReducer = (state = initialState, action) => {
  switch (action.type) {
    case actionTypes.FETCH_DEVICE_INFO:
      return _objectSpread({}, state, {
        ssds: action.ssds,
        metadisks: action.metadisks
      });

    case actionTypes.STORAGE_SHOW_ALERT:
      return _objectSpread({}, state, {
        alertOpen: true
      }, action.payload);

    case actionTypes.FETCH_ARRAY_SIZE:
      return _objectSpread({}, state, {
        arraySize: action.payload
      });

    case actionTypes.FETCH_MAX_VOLUME_COUNT:
      return _objectSpread({}, state, {
        maxVolumeCount: action.payload
      });

    case actionTypes.TOGGLE_CREATE_VOLUME_BUTTON:
      return _objectSpread({}, state, {
        createVolumeButton: action.payload
      });

    case actionTypes.FETCH_ARRAY:
      return _objectSpread({}, state, {}, action.payload, {
        arrayExists: true
      });

    case actionTypes.SET_NO_ARRAY:
      return _objectSpread({}, state, {
        arrayExists: false
      });

    case actionTypes.FETCH_VOLUMES:
      {
        return _objectSpread({}, state, {}, action.payload);
      }

    case actionTypes.CLEAR_VOLUMES:
      {
        return _objectSpread({}, state, {
          volumes: []
        });
      }

    case actionTypes.ADD_VOLUME:
      {
        return _objectSpread({}, state, {
          volumes: [...state.volumes, {
            name: action.volume.Name,
            id: action.volume.Id,
            size: bytesToGB(action.volume.Capacity.Data.AllocatedBytes),
            usedspace: bytesToGB(action.volume.Capacity.Data.ConsumedBytes),
            maxiops: action.volume.Oem.MaxIOPS,
            maxbw: action.volume.Oem.MaxBandwidth,
            status: action.volume.Status.Oem.VolumeStatus
          }]
        });
      }

    case actionTypes.SELECT_VOLUME:
      return _objectSpread({}, state, {
        volumes: [...state.volumes.slice(0, action.payload.index), _objectSpread({}, state.volumes[action.payload.index], {
          selected: action.payload.value
        }), ...state.volumes.slice(action.payload.index + 1)]
      });

    case actionTypes.SELECT_ALL_VOLUMES:
      return _objectSpread({}, state, {
        volumes: state.volumes.map(vol => {
          return _objectSpread({}, vol, {
            selected: action.payload.value
          });
        })
      });

    case actionTypes.STORAGE_CLOSE_ALERT:
      return _objectSpread({}, state, {
        alertOpen: false
      });

    case actionTypes.EDIT_VOLUME:
      {
        const volumes = state.volumes.map(vol => {
          return vol.id === action.payload.id ? _objectSpread({}, vol, {
            edit: true
          }) : _objectSpread({}, vol, {
            edit: false
          });
        });
        return _objectSpread({}, state, {
          volumes
        });
      }

    case actionTypes.CHANGE_VOLUME_FIELD:
      {
        const volumes = state.volumes.map(vol => {
          return vol.id === action.payload.id ? _objectSpread({}, vol, {
            [action.payload.name]: action.payload.value
          }) : _objectSpread({}, vol);
        });
        return _objectSpread({}, state, {
          volumes
        });
      }

    case actionTypes.STORAGE_START_LOADER:
      return _objectSpread({}, state, {
        loading: true,
        loadText: action.payload
      });

    case actionTypes.STORAGE_STOP_LOADER:
      return _objectSpread({}, state, {
        loading: false
      });

    case actionTypes.FETCH_DEVICE_DETAILS:
      return _objectSpread({}, state, {
        diskDetails: action.payload
      });

    default:
      return state;
  }
};

var _default = storageReducer;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0b3JhZ2VSZWR1Y2VyLmpzIl0sIm5hbWVzIjpbImluaXRpYWxTdGF0ZSIsInNzZHMiLCJ2b2x1bWVzIiwibWV0YWRpc2tzIiwibG9hZGluZyIsImFsZXJ0T3BlbiIsImFsZXJ0VHlwZSIsImFsZXJ0VGl0bGUiLCJlcnJvck1zZyIsImVycm9yQ29kZSIsImFycmF5U2l6ZSIsIm1heFZvbHVtZUNvdW50IiwiY3JlYXRlVm9sdW1lQnV0dG9uIiwidG90YWxWb2xTaXplIiwic3RvcmFnZWRpc2tzIiwic3BhcmVkaXNrcyIsIndyaXRlYnVmZmVyZGlza3MiLCJtZXRhZGlza3BhdGgiLCJzbG90cyIsImFycmF5RXhpc3RzIiwiUkFJRExldmVsIiwibG9hZFRleHQiLCJkaXNrRGV0YWlscyIsIkRldmljZVBhdGgiLCJTZXJpYWxOdW1iZXIiLCJNb2RlbE51bWJlciIsIlBoeXNpY2FsU2l6ZSIsIlVzZWRCeXRlcyIsIkZpcm13YXJlIiwiY3JpdGljYWxfd2FybmluZyIsInRlbXBlcmF0dXJlIiwiYXZhaWxfc3BhcmUiLCJzcGFyZV90aHJlc2giLCJwcmVjZW50X3VzZWQiLCJkYXRhX3VuaXRzX3JlYWQiLCJkYXRhX3VuaXRzX3dyaXR0ZW4iLCJjcml0aWNhbF9jb21wX3RpbWUiLCJ3YXJuaW5nX3RlbXBfdGltZSIsInBlcmNlbnRfdXNlZCIsImJ5dGVzVG9HQiIsInNpemUiLCJwYXJzZUludCIsInN0b3JhZ2VSZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJ0eXBlIiwiYWN0aW9uVHlwZXMiLCJGRVRDSF9ERVZJQ0VfSU5GTyIsIlNUT1JBR0VfU0hPV19BTEVSVCIsInBheWxvYWQiLCJGRVRDSF9BUlJBWV9TSVpFIiwiRkVUQ0hfTUFYX1ZPTFVNRV9DT1VOVCIsIlRPR0dMRV9DUkVBVEVfVk9MVU1FX0JVVFRPTiIsIkZFVENIX0FSUkFZIiwiU0VUX05PX0FSUkFZIiwiRkVUQ0hfVk9MVU1FUyIsIkNMRUFSX1ZPTFVNRVMiLCJBRERfVk9MVU1FIiwibmFtZSIsInZvbHVtZSIsIk5hbWUiLCJpZCIsIklkIiwiQ2FwYWNpdHkiLCJEYXRhIiwiQWxsb2NhdGVkQnl0ZXMiLCJ1c2Vkc3BhY2UiLCJDb25zdW1lZEJ5dGVzIiwibWF4aW9wcyIsIk9lbSIsIk1heElPUFMiLCJtYXhidyIsIk1heEJhbmR3aWR0aCIsInN0YXR1cyIsIlN0YXR1cyIsIlZvbHVtZVN0YXR1cyIsIlNFTEVDVF9WT0xVTUUiLCJzbGljZSIsImluZGV4Iiwic2VsZWN0ZWQiLCJ2YWx1ZSIsIlNFTEVDVF9BTExfVk9MVU1FUyIsIm1hcCIsInZvbCIsIlNUT1JBR0VfQ0xPU0VfQUxFUlQiLCJFRElUX1ZPTFVNRSIsImVkaXQiLCJDSEFOR0VfVk9MVU1FX0ZJRUxEIiwiU1RPUkFHRV9TVEFSVF9MT0FERVIiLCJTVE9SQUdFX1NUT1BfTE9BREVSIiwiRkVUQ0hfREVWSUNFX0RFVEFJTFMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUEyQkE7Ozs7OztBQUVPLE1BQU1BLFlBQVksR0FBRztBQUN4QkMsRUFBQUEsSUFBSSxFQUFFLEVBRGtCO0FBRXhCQyxFQUFBQSxPQUFPLEVBQUUsRUFGZTtBQUd4QkMsRUFBQUEsU0FBUyxFQUFFLEVBSGE7QUFJeEJDLEVBQUFBLE9BQU8sRUFBRSxLQUplO0FBS3hCQyxFQUFBQSxTQUFTLEVBQUUsS0FMYTtBQU14QkMsRUFBQUEsU0FBUyxFQUFFLE9BTmE7QUFPeEJDLEVBQUFBLFVBQVUsRUFBRSxFQVBZO0FBUXhCQyxFQUFBQSxRQUFRLEVBQUUsRUFSYztBQVN4QkMsRUFBQUEsU0FBUyxFQUFFLEVBVGE7QUFVeEJDLEVBQUFBLFNBQVMsRUFBRSxDQVZhO0FBV3hCQyxFQUFBQSxjQUFjLEVBQUUsR0FYUTtBQVl4QkMsRUFBQUEsa0JBQWtCLEVBQUUsS0FaSTtBQWF4QkMsRUFBQUEsWUFBWSxFQUFFLENBYlU7QUFjeEJDLEVBQUFBLFlBQVksRUFBRSxFQWRVO0FBZXhCQyxFQUFBQSxVQUFVLEVBQUUsRUFmWTtBQWdCeEJDLEVBQUFBLGdCQUFnQixFQUFFLEVBaEJNO0FB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O0FBRUl6QyxVQUFBQTtBQUZKO0FBSUg7O0FBQ0QsU0FBSzRDLFdBQVcsQ0FBQzBDLG9CQUFqQjtBQUNJLCtCQUNPN0MsS0FEUDtBQUVJdkMsUUFBQUEsT0FBTyxFQUFFLElBRmI7QUFHSWlCLFFBQUFBLFFBQVEsRUFBRXVCLE1BQU0sQ0FBQ0s7QUFIckI7O0FBS0osU0FBS0gsV0FBVyxDQUFDMkMsbUJBQWpCO0FBQ0ksK0JBQ085QyxLQURQO0FBRUl2QyxRQUFBQSxPQUFPLEVBQUU7QUFGYjs7QUFJSixTQUFLMEMsV0FBVyxDQUFDNEMsb0JBQWpCO0FBQ0ksK0JBQ08vQyxLQURQO0FBRUlyQixRQUFBQSxXQUFXLEVBQUVzQixNQUFNLENBQUNLO0FBRnhCOztBQUlKO0FBQ0ksYUFBT04sS0FBUDtBQTdJUjtBQStJSCxDQWhKRDs7ZUFrSmVELGMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgIENPUFlSSUdIVCAoYykgMjAxOSBTQU1TVU5HIEVMRUNUUk9OSUNTIENPLiwgTFRELiAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICBBTEwgUklHSFRTIFJFU0VSVkVEICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQgdG8gbGljZW5zZWVzIG9mIFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuICAgICAgICAvXG4vICAgcHJvZHVjdHMgdG8gdXNlIG9yIGFic3RyYWN0IHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSBmb3IgdGhlIHNvbGUgcHVycG9zZSBvZiAgICAgICAgIC9cbi8gICBpbXBsZW1lbnRpbmcgYSBwcm9kdWN0IGJhc2VkIG9uIFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuIHByb2R1Y3RzLiAgICAgICAgICAgL1xuLyAgIE5vIG90aGVyIHJpZ2h0cyB0byByZXByb2R1Y2UsIHVzZSwgb3IgZGlzc2VtaW5hdGUgdGhpcyBjb21wdXRlciBwcm9ncmFtLCAgICAgICAgICAvXG4vICAgd2hldGhlciBpbiBwYXJ0IG9yIGluIHdob2xlLCBhcmUgZ3JhbnRlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiBtYWtlcyBubyByZXByZXNlbnRhdGlvbiBvciB3YXJyYW50aWVzIHdpdGggICAgICAgICAgL1xuLyAgIHJlc3BlY3QgdG8gdGhlIHBlcmZvcm1hbmNlIG9mIHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSwgYW5kIHNwZWNpZmljYWxseSBkaXNjbGFpbXMgICAvXG4vICAgYW55IHJlc3BvbnNpYmlsaXR5IGZvciBhbnkgZGFtYWdlcywgc3BlY2lhbCBvciBjb25zZXF1ZW50aWFsLCBjb25uZWN0ZWQgICAgICAgICAgIC9cbi8gICB3aXRoIHRoZSB1c2Ugb2YgdGhpcyBwcm9ncmFtLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS9cblxuXG5ERVNDUklQVElPTjogPENvbnRhaW5zIHJlZHVjZXIgZnVuY3Rpb24gZm9yIFN0b3JhZ2UgTWFuYWdlbWVudCBDb21wb25lbnQ+ICpcbkBOQU1FIDogc3RvcmFnZVJlZHVjZXIuanNcbkBBVVRIT1JTOiBBc3dpbiBLIEtcbkBWZXJzaW9uIDogMS4wICpcbkBSRVZJU0lPTiBISVNUT1JZXG5bMDMvMDYvMjAxOV0gW0pheV0gOiBQcm90b3R5cGluZy4uLi4uLi4uLi4vLy8vLy8vLy8vLy8vLy8vLy8vL1xuKi9cblxuaW1wb3J0ICogYXMgYWN0aW9uVHlwZXMgZnJvbSBcIi4uL2FjdGlvbnMvYWN0aW9uVHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgICBzc2RzOiBbXSxcbiAgICB2b2x1bWVzOiBbXSxcbiAgICBtZXRhZGlza3M6IFtdLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIGFsZXJ0T3BlbjogZmFsc2UsXG4gICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgIGFsZXJ0VGl0bGU6ICcnLFxuICAgIGVycm9yTXNnOiAnJyxcbiAgICBlcnJvckNvZGU6ICcnLFxuICAgIGFycmF5U2l6ZTogMCxcbiAgICBtYXhWb2x1bWVDb3VudDogMjU2LFxuICAgIGNyZWF0ZVZvbHVtZUJ1dHRvbjogZmFsc2UsXG4gICAgdG90YWxWb2xTaXplOiAwLFxuICAgIHN0b3JhZ2VkaXNrczogW10sXG4gICAgc3BhcmVkaXNrczogW10sXG4gICAgd3JpdGVidWZmZXJkaXNrczogW10sXG4gICAgbWV0YWRpc2twYXRoOiAnJyxcbiAgICBzbG90czogW10sXG4gICAgYXJyYXlFeGlzdHM6IGZhbHNlLFxuICAgIFJBSURMZXZlbDogJycsXG4gICAgbG9hZFRleHQ6ICdMb2FkaW5nLi4uJyxcbiAgICBkaXNrRGV0YWlsczoge1xuICAgICAgICBEZXZpY2VQYXRoOiAnTkEnLFxuICAgICAgICBTZXJpYWxOdW1iZXI6ICdOQScsXG4gICAgICAgIE1vZGVsTnVtYmVyOiAnTkEnLFxuICAgICAgICBQaHlzaWNhbFNpemU6ICdOQScsXG4gICAgICAgIFVzZWRCeXRlczogJ05BJyxcbiAgICAgICAgRmlybXdhcmU6ICdOQScsXG4gICAgICAgIGNyaXRpY2FsX3dhcm5pbmc6ICdOQScsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAnTkEnLFxuICAgICAgICBhdmFpbF9zcGFyZTogJ05BJyxcbiAgICAgICAgc3BhcmVfdGhyZXNoOiAnTkEnLFxuICAgICAgICBwcmVjZW50X3VzZWQ6ICdOQScsXG4gICAgICAgIGRhdGFfdW5pdHNfcmVhZDogJ05BJyxcbiAgICAgICAgZGF0YV91bml0c193cml0dGVuOiAnTkEnLFxuICAgICAgICBjcml0aWNhbF9jb21wX3RpbWU6ICdOQScsXG4gICAgICAgIHdhcm5pbmdfdGVtcF90aW1lOiAnTkEnLFxuICAgICAgICBwZXJjZW50X3VzZWQ6ICdOQScsXG4gICAgfVxufVxuXG5jb25zdCBieXRlc1RvR0IgPSAoc2l6ZSkgPT4ge1xuICAgIHJldHVybiBwYXJzZUludChzaXplLygxMDI0ICogMTAyNCAqIDEwMjQpLCAxMClcbn1cblxuY29uc3Qgc3RvcmFnZVJlZHVjZXIgPSAoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbikgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9ERVZJQ0VfSU5GTzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgc3NkczogYWN0aW9uLnNzZHMsXG4gICAgICAgICAgICAgICAgbWV0YWRpc2tzOiBhY3Rpb24ubWV0YWRpc2tzXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuU1RPUkFHRV9TSE9XX0FMRVJUOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgLi4uYWN0aW9uLnBheWxvYWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9BUlJBWV9TSVpFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICBhcnJheVNpemU6IGFjdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfTUFYX1ZPTFVNRV9DT1VOVDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgbWF4Vm9sdW1lQ291bnQ6IGFjdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuVE9HR0xFX0NSRUFURV9WT0xVTUVfQlVUVE9OOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWb2x1bWVCdXR0b246IGFjdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuRkVUQ0hfQVJSQVk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIC4uLmFjdGlvbi5wYXlsb2FkLFxuICAgICAgICAgICAgICAgIGFycmF5RXhpc3RzOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuU0VUX05PX0FSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICBhcnJheUV4aXN0czogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9WT0xVTUVTOiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIC4uLmFjdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5DTEVBUl9WT0xVTUVTOiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIHZvbHVtZXM6IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5BRERfVk9MVU1FOiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIHZvbHVtZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUudm9sdW1lcyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYWN0aW9uLnZvbHVtZS5OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFjdGlvbi52b2x1bWUuSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBieXRlc1RvR0IoYWN0aW9uLnZvbHVtZS5DYXBhY2l0eS5EYXRhLkFsbG9jYXRlZEJ5dGVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZWRzcGFjZTogYnl0ZXNUb0dCKGFjdGlvbi52b2x1bWUuQ2FwYWNpdHkuRGF0YS5Db25zdW1lZEJ5dGVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGlvcHM6IGFjdGlvbi52b2x1bWUuT2VtLk1heElPUFMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhidzogYWN0aW9uLnZvbHVtZS5PZW0uTWF4QmFuZHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBhY3Rpb24udm9sdW1lLlN0YXR1cy5PZW0uVm9sdW1lU3RhdHVzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5TRUxFQ1RfVk9MVU1FOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICB2b2x1bWVzOiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLnZvbHVtZXMuc2xpY2UoMCwgYWN0aW9uLnBheWxvYWQuaW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZS52b2x1bWVzW2FjdGlvbi5wYXlsb2FkLmluZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBhY3Rpb24ucGF5bG9hZC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZS52b2x1bWVzLnNsaWNlKGFjdGlvbi5wYXlsb2FkLmluZGV4ICsgMSlcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuU0VMRUNUX0FMTF9WT0xVTUVTOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICB2b2x1bWVzOiBzdGF0ZS52b2x1bWVzLm1hcCh2b2wgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4udm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGFjdGlvbi5wYXlsb2FkLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIGFjdGlvblR5cGVzLlNUT1JBR0VfQ0xPU0VfQUxFUlQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIGFsZXJ0T3BlbjogZmFsc2UsXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuRURJVF9WT0xVTUU6IHtcbiAgICAgICAgICAgIGNvbnN0IHZvbHVtZXMgPSBzdGF0ZS52b2x1bWVzLm1hcCgodm9sKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvbC5pZCA9PT0gYWN0aW9uLnBheWxvYWQuaWQgPyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnZvbCxcbiAgICAgICAgICAgICAgICAgICAgZWRpdDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi52b2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0OiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIHZvbHVtZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIGFjdGlvblR5cGVzLkNIQU5HRV9WT0xVTUVfRklFTEQ6IHtcbiAgICAgICAgICAgIGNvbnN0IHZvbHVtZXMgPSBzdGF0ZS52b2x1bWVzLm1hcCgodm9sKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZvbC5pZCA9PT0gYWN0aW9uLnBheWxvYWQuaWQgPyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnZvbCxcbiAgICAgICAgICAgICAgICAgICAgW2FjdGlvbi5wYXlsb2FkLm5hbWVdOiBhY3Rpb24ucGF5bG9hZC52YWx1ZVxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi52b2wsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgdm9sdW1lc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuU1RPUkFHRV9TVEFSVF9MT0FERVI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgbG9hZFRleHQ6IGFjdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgYWN0aW9uVHlwZXMuU1RPUkFHRV9TVE9QX0xPQURFUjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBhY3Rpb25UeXBlcy5GRVRDSF9ERVZJQ0VfREVUQUlMUzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgZGlza0RldGFpbHM6IGFjdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBzdG9yYWdlUmVkdWNlcjtcbiJdfQ==