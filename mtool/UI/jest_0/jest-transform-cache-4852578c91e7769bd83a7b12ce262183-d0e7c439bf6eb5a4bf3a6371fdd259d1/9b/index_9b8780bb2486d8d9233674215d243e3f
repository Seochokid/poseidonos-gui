5470d199479f916073b5c27671c143d2
"use strict";

var _interopRequireWildcard = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _materialTable = _interopRequireDefault(require("material-table"));

var _MuiThemeProvider = _interopRequireDefault(require("@material-ui/core/styles/MuiThemeProvider"));

var _styles = require("@material-ui/core/styles");

var _materialUiPhoneNumber = _interopRequireDefault(require("material-ui-phone-number"));

var _core = require("@material-ui/core");

var _icons = require("@material-ui/icons");

var _Delete = _interopRequireDefault(require("@material-ui/icons/Delete"));

require("./UserTable.css");

var _theme = require("../../theme");

var _jsxFileName = "/home/ibof07/pk/ibofmgmt/Code/UI/src/components/UserTable/index.js";

const styles = theme => {
  return {
    titleContainer: {
      maxWidth: '100%',
      flexBasis: '100%'
    },
    pageHeader: {
      textAlign: 'left',
      fontSize: '16px',
      fontWeight: 'bold',
      color: '#424850',
      marginBottom: theme.spacing(1)
    },
    userListTypography: {
      textAlign: 'left',
      fontSize: '14px',
      fontWeight: 'bold',
      color: '#424850',
      margin: theme.spacing(1.5)
    },
    tableContainer: {
      maxWidth: '100%',
      flexBasis: '100%'
    },
    userListGrid: {
      background: 'white',
      fontSize: '14px',
      maxWidth: '100%',
      flexBasis: '100%',
      border: '1px solid gray'
    }
  };
};

function validate(newData) {
  if (!newData || !newData.email || !(newData.email.indexOf('@') > -1) || !(newData.email.indexOf('.') > -1)) return false;
  return true;
}

class UserTable extends _react.Component {
  constructor(props) {
    super(props);
    this.theme = (0, _core.createMuiTheme)({
      typography: {
        fontSize: 12,
        fontFamily: 'Arial'
      },
      palette: {
        primary: {
          main: '#4caf50'
        },
        secondary: {
          main: '#ff9100'
        }
      }
    });
    this.state = {
      columns: [{
        title: 'Role',
        field: 'role',
        editable: 'never',
        render: row => row.role ? row.role.toUpperCase() : ''
      }, {
        title: 'User Name',
        field: '_id',
        editable: 'never',
        cellStyle: {
          maxWidth: "200px",
          overflowWrap: "break-word"
        }
      },
      /*
              {
                title: 'API Enable',
                field: 'active',
                editable: 'never',
                render: row =>
                  (
                    <Switch
                      disabled={(row && row.tableData && row.tableData.editing === 'update')}
                      size="small"
                      checked={row.active}
                      onChange={() => this.props.toggleUserStatus(row.tableData.id)}
                      color="primary"
                      inputProps={{ 'aria-label': 'primary checkbox', title: 'api-enable' }}
                      id = {`UserTable-togglebtn-${row._id}`}
                    />
                  ),
              },
      */
      {
        title: 'Phone',
        field: 'phone_number',
        headerStyle: {
          textAlign: 'left'
        },
        cellStyle: {
          textAlign: 'left'
        },
        editComponent: row => _react.default.createElement(_materialUiPhoneNumber.default, {
          onChange: value => this.props.OnHandleChange({
            target: {
              value,
              name: 'phone_number'
            }
          }),
          inputProps: {
            name: 'phone_number',
            default: row.phone_number,
            id: `UserTable-phone-${row}`
          },
          value: this.props.phone_number,
          required: true,
          label: "" // onlyCountries={['in', 'kr']}
          ,
          defaultCountry: "kr",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 144
          },
          __self: this
        })
      }, {
        title: 'Email',
        field: 'email'
      }, {
        title: 'Privilege',
        field: 'privileges',
        editable: 'never'
      }]
    };
  }

  render() {
    const classes = this.props.classes;
    return _react.default.createElement(_core.Grid, {
      item: true,
      container: true,
      sm: 6,
      xs: 12,
      className: classes.titleContainer,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 175
      },
      __self: this
    }, _react.default.createElement(_core.Grid, {
      sm: 6,
      xs: 12,
      item: true,
      className: classes.tableContainer,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 176
      },
      __self: this
    }, _react.default.createElement(_core.Grid, {
      sm: 6,
      xs: 12,
      item: true,
      className: classes.userListGrid,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 177
      },
      __self: this
    }, _react.default.createElement(_MuiThemeProvider.default, {
      theme: this.theme,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 178
      },
      __self: this
    }, _react.default.createElement(_core.Typography, {
      className: classes.userListTypography,
      variant: "h3",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 179
      },
      __self: this
    }, "User List"), _react.default.createElement(_materialTable.default, {
      editable: {
        onRowUpdate: (newData, oldData) => new Promise((resolve, reject) => {
          setTimeout(() => {
            const valid = validate(newData);

            if (valid) {
              newData.phone_number = this.props.phone_number;
              this.props.saveChange(newData, oldData.tableData.id);
            } else {
              this.props.openAlertBox({
                istypealert: true,
                alerttype: 'alert',
                alertOpen: true,
                alerttitle: 'Update User',
                alertdescription: 'Please enter a valid input'
              });
              reject();
            }

            resolve();
          }, 1000);
        }),
        onRowDelete: oldData => new Promise(resolve => {
          setTimeout(() => {
            {
              const event = {
                target: {
                  checked: true
                }
              };
              this.props.selectUser(event, oldData.tableData.id);
              this.props.deleteUsers();
            }
            resolve();
          }, 1000);
        })
      },
      icons: {
        Check: _icons.Check,
        FirstPage: _icons.FirstPage,
        LastPage: _icons.LastPage,
        NextPage: _icons.ChevronRight,
        PreviousPage: _icons.ChevronLeft,
        Search: _icons.Search,
        ThirdStateCheck: _icons.Remove,
        DetailPanel: _icons.ChevronRight,
        Export: _icons.SaveAlt,
        Filter: _icons.FilterList,
        Add: _icons.Add,
        Edit: _icons.Edit,
        Delete: _Delete.default,
        SortArrow: _icons.ArrowUpward,
        Clear: _icons.Clear
      },
      columns: this.state.columns,
      data: this.props.users,
      options: {
        headerStyle: _theme.customTheme.table.header,
        actionsColumnIndex: -1,
        selection: false,
        sorting: true,
        toolbar: false,
        maxBodyHeight: '230px'
      },
      __source: {
        fileName: _jsxFileName,
        lineNumber: 180
      },
      __self: this
    })))));
  }

}

var _default = (0, _styles.withStyles)(styles)(UserTable);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInN0eWxlcyIsInRoZW1lIiwidGl0bGVDb250YWluZXIiLCJtYXhXaWR0aCIsImZsZXhCYXNpcyIsInBhZ2VIZWFkZXIiLCJ0ZXh0QWxpZ24iLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJjb2xvciIsIm1hcmdpbkJvdHRvbSIsInNwYWNpbmciLCJ1c2VyTGlzdFR5cG9ncmFwaHkiLCJtYXJnaW4iLCJ0YWJsZUNvbnRhaW5lciIsInVzZXJMaXN0R3JpZCIsImJhY2tncm91bmQiLCJib3JkZXIiLCJ2YWxpZGF0ZSIsIm5ld0RhdGEiLCJlbWFpbCIsImluZGV4T2YiLCJVc2VyVGFibGUiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwidHlwb2dyYXBoeSIsImZvbnRGYW1pbHkiLCJwYWxldHRlIiwicHJpbWFyeSIsIm1haW4iLCJzZWNvbmRhcnkiLCJzdGF0ZSIsImNvbHVtbnMiLCJ0aXRsZSIsImZpZWxkIiwiZWRpdGFibGUiLCJyZW5kZXIiLCJyb3ciLCJyb2xlIiwidG9VcHBlckNhc2UiLCJjZWxsU3R5bGUiLCJvdmVyZmxvd1dyYXAiLCJoZWFkZXJTdHlsZSIsImVkaXRDb21wb25lbnQiLCJ2YWx1ZSIsIk9uSGFuZGxlQ2hhbmdlIiwidGFyZ2V0IiwibmFtZSIsImRlZmF1bHQiLCJwaG9uZV9udW1iZXIiLCJpZCIsImNsYXNzZXMiLCJvblJvd1VwZGF0ZSIsIm9sZERhdGEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNldFRpbWVvdXQiLCJ2YWxpZCIsInNhdmVDaGFuZ2UiLCJ0YWJsZURhdGEiLCJvcGVuQWxlcnRCb3giLCJpc3R5cGVhbGVydCIsImFsZXJ0dHlwZSIsImFsZXJ0T3BlbiIsImFsZXJ0dGl0bGUiLCJhbGVydGRlc2NyaXB0aW9uIiwib25Sb3dEZWxldGUiLCJldmVudCIsImNoZWNrZWQiLCJzZWxlY3RVc2VyIiwiZGVsZXRlVXNlcnMiLCJDaGVjayIsIkZpcnN0UGFnZSIsIkxhc3RQYWdlIiwiTmV4dFBhZ2UiLCJDaGV2cm9uUmlnaHQiLCJQcmV2aW91c1BhZ2UiLCJDaGV2cm9uTGVmdCIsIlNlYXJjaCIsIlRoaXJkU3RhdGVDaGVjayIsIlJlbW92ZSIsIkRldGFpbFBhbmVsIiwiRXhwb3J0IiwiU2F2ZUFsdCIsIkZpbHRlciIsIkZpbHRlckxpc3QiLCJBZGQiLCJFZGl0IiwiRGVsZXRlIiwiVHJhc2hJY29uIiwiU29ydEFycm93IiwiQXJyb3dVcHdhcmQiLCJDbGVhciIsInVzZXJzIiwiY3VzdG9tVGhlbWUiLCJ0YWJsZSIsImhlYWRlciIsImFjdGlvbnNDb2x1bW5JbmRleCIsInNlbGVjdGlvbiIsInNvcnRpbmciLCJ0b29sYmFyIiwibWF4Qm9keUhlaWdodCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUEyQkE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUlDLEtBQUQsSUFBVztBQUN4QixTQUFRO0FBQ05DLElBQUFBLGNBQWMsRUFBRTtBQUNkQyxNQUFBQSxRQUFRLEVBQUUsTUFESTtBQUVkQyxNQUFBQSxTQUFTLEVBQUU7QUFGRyxLQURWO0FBS05DLElBQUFBLFVBQVUsRUFBRTtBQUNWQyxNQUFBQSxTQUFTLEVBQUUsTUFERDtBQUVWQyxNQUFBQSxRQUFRLEVBQUUsTUFGQTtBQUdWQyxNQUFBQSxVQUFVLEVBQUUsTUFIRjtBQUlWQyxNQUFBQSxLQUFLLEVBQUUsU0FKRztBQUtWQyxNQUFBQSxZQUFZLEVBQUVULEtBQUssQ0FBQ1UsT0FBTixDQUFjLENBQWQ7QUFMSixLQUxOO0FBWU5DLElBQUFBLGtCQUFrQixFQUFFO0FBQ2xCTixNQUFBQSxTQUFTLEVBQUUsTUFETztBQUVsQkMsTUFBQUEsUUFBUSxFQUFFLE1BRlE7QUFHbEJDLE1BQUFBLFVBQVUsRUFBRSxNQUhNO0FBSWxCQyxNQUFBQSxLQUFLLEVBQUUsU0FKVztBQUtsQkksTUFBQUEsTUFBTSxFQUFFWixLQUFLLENB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S0FBTCxDQUFXc0UsS0F0RG5CO0FBdURFLE1BQUEsT0FBTyxFQUFFO0FBQ1BwRCxRQUFBQSxXQUFXLEVBQUVxRCxtQkFBWUMsS0FBWixDQUFrQkMsTUFEeEI7QUFFUEMsUUFBQUEsa0JBQWtCLEVBQUUsQ0FBQyxDQUZkO0FBR1BDLFFBQUFBLFNBQVMsRUFBRSxLQUhKO0FBSVBDLFFBQUFBLE9BQU8sRUFBRSxJQUpGO0FBS1BDLFFBQUFBLE9BQU8sRUFBRSxLQUxGO0FBTVBDLFFBQUFBLGFBQWEsRUFBRTtBQU5SLE9BdkRYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BRkYsQ0FERixDQURGLENBREYsQ0FERjtBQTJFRDs7QUExSytCOztlQTZLbkIsd0JBQVd2RyxNQUFYLEVBQW1Cc0IsU0FBbkIsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgQ09QWVJJR0hUIChjKSAyMDE5IFNBTVNVTkcgRUxFQ1RST05JQ1MgQ08uLCBMVEQuICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgIEFMTCBSSUdIVFMgUkVTRVJWRUQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCB0byBsaWNlbnNlZXMgb2YgU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gICAgICAgIC9cbi8gICBwcm9kdWN0cyB0byB1c2Ugb3IgYWJzdHJhY3QgdGhpcyBjb21wdXRlciBwcm9ncmFtIGZvciB0aGUgc29sZSBwdXJwb3NlIG9mICAgICAgICAgL1xuLyAgIGltcGxlbWVudGluZyBhIHByb2R1Y3QgYmFzZWQgb24gU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gcHJvZHVjdHMuICAgICAgICAgICAvXG4vICAgTm8gb3RoZXIgcmlnaHRzIHRvIHJlcHJvZHVjZSwgdXNlLCBvciBkaXNzZW1pbmF0ZSB0aGlzIGNvbXB1dGVyIHByb2dyYW0sICAgICAgICAgIC9cbi8gICB3aGV0aGVyIGluIHBhcnQgb3IgaW4gd2hvbGUsIGFyZSBncmFudGVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyBcbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgIFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuIG1ha2VzIG5vIHJlcHJlc2VudGF0aW9uIG9yIHdhcnJhbnRpZXMgd2l0aCAgICAgICAgICAvXG4vICAgcmVzcGVjdCB0byB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhpcyBjb21wdXRlciBwcm9ncmFtLCBhbmQgc3BlY2lmaWNhbGx5IGRpc2NsYWltcyAgIC9cbi8gICBhbnkgcmVzcG9uc2liaWxpdHkgZm9yIGFueSBkYW1hZ2VzLCBzcGVjaWFsIG9yIGNvbnNlcXVlbnRpYWwsIGNvbm5lY3RlZCAgICAgICAgICAgL1xuLyAgIHdpdGggdGhlIHVzZSBvZiB0aGlzIHByb2dyYW0uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL1xuXG5cbkRFU0NSSVBUSU9OOiBDb21wb25lbnQgY29ycmVzcG9uZGluZyB0byBsaXN0IG9mIHVzZXJzXG5ATkFNRSA6IGluZGV4LmpzXG5AQVVUSE9SUzogSmF5IEhpdGVzaCBTYW5naGF2aSBcbkBWZXJzaW9uIDogMS4wICpcbkBSRVZJU0lPTiBISVNUT1JZXG5bMDMvMDYvMjAxOV0gW0pheV0gOiBQcm90b3R5cGluZy4uLi4uLi4uLi4vLy8vLy8vLy8vLy8vLy8vLy8vL1xuWzA0LzA2LzIwMTldIFtBc3dpbl0gOiBSZXBsYWNlZCBuYXRpdmUgYWxlcnQgd2l0aCBjdXN0b20gYWxlcnQgY29tcG9uZW50XG4qL1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNYXRlcmlhbFRhYmxlIGZyb20gJ21hdGVyaWFsLXRhYmxlJztcbmltcG9ydCBUaGVtZVByb3ZpZGVyIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcy9NdWlUaGVtZVByb3ZpZGVyJztcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IE11aVBob25lTnVtYmVyIGZyb20gJ21hdGVyaWFsLXVpLXBob25lLW51bWJlcic7XG5pbXBvcnQgeyBHcmlkLCBUeXBvZ3JhcGh5LCBTd2l0Y2gsIGNyZWF0ZU11aVRoZW1lLCB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcbmltcG9ydCB7IEFkZCwgQXJyb3dVcHdhcmQsIENoZWNrLCBDaGV2cm9uTGVmdCwgQ2hldnJvblJpZ2h0LCBDbGVhciwgRWRpdCwgRmlsdGVyTGlzdCwgRmlyc3RQYWdlLCBMYXN0UGFnZSwgUmVtb3ZlLCBTYXZlQWx0LCBTZWFyY2ggfSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMnO1xuaW1wb3J0IFRyYXNoSWNvbiBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zL0RlbGV0ZVwiXG5pbXBvcnQgJy4vVXNlclRhYmxlLmNzcyc7XG5pbXBvcnQgeyBjdXN0b21UaGVtZSB9IGZyb20gXCIuLi8uLi90aGVtZVwiO1xuXG5jb25zdCBzdHlsZXMgPSAodGhlbWUpID0+IHtcbiAgcmV0dXJuICh7XG4gICAgdGl0bGVDb250YWluZXI6IHtcbiAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICBmbGV4QmFzaXM6ICcxMDAlJyxcbiAgICB9LFxuICAgIHBhZ2VIZWFkZXI6IHtcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcbiAgICAgIGNvbG9yOiAnIzQyNDg1MCcsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcoMSlcbiAgICB9LFxuICAgIHVzZXJMaXN0VHlwb2dyYXBoeToge1xuICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgY29sb3I6ICcjNDI0ODUwJyxcbiAgICAgIG1hcmdpbjogdGhlbWUuc3BhY2luZygxLjUpLFxuICAgIH0sXG4gICAgdGFibGVDb250YWluZXI6IHtcbiAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICBmbGV4QmFzaXM6ICcxMDAlJ1xuICAgIH0sXG4gICAgdXNlckxpc3RHcmlkOiB7XG4gICAgICBiYWNrZ3JvdW5kOiAnd2hpdGUnLFxuICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICBmbGV4QmFzaXM6ICcxMDAlJyxcbiAgICAgIGJvcmRlcjogJzFweCBzb2xpZCBncmF5J1xuICAgIH0sXG4gIH0pXG59O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZShuZXdEYXRhKSB7XG4gIGlmICghbmV3RGF0YSB8fCAhbmV3RGF0YS5lbWFpbCB8fCAhKG5ld0RhdGEuZW1haWwuaW5kZXhPZignQCcpID4gLTEpIHx8ICEobmV3RGF0YS5lbWFpbC5pbmRleE9mKCcuJykgPiAtMSkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuY2xhc3MgVXNlclRhYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy50aGVtZSA9IGNyZWF0ZU11aVRoZW1lKHtcbiAgICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnXG4gICAgICB9LFxuICAgICAgcGFsZXR0ZToge1xuICAgICAgICBwcmltYXJ5OiB7XG4gICAgICAgICAgbWFpbjogJyM0Y2FmNTAnLFxuICAgICAgICB9LFxuICAgICAgICBzZWNvbmRhcnk6IHtcbiAgICAgICAgICBtYWluOiAnI2ZmOTEwMCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnUm9sZScsXG4gICAgICAgICAgZmllbGQ6ICdyb2xlJyxcbiAgICAgICAgICBlZGl0YWJsZTogJ25ldmVyJyxcbiAgICAgICAgICByZW5kZXI6IHJvdyA9PnJvdy5yb2xlID8gcm93LnJvbGUudG9VcHBlckNhc2UoKSA6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogJ1VzZXIgTmFtZScsXG4gICAgICAgICAgZmllbGQ6ICdfaWQnLFxuICAgICAgICAgIGVkaXRhYmxlOiAnbmV2ZXInLFxuICAgICAgICAgIGNlbGxTdHlsZToge1xuICAgICAgICAgICAgbWF4V2lkdGg6IFwiMjAwcHhcIixcbiAgICAgICAgICAgIG92ZXJmbG93V3JhcDogXCJicmVhay13b3JkXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4vKlxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6ICdBUEkgRW5hYmxlJyxcbiAgICAgICAgICBmaWVsZDogJ2FjdGl2ZScsXG4gICAgICAgICAgZWRpdGFibGU6ICduZXZlcicsXG4gICAgICAgICAgcmVuZGVyOiByb3cgPT5cbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgPFN3aXRjaFxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXsocm93ICYmIHJvdy50YWJsZURhdGEgJiYgcm93LnRhYmxlRGF0YS5lZGl0aW5nID09PSAndXBkYXRlJyl9XG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtyb3cuYWN0aXZlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB0aGlzLnByb3BzLnRvZ2dsZVVzZXJTdGF0dXMocm93LnRhYmxlRGF0YS5pZCl9XG4gICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7ICdhcmlhLWxhYmVsJzogJ3ByaW1hcnkgY2hlY2tib3gnLCB0aXRsZTogJ2FwaS1lbmFibGUnIH19XG4gICAgICAgICAgICAgICAgaWQgPSB7YFVzZXJUYWJsZS10b2dnbGVidG4tJHtyb3cuX2lkfWB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICB9LFxuKi9cbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnUGhvbmUnLFxuICAgICAgICAgIGZpZWxkOiAncGhvbmVfbnVtYmVyJyxcbiAgICAgICAgICBoZWFkZXJTdHlsZToge1xuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbGxTdHlsZToge1xuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVkaXRDb21wb25lbnQ6IHJvdyA9PlxuICAgICAgICAgICAgKFxuICAgICAgICAgICAgICA8TXVpUGhvbmVOdW1iZXJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB0aGlzLnByb3BzLk9uSGFuZGxlQ2hhbmdlKHsgdGFyZ2V0OiB7IHZhbHVlLCBuYW1lOiAncGhvbmVfbnVtYmVyJyB9IH0pfVxuICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdwaG9uZV9udW1iZXInLFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcm93LnBob25lX251bWJlcixcbiAgICAgICAgICAgICAgICAgIGlkIDogYFVzZXJUYWJsZS1waG9uZS0keyByb3d9YFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMucGhvbmVfbnVtYmVyfVxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJcIlxuICAgICAgICAgICAgICAgIC8vIG9ubHlDb3VudHJpZXM9e1snaW4nLCAna3InXX1cbiAgICAgICAgICAgICAgICBkZWZhdWx0Q291bnRyeT1cImtyXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnRW1haWwnLFxuICAgICAgICAgIGZpZWxkOiAnZW1haWwnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6ICdQcml2aWxlZ2UnLFxuICAgICAgICAgIGZpZWxkOiAncHJpdmlsZWdlcycsXG4gICAgICAgICAgZWRpdGFibGU6ICduZXZlcidcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBzbT17Nn0geHM9ezEyfSBjbGFzc05hbWU9e2NsYXNzZXMudGl0bGVDb250YWluZXJ9PlxuICAgICAgICA8R3JpZCBzbT17Nn0geHM9ezEyfSBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy50YWJsZUNvbnRhaW5lcn0+XG4gICAgICAgICAgPEdyaWQgc209ezZ9IHhzPXsxMn0gaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMudXNlckxpc3RHcmlkfT5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyIHRoZW1lPXt0aGlzLnRoZW1lfT5cbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLnVzZXJMaXN0VHlwb2dyYXBoeX0gdmFyaWFudD1cImgzXCI+VXNlciBMaXN0PC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICA8TWF0ZXJpYWxUYWJsZVxuICAgICAgICAgICAgICAgIGVkaXRhYmxlPXt7XG4gICAgICAgICAgICAgICAgICBvblJvd1VwZGF0ZTogKG5ld0RhdGEsIG9sZERhdGEpID0+XG4gICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkID0gdmFsaWRhdGUobmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YS5waG9uZV9udW1iZXIgPSB0aGlzLnByb3BzLnBob25lX251bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zYXZlQ2hhbmdlKG5ld0RhdGEsIG9sZERhdGEudGFibGVEYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXN0eXBlYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnR0eXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0T3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydHRpdGxlOiAnVXBkYXRlIFVzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0ZGVzY3JpcHRpb246ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBpbnB1dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIG9uUm93RGVsZXRlOiBvbGREYXRhID0+XG4gICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0geyB0YXJnZXQ6IHsgY2hlY2tlZDogdHJ1ZSB9IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RVc2VyKGV2ZW50LCBvbGREYXRhLnRhYmxlRGF0YS5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVVc2VycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH19XG5cbiAgICAgICAgICAgICAgICBpY29ucz17e1xuICAgICAgICAgICAgICAgICAgQ2hlY2ssXG4gICAgICAgICAgICAgICAgICBGaXJzdFBhZ2UsXG4gICAgICAgICAgICAgICAgICBMYXN0UGFnZSxcbiAgICAgICAgICAgICAgICAgIE5leHRQYWdlOiBDaGV2cm9uUmlnaHQsXG4gICAgICAgICAgICAgICAgICBQcmV2aW91c1BhZ2U6IENoZXZyb25MZWZ0LFxuICAgICAgICAgICAgICAgICAgU2VhcmNoLFxuICAgICAgICAgICAgICAgICAgVGhpcmRTdGF0ZUNoZWNrOiBSZW1vdmUsXG4gICAgICAgICAgICAgICAgICBEZXRhaWxQYW5lbDogQ2hldnJvblJpZ2h0LFxuICAgICAgICAgICAgICAgICAgRXhwb3J0OiBTYXZlQWx0LFxuICAgICAgICAgICAgICAgICAgRmlsdGVyOiBGaWx0ZXJMaXN0LFxuICAgICAgICAgICAgICAgICAgQWRkLFxuICAgICAgICAgICAgICAgICAgRWRpdCxcbiAgICAgICAgICAgICAgICAgIERlbGV0ZTogVHJhc2hJY29uLFxuICAgICAgICAgICAgICAgICAgU29ydEFycm93OiBBcnJvd1Vwd2FyZCxcbiAgICAgICAgICAgICAgICAgIENsZWFyLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY29sdW1ucz17dGhpcy5zdGF0ZS5jb2x1bW5zfVxuICAgICAgICAgICAgICAgIGRhdGE9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17e1xuICAgICAgICAgICAgICAgICAgaGVhZGVyU3R5bGU6IGN1c3RvbVRoZW1lLnRhYmxlLmhlYWRlcixcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnNDb2x1bW5JbmRleDogLTEsXG4gICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgc29ydGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHRvb2xiYXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbWF4Qm9keUhlaWdodDogJzIzMHB4J1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9HcmlkPlxuICAgICAgICA8L0dyaWQ+XG4gICAgICA8L0dyaWQ+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcykoVXNlclRhYmxlKTtcbiJdfQ==