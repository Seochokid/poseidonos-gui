59c99183c423a88946eb2a8ea1fa6a37
"use strict";

jest.unmock("axios");

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

var _react = _interopRequireDefault(require("react"));

var _react2 = require("@testing-library/react");

var _reactRedux = require("react-redux");

var _testUtils = require("react-dom/test-utils");

var _reactI18next = require("react-i18next");

var _axios = _interopRequireDefault(require("axios"));

require("@testing-library/jest-dom/extend-expect");

var _axiosMockAdapter = _interopRequireDefault(require("axios-mock-adapter"));

var _history = require("history");

var _reactRouterDom = require("react-router-dom");

var _redux = require("redux");

var _reduxSaga = _interopRequireDefault(require("redux-saga"));

var _indexSaga = _interopRequireDefault(require("../../../sagas/indexSaga"));

var _alertManagementReducer = _interopRequireDefault(require("../../../store/reducers/alertManagementReducer"));

var _hardwareOverviewReducer = _interopRequireDefault(require("../../../store/reducers/hardwareOverviewReducer"));

var _i18n = _interopRequireDefault(require("../../../i18n"));

var _index = _interopRequireDefault(require("./index"));

var _jsxFileName = "/home/ibof07/pk/ibofmgmt/Code/UI/src/containers/Hardware/Overview/index.test.js";
describe("OverviewTab", () => {
  let wrapper;
  let history;
  let store; // let mock;

  beforeEach(() => {
    const sagaMiddleware = (0, _reduxSaga.default)();
    const rootReducers = (0, _redux.combineReducers)({
      alertManagementReducer: _alertManagementReducer.default,
      hardwareOverviewReducer: _hardwareOverviewReducer.default,
      hardwareOverviewReducer: _hardwareOverviewReducer.default
    });
    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || _redux.compose;
    store = (0, _redux.createStore)(rootReducers, composeEnhancers((0, _redux.applyMiddleware)(sagaMiddleware)));
    sagaMiddleware.run(_indexSaga.default);
    const route = "/Hardware/Overview";
    history = (0, _history.createMemoryHistory)({
      initialEntries: [route]
    }); // mock = new MockAdapter(axios);
  });

  const renderComponent = () => {
    wrapper = (0, _react2.render)(_react.default.createElement(_reactRouterDom.Router, {
      history: history,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 78
      },
      __self: void 0
    }, _react.default.createElement(_reactI18next.I18nextProvider, {
      i18n: _i18n.default,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 79
      },
      __self: void 0
    }, _react.default.createElement(_reactRedux.Provider, {
      store: store,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 80
      },
      __self: void 0
    }, " ", _react.default.createElement(_index.default, {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 82
      },
      __self: void 0
    })))));
  };

  afterEach(_react2.cleanup);
  it("renders overview page", async () => {
    renderComponent();
    const _wrapper = wrapper,
          getByTestId = _wrapper.getByTestId;
    const container = await (0, _react2.waitForElement)(() => getByTestId("OverviewTab-container"));
    expect(container).toBeDefined();
  });
  it("should not power on the server", async () => {
    const mock = new _axiosMockAdapter.default(_axios.default);
    mock.onPost('/*').reply(200, []).onAny().reply(200, []);
    renderComponent();
    const _wrapper2 = wrapper,
          getByTestId = _wrapper2.getByTestId,
          getByText = _wrapper2.getByText;
    const container = await (0, _react2.waitForElement)(() => getByTestId("OverviewTab-container"));
    expect(container).toBeDefined();
    const powerBtn = await (0, _react2.waitForElement)(() => getByTestId("PowerOnButton"));

    _react2.fireEvent.click(powerBtn);

    const noBtn = await (0, _react2.waitForElement)(() => getByText("No"));
    expect(noBtn).toBeDefined();

    _react2.fireEvent.click(noBtn);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiamVzdCIsInVubW9jayIsImRlc2NyaWJlIiwid3JhcHBlciIsImhpc3RvcnkiLCJzdG9yZSIsImJlZm9yZUVhY2giLCJzYWdhTWlkZGxld2FyZSIsInJvb3RSZWR1Y2VycyIsImFsZXJ0TWFuYWdlbWVudFJlZHVjZXIiLCJoYXJkd2FyZU92ZXJ2aWV3UmVkdWNlciIsImNvbXBvc2VFbmhhbmNlcnMiLCJ3aW5kb3ciLCJfX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18iLCJjb21wb3NlIiwicnVuIiwicm9vdFNhZ2EiLCJyb3V0ZSIsImluaXRpYWxFbnRyaWVzIiwicmVuZGVyQ29tcG9uZW50IiwiaTE4biIsImFmdGVyRWFjaCIsImNsZWFudXAiLCJpdCIsImdldEJ5VGVzdElkIiwiY29udGFpbmVyIiwiZXhwZWN0IiwidG9CZURlZmluZWQiLCJtb2NrIiwiTW9ja0FkYXB0ZXIiLCJheGlvcyIsIm9uUG9zdCIsInJlcGx5Iiwib25BbnkiLCJnZXRCeVRleHQiLCJwb3dlckJ0biIsImZpcmVFdmVudCIsImNsaWNrIiwibm9CdG4iXSwibWFwcGluZ3MiOiI7O0FBaURBQSxJQUFJLENBQUNDLE1BQUwsQ0FBWSxPQUFaOzs7O0FBdEJBOztBQUNBOztBQU1BOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7QUFHQUMsUUFBUSxDQUFDLGFBQUQsRUFBZ0IsTUFBTTtBQUMxQixNQUFJQyxPQUFKO0FBQ0EsTUFBSUMsT0FBSjtBQUNBLE1BQUlDLEtBQUosQ0FIMEIsQ0FJMUI7O0FBQ0FDLEVBQUFBLFVBQVUsQ0FBQyxNQUFNO0FBQ2IsVUFBTUMsY0FBYyxHQUFHLHlCQUF2QjtBQUNBLFVBQU1DLFlBQVksR0FBRyw0QkFBZ0I7QUFDakNDLE1BQUFBLHNCQUFzQixFQUF0QkEsK0JBRGlDO0FBRWpDQyxNQUFBQSx1QkFBdUIsRUFBdkJBLGdDQUZpQztBQUdqQ0EsTUFBQUEsdUJBQXVCLEVBQXZCQTtBQUhpQyxLQUFoQixDQUFyQjtBQUtBLFVBQU1DLGdCQUFnQixHQUNsQkMsTUFBTSxDQUFDQyxvQ0FBUCxJQUErQ0MsY0FEbkQ7QUFFQVQsSUFBQUEsS0FBSyxHQUFHLHdCQUNKRyxZQURJLEVBRUpHLGdCQUFnQixDQUFDLDRCQUFnQkosY0FBaEIsQ0FBRCxDQUZaLENBQVI7QUFJQUEsSUFBQUEsY0FBYyxDQUFDUSxHQUFmLENBQW1CQyxrQkFBbkI7QUFDQSxVQUFNQyxLQUFLLEdBQUcsb0JBQWQ7QUFDQWIsSUFBQUEsT0FBTyxHQUFHLGtDQUFvQjtBQUFFYyxNQUFBQSxjQUFjLEVBQUUsQ0FBQ0QsS0FBRDtBQUFsQixLQUFwQixDQUFWLENBZmEsQ0FnQmI7QUFDSCxHQWpCUyxDQUFWOztBQW1CQSxRQUFNRSxlQUFlLEdBQUcsTUFBTTtBQUMxQmhCLElBQUFBLE9BQU8sR0FBRyxvQkFDTiw2QkFBQyxzQkFBRDtBQUFRLE1BQUEsT0FBTyxFQUFFQyxPQUFqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUNJLDZCQUFDLDZCQUFEO0FBQWlCLE1BQUEsSUFBSSxFQUFFZ0IsYUFBdkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsT0FDSSw2QkFBQyxvQkFBRDtBQUFVLE1BQUEsS0FBSyxFQUFFZixLQUFqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUNLLEdBREwsRUFFSSw2QkFBQyxjQUFEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BRkosQ0FESixDQURKLENBRE0sQ0FBVjtBQVVILEdBWEQ7O0FBYUFnQixFQUFBQSxTQUFTLENBQUNDLGVBQUQsQ0FBVDtBQUVBQyxFQUFBQSxFQUFFLENBQUMsdUJBQUQsRUFBMEIsWUFBWTtBQUNwQ0osSUFBQUEsZUFBZTtBQURxQixxQkFFWmhCLE9BRlk7QUFBQSxVQUU1QnFCLFdBRjRCLFlBRTVCQSxXQUY0QjtBQUdwQyxVQUFNQyxTQUFTLEdBQUcsTUFBTSw0QkFBZSxNQUNuQ0QsV0FBVyxDQUFDLHVCQUFELENBRFMsQ0FBeEI7QUFHQUUsSUFBQUEsTUFBTSxDQUFDRCxTQUFELENBQU4sQ0FBa0JFLFdBQWxCO0FBQ0gsR0FQQyxDQUFGO0FBU0FKLEVBQUFBLEVBQUUsQ0FBQyxnQ0FBRCxFQUFtQyxZQUFZO0FBQzdDLFVBQU1LLElBQUksR0FBRyxJQUFJQyx5QkFBSixDQUFnQkMsY0FBaEIsQ0FBYjtBQUNBRixJQUFBQSxJQUFJLENBQUNHLE1BQUwsQ0FBWSxJQUFaLEVBQWtCQyxLQUFsQixDQUF3QixHQUF4QixFQUE2QixFQUE3QixFQUNLQyxLQURMLEdBQ2FELEtBRGIsQ0FDbUIsR0FEbkIsRUFDd0IsRUFEeEI7QUFFQWIsSUFBQUEsZUFBZTtBQUo4QixzQkFLVmhCLE9BTFU7QUFBQSxVQUtyQ3FCLFdBTHFDLGFBS3JDQSxXQUxxQztBQUFBLFVBS3hCVSxTQUx3QixhQUt4QkEsU0FMd0I7QUFNN0MsVUFBTVQsU0FBUyxHQUFHLE1BQU0sNEJBQWUsTUFDbkNELFdBQVcsQ0FBQyx1QkFBRCxDQURTLENBQXhCO0FBR0FFLElBQUFBLE1BQU0sQ0FBQ0QsU0FBRCxDQUFOLENBQWtCRSxXQUFsQjtBQUNBLFVBQU1RLFFBQVEsR0FBRyxNQUFNLDRCQUFlLE1BQU1YLFdBQVcsQ0FBQyxlQUFELENBQWhDLENBQXZCOztBQUNBWSxzQkFBVUMsS0FBVixDQUFnQkYsUUFBaEI7O0FBRUEsVUFBTUcsS0FBSyxHQUFHLE1BQU0sNEJBQWUsTUFBTUosU0FBUyxDQUFDLElBQUQsQ0FBOUIsQ0FBcEI7QUFDQVIsSUFBQUEsTUFBTSxDQUFDWSxLQUFELENBQU4sQ0FBY1gsV0FBZDs7QUFDQVMsc0JBQVVDLEtBQVYsQ0FBZ0JDLEtBQWhCO0FBQ0gsR0FoQkMsQ0FBRjtBQWlCSCxDQWpFTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICBDT1BZUklHSFQgKGMpIDIwMTkgU0FNU1VORyBFTEVDVFJPTklDUyBDTy4sIExURC4gICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgQUxMIFJJR0hUUyBSRVNFUlZFRCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkIHRvIGxpY2Vuc2VlcyBvZiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiAgICAgICAgL1xuLyAgIHByb2R1Y3RzIHRvIHVzZSBvciBhYnN0cmFjdCB0aGlzIGNvbXB1dGVyIHByb2dyYW0gZm9yIHRoZSBzb2xlIHB1cnBvc2Ugb2YgICAgICAgICAvXG4vICAgaW1wbGVtZW50aW5nIGEgcHJvZHVjdCBiYXNlZCBvbiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiBwcm9kdWN0cy4gICAgICAgICAgIC9cbi8gICBObyBvdGhlciByaWdodHMgdG8gcmVwcm9kdWNlLCB1c2UsIG9yIGRpc3NlbWluYXRlIHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSwgICAgICAgICAgL1xuLyAgIHdoZXRoZXIgaW4gcGFydCBvciBpbiB3aG9sZSwgYXJlIGdyYW50ZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIFxuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gbWFrZXMgbm8gcmVwcmVzZW50YXRpb24gb3Igd2FycmFudGllcyB3aXRoICAgICAgICAgIC9cbi8gICByZXNwZWN0IHRvIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIGNvbXB1dGVyIHByb2dyYW0sIGFuZCBzcGVjaWZpY2FsbHkgZGlzY2xhaW1zICAgL1xuLyAgIGFueSByZXNwb25zaWJpbGl0eSBmb3IgYW55IGRhbWFnZXMsIHNwZWNpYWwgb3IgY29uc2VxdWVudGlhbCwgY29ubmVjdGVkICAgICAgICAgICAvXG4vICAgd2l0aCB0aGUgdXNlIG9mIHRoaXMgcHJvZ3JhbS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vXG5cblxuREVTQ1JJUFRJT046IEhhcmR3YXJlIENvbnRhaW5lciBUZXN0IEZpbGVcbkBOQU1FIDogaW5kZXgudGVzdC5qc1xuQEFVVEhPUlM6IEpheSBTYW5naGF2aVxuQFZlcnNpb24gOiAxLjAgKlxuQFJFVklTSU9OIEhJU1RPUllcblswMy8wNi8yMDE5XSBbSmF5XSA6IFByb3RvdHlwaW5nLi4uLi4uLi4uLi8vLy8vLy8vLy8vLy8vLy8vLy8vXG4qL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICAgIHJlbmRlcixcbiAgICBmaXJlRXZlbnQsXG4gICAgY2xlYW51cCxcbiAgICB3YWl0Rm9yRWxlbWVudFxufSBmcm9tIFwiQHRlc3RpbmctbGlicmFyeS9yZWFjdFwiO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGFjdCB9IGZyb20gXCJyZWFjdC1kb20vdGVzdC11dGlsc1wiO1xuaW1wb3J0IHsgSTE4bmV4dFByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LWkxOG5leHRcIjtcbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCBcIkB0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20vZXh0ZW5kLWV4cGVjdFwiO1xuaW1wb3J0IE1vY2tBZGFwdGVyIGZyb20gXCJheGlvcy1tb2NrLWFkYXB0ZXJcIjtcbmltcG9ydCB7IGNyZWF0ZU1lbW9yeUhpc3RvcnkgfSBmcm9tIFwiaGlzdG9yeVwiO1xuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IGNyZWF0ZVN0b3JlLCBjb21iaW5lUmVkdWNlcnMsIGFwcGx5TWlkZGxld2FyZSwgY29tcG9zZSB9IGZyb20gXCJyZWR1eFwiO1xuaW1wb3J0IGNyZWF0ZVNhZ2FNaWRkbGV3YXJlIGZyb20gXCJyZWR1eC1zYWdhXCI7XG5pbXBvcnQgcm9vdFNhZ2EgZnJvbSBcIi4uLy4uLy4uL3NhZ2FzL2luZGV4U2FnYVwiO1xuaW1wb3J0IGFsZXJ0TWFuYWdlbWVudFJlZHVjZXIgZnJvbSBcIi4uLy4uLy4uL3N0b3JlL3JlZHVjZXJzL2FsZXJ0TWFuYWdlbWVudFJlZHVjZXJcIjtcbmltcG9ydCBoYXJkd2FyZU92ZXJ2aWV3UmVkdWNlciBmcm9tIFwiLi4vLi4vLi4vc3RvcmUvcmVkdWNlcnMvaGFyZHdhcmVPdmVydmlld1JlZHVjZXJcIjtcbmltcG9ydCBpMThuIGZyb20gXCIuLi8uLi8uLi9pMThuXCI7XG5pbXBvcnQgT3ZlcnZpZXdUYWIgZnJvbSAnLi9pbmRleCdcbmplc3QudW5tb2NrKFwiYXhpb3NcIik7XG5cbmRlc2NyaWJlKFwiT3ZlcnZpZXdUYWJcIiwgKCkgPT4ge1xuICAgIGxldCB3cmFwcGVyO1xuICAgIGxldCBoaXN0b3J5O1xuICAgIGxldCBzdG9yZTtcbiAgICAvLyBsZXQgbW9jaztcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2FnYU1pZGRsZXdhcmUgPSBjcmVhdGVTYWdhTWlkZGxld2FyZSgpO1xuICAgICAgICBjb25zdCByb290UmVkdWNlcnMgPSBjb21iaW5lUmVkdWNlcnMoe1xuICAgICAgICAgICAgYWxlcnRNYW5hZ2VtZW50UmVkdWNlcixcbiAgICAgICAgICAgIGhhcmR3YXJlT3ZlcnZpZXdSZWR1Y2VyLFxuICAgICAgICAgICAgaGFyZHdhcmVPdmVydmlld1JlZHVjZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNvbXBvc2VFbmhhbmNlcnMgPVxuICAgICAgICAgICAgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyB8fCBjb21wb3NlO1xuICAgICAgICBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxuICAgICAgICAgICAgcm9vdFJlZHVjZXJzLFxuICAgICAgICAgICAgY29tcG9zZUVuaGFuY2VycyhhcHBseU1pZGRsZXdhcmUoc2FnYU1pZGRsZXdhcmUpKVxuICAgICAgICApO1xuICAgICAgICBzYWdhTWlkZGxld2FyZS5ydW4ocm9vdFNhZ2EpO1xuICAgICAgICBjb25zdCByb3V0ZSA9IFwiL0hhcmR3YXJlL092ZXJ2aWV3XCI7XG4gICAgICAgIGhpc3RvcnkgPSBjcmVhdGVNZW1vcnlIaXN0b3J5KHsgaW5pdGlhbEVudHJpZXM6IFtyb3V0ZV0gfSk7XG4gICAgICAgIC8vIG1vY2sgPSBuZXcgTW9ja0FkYXB0ZXIoYXhpb3MpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVuZGVyQ29tcG9uZW50ID0gKCkgPT4ge1xuICAgICAgICB3cmFwcGVyID0gcmVuZGVyKFxuICAgICAgICAgICAgPFJvdXRlciBoaXN0b3J5PXtoaXN0b3J5fT5cbiAgICAgICAgICAgICAgICA8STE4bmV4dFByb3ZpZGVyIGkxOG49e2kxOG59PlxuICAgICAgICAgICAgICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxPdmVydmlld1RhYiAvPlxuICAgICAgICAgICAgICAgICAgICA8L1Byb3ZpZGVyPlxuICAgICAgICAgICAgICAgIDwvSTE4bmV4dFByb3ZpZGVyPlxuICAgICAgICAgICAgPC9Sb3V0ZXI+XG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIGFmdGVyRWFjaChjbGVhbnVwKTtcblxuICAgIGl0KFwicmVuZGVycyBvdmVydmlldyBwYWdlXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyQ29tcG9uZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHdyYXBwZXI7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+XG4gICAgICAgICAgICBnZXRCeVRlc3RJZChcIk92ZXJ2aWV3VGFiLWNvbnRhaW5lclwiKVxuICAgICAgICApO1xuICAgICAgICBleHBlY3QoY29udGFpbmVyKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbm90IHBvd2VyIG9uIHRoZSBzZXJ2ZXJcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrID0gbmV3IE1vY2tBZGFwdGVyKGF4aW9zKTtcbiAgICAgICAgbW9jay5vblBvc3QoJy8qJykucmVwbHkoMjAwLCBbXSlcbiAgICAgICAgICAgIC5vbkFueSgpLnJlcGx5KDIwMCwgW10pO1xuICAgICAgICByZW5kZXJDb21wb25lbnQoKTtcbiAgICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCwgZ2V0QnlUZXh0IH0gPSB3cmFwcGVyO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PlxuICAgICAgICAgICAgZ2V0QnlUZXN0SWQoXCJPdmVydmlld1RhYi1jb250YWluZXJcIilcbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KGNvbnRhaW5lcikudG9CZURlZmluZWQoKTtcbiAgICAgICAgY29uc3QgcG93ZXJCdG4gPSBhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRlc3RJZChcIlBvd2VyT25CdXR0b25cIikpO1xuICAgICAgICBmaXJlRXZlbnQuY2xpY2socG93ZXJCdG4pO1xuXG4gICAgICAgIGNvbnN0IG5vQnRuID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXh0KFwiTm9cIikpO1xuICAgICAgICBleHBlY3Qobm9CdG4pLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhub0J0bik7XG4gICAgfSk7XG59KTsiXX0=