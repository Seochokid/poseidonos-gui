67feb0306ec17551e85daba440a78c77
"use strict";

var _interopRequireWildcard = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _materialTable = _interopRequireDefault(require("material-table"));

var _MuiThemeProvider = _interopRequireDefault(require("@material-ui/core/styles/MuiThemeProvider"));

var _styles = require("@material-ui/core/styles");

var _materialUiPhoneNumber = _interopRequireDefault(require("material-ui-phone-number"));

var _core = require("@material-ui/core");

var _icons = require("@material-ui/icons");

var _Delete = _interopRequireDefault(require("@material-ui/icons/Delete"));

require("./UserTable.css");

var _theme = require("../../theme");

var _jsxFileName = "/home/ibof07/pk/ibofmgmt/Code/UI/src/components/UserTable/index.js";

const styles = theme => {
  return {
    titleContainer: {
      maxWidth: '100%',
      flexBasis: '100%'
    },
    pageHeader: {
      textAlign: 'left',
      fontSize: '16px',
      fontWeight: 'bold',
      color: '#424850',
      marginBottom: theme.spacing(1)
    },
    userListTypography: {
      textAlign: 'left',
      fontSize: '14px',
      fontWeight: 'bold',
      color: '#424850',
      margin: theme.spacing(1.5)
    },
    tableContainer: {
      maxWidth: '100%',
      flexBasis: '100%'
    },
    userListGrid: {
      background: 'white',
      fontSize: '14px',
      maxWidth: '100%',
      flexBasis: '100%',
      border: '1px solid gray'
    }
  };
};

function validate(newData) {
  if (!newData || !newData.email || !(newData.email.indexOf('@') > -1) || !(newData.email.indexOf('.') > -1)) return false;
  return true;
}

class UserTable extends _react.Component {
  constructor(props) {
    super(props);
    this.theme = (0, _core.createMuiTheme)({
      typography: {
        fontSize: 12,
        fontFamily: 'Arial'
      },
      palette: {
        primary: {
          main: '#4caf50'
        },
        secondary: {
          main: '#ff9100'
        }
      }
    });
    this.state = {
      columns: [{
        title: 'Role',
        field: 'role',
        editable: 'never',
        render: row => row.role ? row.role.toUpperCase() : ''
      }, {
        title: 'User Name',
        field: '_id',
        editable: 'never',
        cellStyle: {
          maxWidth: "200px",
          overflowWrap: "break-word"
        }
      }, {
        title: 'API Enable',
        field: 'active',
        editable: 'never',
        render: row => _react.default.createElement(_core.Switch, {
          disabled: row && row.tableData && row.tableData.editing === 'update',
          size: "small",
          checked: row.active,
          onChange: () => this.props.toggleUserStatus(row.tableData.id),
          color: "primary",
          inputProps: {
            'aria-label': 'primary checkbox',
            title: 'api-enable'
          },
          id: `UserTable-togglebtn-${row._id}`,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 120
          },
          __self: this
        })
      }, {
        title: 'Phone',
        field: 'phone_number',
        headerStyle: {
          textAlign: 'left'
        },
        cellStyle: {
          textAlign: 'left'
        },
        editComponent: row => _react.default.createElement(_materialUiPhoneNumber.default, {
          onChange: value => this.props.OnHandleChange({
            target: {
              value,
              name: 'phone_number'
            }
          }),
          inputProps: {
            name: 'phone_number',
            default: row.phone_number,
            id: `UserTable-phone-${row}`
          },
          value: this.props.phone_number,
          required: true,
          label: "" // onlyCountries={['in', 'kr']}
          ,
          defaultCountry: "kr",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 142
          },
          __self: this
        })
      }, {
        title: 'Email',
        field: 'email'
      }, {
        title: 'Privilege',
        field: 'privileges',
        editable: 'never'
      }]
    };
  }

  render() {
    const classes = this.props.classes;
    return _react.default.createElement(_core.Grid, {
      item: true,
      container: true,
      sm: 6,
      xs: 12,
      className: classes.titleContainer,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 173
      },
      __self: this
    }, _react.default.createElement(_core.Grid, {
      sm: 6,
      xs: 12,
      item: true,
      className: classes.tableContainer,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 174
      },
      __self: this
    }, _react.default.createElement(_core.Grid, {
      sm: 6,
      xs: 12,
      item: true,
      className: classes.userListGrid,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 175
      },
      __self: this
    }, _react.default.createElement(_MuiThemeProvider.default, {
      theme: this.theme,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 176
      },
      __self: this
    }, _react.default.createElement(_core.Typography, {
      className: classes.userListTypography,
      variant: "h3",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 177
      },
      __self: this
    }, "User List"), _react.default.createElement(_materialTable.default, {
      editable: {
        onRowUpdate: (newData, oldData) => new Promise((resolve, reject) => {
          setTimeout(() => {
            const valid = validate(newData);

            if (valid) {
              newData.phone_number = this.props.phone_number;
              this.props.saveChange(newData, oldData.tableData.id);
            } else {
              this.props.openAlertBox({
                istypealert: true,
                alerttype: 'alert',
                alertOpen: true,
                alerttitle: 'Update User',
                alertdescription: 'Please enter a valid input'
              });
              reject();
            }

            resolve();
          }, 1000);
        }),
        onRowDelete: oldData => new Promise(resolve => {
          setTimeout(() => {
            {
              const event = {
                target: {
                  checked: true
                }
              };
              this.props.selectUser(event, oldData.tableData.id);
              this.props.deleteUsers();
            }
            resolve();
          }, 1000);
        })
      },
      icons: {
        Check: _icons.Check,
        FirstPage: _icons.FirstPage,
        LastPage: _icons.LastPage,
        NextPage: _icons.ChevronRight,
        PreviousPage: _icons.ChevronLeft,
        Search: _icons.Search,
        ThirdStateCheck: _icons.Remove,
        DetailPanel: _icons.ChevronRight,
        Export: _icons.SaveAlt,
        Filter: _icons.FilterList,
        Add: _icons.Add,
        Edit: _icons.Edit,
        Delete: _Delete.default,
        SortArrow: _icons.ArrowUpward,
        Clear: _icons.Clear
      },
      columns: this.state.columns,
      data: this.props.users,
      options: {
        headerStyle: _theme.customTheme.table.header,
        actionsColumnIndex: -1,
        selection: false,
        sorting: true,
        toolbar: false,
        maxBodyHeight: '230px'
      },
      __source: {
        fileName: _jsxFileName,
        lineNumber: 178
      },
      __self: this
    })))));
  }

}

var _default = (0, _styles.withStyles)(styles)(UserTable);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInN0eWxlcyIsInRoZW1lIiwidGl0bGVDb250YWluZXIiLCJtYXhXaWR0aCIsImZsZXhCYXNpcyIsInBhZ2VIZWFkZXIiLCJ0ZXh0QWxpZ24iLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJjb2xvciIsIm1hcmdpbkJvdHRvbSIsInNwYWNpbmciLCJ1c2VyTGlzdFR5cG9ncmFwaHkiLCJtYXJnaW4iLCJ0YWJsZUNvbnRhaW5lciIsInVzZXJMaXN0R3JpZCIsImJhY2tncm91bmQiLCJib3JkZXIiLCJ2YWxpZGF0ZSIsIm5ld0RhdGEiLCJlbWFpbCIsImluZGV4T2YiLCJVc2VyVGFibGUiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwidHlwb2dyYXBoeSIsImZvbnRGYW1pbHkiLCJwYWxldHRlIiwicHJpbWFyeSIsIm1haW4iLCJzZWNvbmRhcnkiLCJzdGF0ZSIsImNvbHVtbnMiLCJ0aXRsZSIsImZpZWxkIiwiZWRpdGFibGUiLCJyZW5kZXIiLCJyb3ciLCJyb2xlIiwidG9VcHBlckNhc2UiLCJjZWxsU3R5bGUiLCJvdmVyZmxvd1dyYXAiLCJ0YWJsZURhdGEiLCJlZGl0aW5nIiwiYWN0aXZlIiwidG9nZ2xlVXNlclN0YXR1cyIsImlkIiwiX2lkIiwiaGVhZGVyU3R5bGUiLCJlZGl0Q29tcG9uZW50IiwidmFsdWUiLCJPbkhhbmRsZUNoYW5nZSIsInRhcmdldCIsIm5hbWUiLCJkZWZhdWx0IiwicGhvbmVfbnVtYmVyIiwiY2xhc3NlcyIsIm9uUm93VXBkYXRlIiwib2xkRGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2V0VGltZW91dCIsInZhbGlkIiwic2F2ZUNoYW5nZSIsIm9wZW5BbGVydEJveCIsImlzdHlwZWFsZXJ0IiwiYWxlcnR0eXBlIiwiYWxlcnRPcGVuIiwiYWxlcnR0aXRsZSIsImFsZXJ0ZGVzY3JpcHRpb24iLCJvblJvd0RlbGV0ZSIsImV2ZW50IiwiY2hlY2tlZCIsInNlbGVjdFVzZXIiLCJkZWxldGVVc2VycyIsIkNoZWNrIiwiRmlyc3RQYWdlIiwiTGFzdFBhZ2UiLCJOZXh0UGFnZSIsIkNoZXZyb25SaWdodCIsIlByZXZpb3VzUGFnZSIsIkNoZXZyb25MZWZ0IiwiU2VhcmNoIiwiVGhpcmRTdGF0ZUNoZWNrIiwiUmVtb3ZlIiwiRGV0YWlsUGFuZWwiLCJFeHBvcnQiLCJTYXZlQWx0IiwiRmlsdGVyIiwiRmlsdGVyTGlzdCIsIkFkZCIsIkVkaXQiLCJEZWxldGUiLCJUcmFzaEljb24iLCJTb3J0QXJyb3ciLCJBcnJvd1Vwd2FyZCIsIkNsZWFyIiwidXNlcnMiLCJjdXN0b21UaGVtZSIsInRhYmxlIiwiaGVhZGVyIiwiYWN0aW9uc0NvbHVtbkluZGV4Iiwic2VsZWN0aW9uIiwic29ydGluZyIsInRvb2xiYXIiLCJtYXhCb2R5SGVpZ2h0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQTJCQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBSUMsS0FBRCxJQUFXO0FBQ3hCLFNBQVE7QUFDTkMsSUFBQUEsY0FBYyxFQUFFO0FBQ2RDLE1BQUFBLFFBQVEsRUFBRSxNQURJO0FBRWRDLE1BQUFBLFNBQVMsRUFBRTtBQUZHLEtBRFY7QUFLTkMsSUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLE1BQUFBLFNBQVMsRUFBRSxNQUREO0FBRVZDLE1BQUFBLFFBQVEsRUFBRSxNQUZBO0FBR1ZDLE1BQUFBLFVBQVUsRUFBRSxNQUhGO0FBSVZDLE1BQUFBLEtBQUssRUFBRSxTQUpHO0FBS1ZDLE1BQUFBLFlBQVksRUFBRVQsS0FBSyxDQUFDVSxPQUFOLENBQWMsQ0FBZDtBQUxKLEtBTE47QUFZTkMsSUFBQUEsa0JBQWtCLEVBQUU7QUFDbEJOLE1BQUFBLFNBQVMsRUFBRSxNQURPO0FBRWxCQyxNQUFBQSxRQUFRLEVBQUUsTUFGUTtBQUdsQkMsTUFBQUEsVUFBVSxFQUFFLE1BSE07QUFJbEJDLE1BQUFBLEtB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MktuQix3QkFBVzNHLE1BQVgsRUFBbUJzQixTQUFuQixDIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICBDT1BZUklHSFQgKGMpIDIwMTkgU0FNU1VORyBFTEVDVFJPTklDUyBDTy4sIExURC4gICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgQUxMIFJJR0hUUyBSRVNFUlZFRCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkIHRvIGxpY2Vuc2VlcyBvZiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiAgICAgICAgL1xuLyAgIHByb2R1Y3RzIHRvIHVzZSBvciBhYnN0cmFjdCB0aGlzIGNvbXB1dGVyIHByb2dyYW0gZm9yIHRoZSBzb2xlIHB1cnBvc2Ugb2YgICAgICAgICAvXG4vICAgaW1wbGVtZW50aW5nIGEgcHJvZHVjdCBiYXNlZCBvbiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiBwcm9kdWN0cy4gICAgICAgICAgIC9cbi8gICBObyBvdGhlciByaWdodHMgdG8gcmVwcm9kdWNlLCB1c2UsIG9yIGRpc3NlbWluYXRlIHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSwgICAgICAgICAgL1xuLyAgIHdoZXRoZXIgaW4gcGFydCBvciBpbiB3aG9sZSwgYXJlIGdyYW50ZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIFxuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gbWFrZXMgbm8gcmVwcmVzZW50YXRpb24gb3Igd2FycmFudGllcyB3aXRoICAgICAgICAgIC9cbi8gICByZXNwZWN0IHRvIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIGNvbXB1dGVyIHByb2dyYW0sIGFuZCBzcGVjaWZpY2FsbHkgZGlzY2xhaW1zICAgL1xuLyAgIGFueSByZXNwb25zaWJpbGl0eSBmb3IgYW55IGRhbWFnZXMsIHNwZWNpYWwgb3IgY29uc2VxdWVudGlhbCwgY29ubmVjdGVkICAgICAgICAgICAvXG4vICAgd2l0aCB0aGUgdXNlIG9mIHRoaXMgcHJvZ3JhbS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vXG5cblxuREVTQ1JJUFRJT046IENvbXBvbmVudCBjb3JyZXNwb25kaW5nIHRvIGxpc3Qgb2YgdXNlcnNcbkBOQU1FIDogaW5kZXguanNcbkBBVVRIT1JTOiBKYXkgSGl0ZXNoIFNhbmdoYXZpIFxuQFZlcnNpb24gOiAxLjAgKlxuQFJFVklTSU9OIEhJU1RPUllcblswMy8wNi8yMDE5XSBbSmF5XSA6IFByb3RvdHlwaW5nLi4uLi4uLi4uLi8vLy8vLy8vLy8vLy8vLy8vLy8vXG5bMDQvMDYvMjAxOV0gW0Fzd2luXSA6IFJlcGxhY2VkIG5hdGl2ZSBhbGVydCB3aXRoIGN1c3RvbSBhbGVydCBjb21wb25lbnRcbiovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1hdGVyaWFsVGFibGUgZnJvbSAnbWF0ZXJpYWwtdGFibGUnO1xuaW1wb3J0IFRoZW1lUHJvdmlkZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL011aVRoZW1lUHJvdmlkZXInO1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgTXVpUGhvbmVOdW1iZXIgZnJvbSAnbWF0ZXJpYWwtdWktcGhvbmUtbnVtYmVyJztcbmltcG9ydCB7IEdyaWQsIFR5cG9ncmFwaHksIFN3aXRjaCwgY3JlYXRlTXVpVGhlbWUsIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgQWRkLCBBcnJvd1Vwd2FyZCwgQ2hlY2ssIENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIENsZWFyLCBFZGl0LCBGaWx0ZXJMaXN0LCBGaXJzdFBhZ2UsIExhc3RQYWdlLCBSZW1vdmUsIFNhdmVBbHQsIFNlYXJjaCB9IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucyc7XG5pbXBvcnQgVHJhc2hJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvRGVsZXRlXCJcbmltcG9ydCAnLi9Vc2VyVGFibGUuY3NzJztcbmltcG9ydCB7IGN1c3RvbVRoZW1lIH0gZnJvbSBcIi4uLy4uL3RoZW1lXCI7XG5cbmNvbnN0IHN0eWxlcyA9ICh0aGVtZSkgPT4ge1xuICByZXR1cm4gKHtcbiAgICB0aXRsZUNvbnRhaW5lcjoge1xuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgIGZsZXhCYXNpczogJzEwMCUnLFxuICAgIH0sXG4gICAgcGFnZUhlYWRlcjoge1xuICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgY29sb3I6ICcjNDI0ODUwJyxcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZygxKVxuICAgIH0sXG4gICAgdXNlckxpc3RUeXBvZ3JhcGh5OiB7XG4gICAgICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICBjb2xvcjogJyM0MjQ4NTAnLFxuICAgICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nKDEuNSksXG4gICAgfSxcbiAgICB0YWJsZUNvbnRhaW5lcjoge1xuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgIGZsZXhCYXNpczogJzEwMCUnXG4gICAgfSxcbiAgICB1c2VyTGlzdEdyaWQ6IHtcbiAgICAgIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgIGZsZXhCYXNpczogJzEwMCUnLFxuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIGdyYXknXG4gICAgfSxcbiAgfSlcbn07XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKG5ld0RhdGEpIHtcbiAgaWYgKCFuZXdEYXRhIHx8ICFuZXdEYXRhLmVtYWlsIHx8ICEobmV3RGF0YS5lbWFpbC5pbmRleE9mKCdAJykgPiAtMSkgfHwgIShuZXdEYXRhLmVtYWlsLmluZGV4T2YoJy4nKSA+IC0xKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuXG5jbGFzcyBVc2VyVGFibGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnRoZW1lID0gY3JlYXRlTXVpVGhlbWUoe1xuICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcbiAgICAgIH0sXG4gICAgICBwYWxldHRlOiB7XG4gICAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgICBtYWluOiAnIzRjYWY1MCcsXG4gICAgICAgIH0sXG4gICAgICAgIHNlY29uZGFyeToge1xuICAgICAgICAgIG1haW46ICcjZmY5MTAwJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29sdW1uczogW1xuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6ICdSb2xlJyxcbiAgICAgICAgICBmaWVsZDogJ3JvbGUnLFxuICAgICAgICAgIGVkaXRhYmxlOiAnbmV2ZXInLFxuICAgICAgICAgIHJlbmRlcjogcm93ID0+cm93LnJvbGUgPyByb3cucm9sZS50b1VwcGVyQ2FzZSgpIDogJydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnVXNlciBOYW1lJyxcbiAgICAgICAgICBmaWVsZDogJ19pZCcsXG4gICAgICAgICAgZWRpdGFibGU6ICduZXZlcicsXG4gICAgICAgICAgY2VsbFN0eWxlOiB7XG4gICAgICAgICAgICBtYXhXaWR0aDogXCIyMDBweFwiLFxuICAgICAgICAgICAgb3ZlcmZsb3dXcmFwOiBcImJyZWFrLXdvcmRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnQVBJIEVuYWJsZScsXG4gICAgICAgICAgZmllbGQ6ICdhY3RpdmUnLFxuICAgICAgICAgIGVkaXRhYmxlOiAnbmV2ZXInLFxuICAgICAgICAgIHJlbmRlcjogcm93ID0+XG4gICAgICAgICAgICAoXG4gICAgICAgICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17KHJvdyAmJiByb3cudGFibGVEYXRhICYmIHJvdy50YWJsZURhdGEuZWRpdGluZyA9PT0gJ3VwZGF0ZScpfVxuICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17cm93LmFjdGl2ZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gdGhpcy5wcm9wcy50b2dnbGVVc2VyU3RhdHVzKHJvdy50YWJsZURhdGEuaWQpfVxuICAgICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17eyAnYXJpYS1sYWJlbCc6ICdwcmltYXJ5IGNoZWNrYm94JywgdGl0bGU6ICdhcGktZW5hYmxlJyB9fVxuICAgICAgICAgICAgICAgIGlkID0ge2BVc2VyVGFibGUtdG9nZ2xlYnRuLSR7cm93Ll9pZH1gfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnUGhvbmUnLFxuICAgICAgICAgIGZpZWxkOiAncGhvbmVfbnVtYmVyJyxcbiAgICAgICAgICBoZWFkZXJTdHlsZToge1xuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbGxTdHlsZToge1xuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVkaXRDb21wb25lbnQ6IHJvdyA9PlxuICAgICAgICAgICAgKFxuICAgICAgICAgICAgICA8TXVpUGhvbmVOdW1iZXJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiB0aGlzLnByb3BzLk9uSGFuZGxlQ2hhbmdlKHsgdGFyZ2V0OiB7IHZhbHVlLCBuYW1lOiAncGhvbmVfbnVtYmVyJyB9IH0pfVxuICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdwaG9uZV9udW1iZXInLFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcm93LnBob25lX251bWJlcixcbiAgICAgICAgICAgICAgICAgIGlkIDogYFVzZXJUYWJsZS1waG9uZS0keyByb3d9YFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMucGhvbmVfbnVtYmVyfVxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJcIlxuICAgICAgICAgICAgICAgIC8vIG9ubHlDb3VudHJpZXM9e1snaW4nLCAna3InXX1cbiAgICAgICAgICAgICAgICBkZWZhdWx0Q291bnRyeT1cImtyXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnRW1haWwnLFxuICAgICAgICAgIGZpZWxkOiAnZW1haWwnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6ICdQcml2aWxlZ2UnLFxuICAgICAgICAgIGZpZWxkOiAncHJpdmlsZWdlcycsXG4gICAgICAgICAgZWRpdGFibGU6ICduZXZlcidcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8R3JpZCBpdGVtIGNvbnRhaW5lciBzbT17Nn0geHM9ezEyfSBjbGFzc05hbWU9e2NsYXNzZXMudGl0bGVDb250YWluZXJ9PlxuICAgICAgICA8R3JpZCBzbT17Nn0geHM9ezEyfSBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy50YWJsZUNvbnRhaW5lcn0+XG4gICAgICAgICAgPEdyaWQgc209ezZ9IHhzPXsxMn0gaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMudXNlckxpc3RHcmlkfT5cbiAgICAgICAgICAgIDxUaGVtZVByb3ZpZGVyIHRoZW1lPXt0aGlzLnRoZW1lfT5cbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLnVzZXJMaXN0VHlwb2dyYXBoeX0gdmFyaWFudD1cImgzXCI+VXNlciBMaXN0PC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICA8TWF0ZXJpYWxUYWJsZVxuICAgICAgICAgICAgICAgIGVkaXRhYmxlPXt7XG4gICAgICAgICAgICAgICAgICBvblJvd1VwZGF0ZTogKG5ld0RhdGEsIG9sZERhdGEpID0+XG4gICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkID0gdmFsaWRhdGUobmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YS5waG9uZV9udW1iZXIgPSB0aGlzLnByb3BzLnBob25lX251bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zYXZlQ2hhbmdlKG5ld0RhdGEsIG9sZERhdGEudGFibGVEYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXN0eXBlYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnR0eXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0T3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydHRpdGxlOiAnVXBkYXRlIFVzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0ZGVzY3JpcHRpb246ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBpbnB1dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIG9uUm93RGVsZXRlOiBvbGREYXRhID0+XG4gICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0geyB0YXJnZXQ6IHsgY2hlY2tlZDogdHJ1ZSB9IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RVc2VyKGV2ZW50LCBvbGREYXRhLnRhYmxlRGF0YS5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVVc2VycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH19XG5cbiAgICAgICAgICAgICAgICBpY29ucz17e1xuICAgICAgICAgICAgICAgICAgQ2hlY2ssXG4gICAgICAgICAgICAgICAgICBGaXJzdFBhZ2UsXG4gICAgICAgICAgICAgICAgICBMYXN0UGFnZSxcbiAgICAgICAgICAgICAgICAgIE5leHRQYWdlOiBDaGV2cm9uUmlnaHQsXG4gICAgICAgICAgICAgICAgICBQcmV2aW91c1BhZ2U6IENoZXZyb25MZWZ0LFxuICAgICAgICAgICAgICAgICAgU2VhcmNoLFxuICAgICAgICAgICAgICAgICAgVGhpcmRTdGF0ZUNoZWNrOiBSZW1vdmUsXG4gICAgICAgICAgICAgICAgICBEZXRhaWxQYW5lbDogQ2hldnJvblJpZ2h0LFxuICAgICAgICAgICAgICAgICAgRXhwb3J0OiBTYXZlQWx0LFxuICAgICAgICAgICAgICAgICAgRmlsdGVyOiBGaWx0ZXJMaXN0LFxuICAgICAgICAgICAgICAgICAgQWRkLFxuICAgICAgICAgICAgICAgICAgRWRpdCxcbiAgICAgICAgICAgICAgICAgIERlbGV0ZTogVHJhc2hJY29uLFxuICAgICAgICAgICAgICAgICAgU29ydEFycm93OiBBcnJvd1Vwd2FyZCxcbiAgICAgICAgICAgICAgICAgIENsZWFyLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY29sdW1ucz17dGhpcy5zdGF0ZS5jb2x1bW5zfVxuICAgICAgICAgICAgICAgIGRhdGE9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17e1xuICAgICAgICAgICAgICAgICAgaGVhZGVyU3R5bGU6IGN1c3RvbVRoZW1lLnRhYmxlLmhlYWRlcixcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnNDb2x1bW5JbmRleDogLTEsXG4gICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgc29ydGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHRvb2xiYXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbWF4Qm9keUhlaWdodDogJzIzMHB4J1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPC9HcmlkPlxuICAgICAgICA8L0dyaWQ+XG4gICAgICA8L0dyaWQ+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcykoVXNlclRhYmxlKTtcbiJdfQ==