0ae78d21d2156bd7b9d73a0465c8422b
"use strict";

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

require("react-dropdown/style.css");

var _propTypes = _interopRequireDefault(require("prop-types"));

var _Search = _interopRequireDefault(require("@material-ui/icons/Search"));

var _SaveAlt = _interopRequireDefault(require("@material-ui/icons/SaveAlt"));

var _ChevronLeft = _interopRequireDefault(require("@material-ui/icons/ChevronLeft"));

var _ChevronRight = _interopRequireDefault(require("@material-ui/icons/ChevronRight"));

var _FirstPage = _interopRequireDefault(require("@material-ui/icons/FirstPage"));

var _LastPage = _interopRequireDefault(require("@material-ui/icons/LastPage"));

var _Add = _interopRequireDefault(require("@material-ui/icons/Add"));

var _Check = _interopRequireDefault(require("@material-ui/icons/Check"));

var _FilterList = _interopRequireDefault(require("@material-ui/icons/FilterList"));

var _Remove = _interopRequireDefault(require("@material-ui/icons/Remove"));

var _EditTwoTone = _interopRequireDefault(require("@material-ui/icons/EditTwoTone"));

var _Delete = _interopRequireDefault(require("@material-ui/icons/Delete"));

var _ArrowUpward = _interopRequireDefault(require("@material-ui/icons/ArrowUpward"));

var _Clear = _interopRequireDefault(require("@material-ui/icons/Clear"));

var _core = require("@material-ui/core");

var _materialTable = _interopRequireDefault(require("material-table"));

var _icons = require("@material-ui/icons");

var _Dialog = _interopRequireDefault(require("../../Dialog"));

var _theme = require("../../../theme");

var _jsxFileName = "/home/ibof07/pk/ibofmgmt/Code/UI/src/components/VolumeManagement/VolumeList/index.js";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

const styles = () => ({
  cardHeader: _objectSpread({}, _theme.customTheme.card.header, {
    marginLeft: 0
  }),
  editBtn: {
    minWidth: 24,
    borderRadius: 100
  }
});

class VolumeList extends _react.Component {
  constructor(props) {
    super(props);
    this.state = {
      selectedVolumes: [],
      open: false
    };
    this.handleClickOpen = this.handleClickOpen.bind(this);
    this.handleClose = this.handleClose.bind(this);
  }

  handleClickOpen() {
    this.setState({
      open: true
    });
  }

  handleClose() {
    this.setState({
      open: false
    });
  }

  selectVolumes(volumes) {
    this.setState({
      selectedVolumes: volumes
    });
  }

  onVolumeEdit(value, name, id) {
    this.props.changeField({
      value,
      name,
      id
    });
  }

  render() {
    const classes = this.props.classes;
    const volumeTableColumns = [{
      title: 'Name',
      field: 'name'
    }, {
      title: 'Total Size (GB)',
      field: 'size'
    }, {
      title: 'Used Size ',
      field: 'usedspace'
    }, {
      title: 'IP Address',
      field: 'ip'
    }, {
      title: 'Port',
      field: 'subnqn'
    }, {
      title: 'NQN',
      field: 'subnqn'
    }, {
      title: 'Max IOPS',
      field: 'maxiops',
      render: rowData => {
        if (rowData.edit) {
          return _react.default.createElement(_core.TextField, {
            id: `VolumeList-textfield-maxiops-${rowData.name}`,
            value: rowData.maxiops,
            type: "number",
            inputProps: {
              min: 0,
              'data-testid': `list-vol-maxiops-${rowData.name}`
            },
            onChange: e => this.onVolumeEdit(e.target.value, 'maxiops', rowData.id),
            __source: {
              fileName: _jsxFileName,
              lineNumber: 133
            },
            __self: this
          });
        }

        return rowData.maxiops === 0 ? 'MAX' : rowData.maxiops;
      }
    }, {
      title: 'Max Bandwidth',
      field: 'maxbw',
      render: rowData => {
        if (rowData.edit) {
          return _react.default.createElement(_core.TextField, {
            id: `VolumeList-textfield-maxbw-${rowData.name}`,
            name: "maxbw",
            value: rowData.maxbw,
            type: "number",
            inputProps: {
              min: 0,
              'data-testid': `list-vol-maxbw-${rowData.name}`
            },
            onChange: e => this.onVolumeEdit(e.target.value, 'maxbw', rowData.id),
            __source: {
              fileName: _jsxFileName,
              lineNumber: 155
            },
            __self: this
          });
        }

        return rowData.maxbw === 0 ? 'MAX' : rowData.maxbw;
      }
    }, {
      title: 'Status',
      field: 'status'
    }, {
      title: 'Update',
      field: 'edit',
      editable: 'never',
      sorting: false,
      render: row => {
        return !row.edit ? _react.default.createElement(_core.Button, {
          className: classes.editBtn,
          "data-testid": `vol-edit-btn-${row.name}`,
          onClick: () => this.props.editVolume(row),
          id: `VolumeList-btn-edit-${row.name}`,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 183
          },
          __self: this
        }, _react.default.createElement(_EditTwoTone.default, {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 189
          },
          __self: this
        })) : _react.default.createElement(_react.default.Fragment, {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 192
          },
          __self: this
        }, _react.default.createElement(_core.Button, {
          className: classes.editBtn,
          "data-testid": `vol-edit-save-btn-${row.name}`,
          onClick: () => this.props.saveVolume(row),
          id: `VolumeList-btn-done-${row.name}`,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 193
          },
          __self: this
        }, _react.default.createElement(_icons.Done, {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 199
          },
          __self: this
        })), _react.default.createElement(_core.Button, {
          "data-testid": `vol-edit-cancel-btn-${row.name}`,
          className: classes.editBtn,
          onClick: this.props.fetchVolumes,
          id: `VolumeList-btn-clear-${row.name}`,
          __source: {
            fileName: _jsxFileName,
            lineNumber: 201
          },
          __self: this
        }, _react.default.createElement(_Clear.default, {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 207
          },
          __self: this
        })));
      }
    }];
    return _react.default.createElement(_core.Paper, {
      "data-testid": "volumelist-table",
      id: "VolumeList-table",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 216
      },
      __self: this
    }, _react.default.createElement(_materialTable.default, {
      title: _react.default.createElement(_core.Typography, {
        className: classes.cardHeader,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 220
        },
        __self: this
      }, "Volume List"),
      columns: volumeTableColumns,
      data: this.props.volumes,
      options: {
        selection: true,
        showTextRowsSelected: false,
        headerStyle: {
          // backgroundColor: '#71859d',
          // backgroundColor: '#424850',
          backgroundColor: '#788595',
          color: '#FFF'
        },
        selectionProps: rowData => ({
          'data-testid': rowData.name,
          'id': `VolumeList-checkbox-${rowData.name}`,
          inputProps: {
            'title': rowData.name
          }
        })
      },
      icons: {
        Check: () => _react.default.createElement(_Check.default, {
          id: "VolumeList-icon-check",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 242
          },
          __self: this
        }),
        FirstPage: () => _react.default.createElement(_FirstPage.default, {
          id: "VolumeList-icon-firstpage",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 243
          },
          __self: this
        }),
        LastPage: () => _react.default.createElement(_LastPage.default, {
          id: "VolumeList-icon-lastpage",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 244
          },
          __self: this
        }),
        NextPage: () => _react.default.createElement(_ChevronRight.default, {
          id: "VolumeList-icon-nextpage",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 245
          },
          __self: this
        }),
        PreviousPage: () => _react.default.createElement(_ChevronLeft.default, {
          id: "VolumeList-icon-previouspage",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 246
          },
          __self: this
        }),
        Search: () => _react.default.createElement(_Search.default, {
          id: "VolumeList-icon-search",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 247
          },
          __self: this
        }),
        ThirdStateCheck: _Remove.default,
        DetailPanel: _ChevronRight.default,
        Export: _SaveAlt.default,
        Filter: _FilterList.default,
        Add: _Add.default,
        Edit: () => _react.default.createElement(_EditTwoTone.default, {
          id: "VolumeList-icon-edit",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 253
          },
          __self: this
        }),
        Delete: () => _react.default.createElement(_Delete.default, {
          __source: {
            fileName: _jsxFileName,
            lineNumber: 254
          },
          __self: this
        }),
        SortArrow: _ArrowUpward.default,
        ResetSearch: () => _react.default.createElement(_Clear.default, {
          id: "VolumeList-icon-clearsearch",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 256
          },
          __self: this
        })
      },
      onSelectionChange: rows => {
        this.selectVolumes(rows);
      },
      actions: [{
        tooltip: 'Delete',
        icon: _Delete.default,
        iconProps: {
          'id': "VolumeList-icon-delete"
        },
        onClick: () => {
          this.handleClickOpen();
        }
      }],
      __source: {
        fileName: _jsxFileName,
        lineNumber: 218
      },
      __self: this
    }), _react.default.createElement(_Dialog.default, {
      title: "Delete Volumes",
      description: "Are you sure you want to delete the selected Volumes",
      open: this.state.open,
      handleClose: this.handleClose,
      onConfirm: () => {
        this.handleClose();
        this.props.deleteVolumes(this.state.selectedVolumes);
      },
      __source: {
        fileName: _jsxFileName,
        lineNumber: 273
      },
      __self: this
    }));
  }

}

VolumeList.propTypes = {
  volumes: _propTypes.default.arrayOf(_propTypes.default.object).isRequired
};

var _default = (0, _core.withStyles)(styles)(VolumeList);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInN0eWxlcyIsImNhcmRIZWFkZXIiLCJjdXN0b21UaGVtZSIsImNhcmQiLCJoZWFkZXIiLCJtYXJnaW5MZWZ0IiwiZWRpdEJ0biIsIm1pbldpZHRoIiwiYm9yZGVyUmFkaXVzIiwiVm9sdW1lTGlzdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdGF0ZSIsInNlbGVjdGVkVm9sdW1lcyIsIm9wZW4iLCJoYW5kbGVDbGlja09wZW4iLCJiaW5kIiwiaGFuZGxlQ2xvc2UiLCJzZXRTdGF0ZSIsInNlbGVjdFZvbHVtZXMiLCJ2b2x1bWVzIiwib25Wb2x1bWVFZGl0IiwidmFsdWUiLCJuYW1lIiwiaWQiLCJjaGFuZ2VGaWVsZCIsInJlbmRlciIsImNsYXNzZXMiLCJ2b2x1bWVUYWJsZUNvbHVtbnMiLCJ0aXRsZSIsImZpZWxkIiwicm93RGF0YSIsImVkaXQiLCJtYXhpb3BzIiwibWluIiwiZSIsInRhcmdldCIsIm1heGJ3IiwiZWRpdGFibGUiLCJzb3J0aW5nIiwicm93IiwiZWRpdFZvbHVtZSIsInNhdmVWb2x1bWUiLCJmZXRjaFZvbHVtZXMiLCJzZWxlY3Rpb24iLCJzaG93VGV4dFJvd3NTZWxlY3RlZCIsImhlYWRlclN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJzZWxlY3Rpb25Qcm9wcyIsImlucHV0UHJvcHMiLCJDaGVjayIsIkZpcnN0UGFnZSIsIkxhc3RQYWdlIiwiTmV4dFBhZ2UiLCJQcmV2aW91c1BhZ2UiLCJTZWFyY2giLCJUaGlyZFN0YXRlQ2hlY2siLCJSZW1vdmUiLCJEZXRhaWxQYW5lbCIsIkNoZXZyb25SaWdodCIsIkV4cG9ydCIsIlNhdmVBbHQiLCJGaWx0ZXIiLCJGaWx0ZXJMaXN0IiwiQWRkIiwiRWRpdCIsIkRlbGV0ZSIsIlNvcnRBcnJvdyIsIkFycm93VXB3YXJkIiwiUmVzZXRTZWFyY2giLCJyb3dzIiwidG9vbHRpcCIsImljb24iLCJUcmFzaEljb24iLCJpY29uUHJvcHMiLCJvbkNsaWNrIiwiZGVsZXRlVm9sdW1lcyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImFycmF5T2YiLCJvYmplY3QiLCJpc1JlcXVpcmVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBMEJBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOzs7Ozs7OztBQUdBLE1BQU1BLE1BQU0sR0FBRyxPQUFPO0FBQ3BCQyxFQUFBQSxVQUFVLG9CQUNMQyxtQkFBWUMsSUFBWixDQUFpQkMsTUFEWjtBQUVSQyxJQUFBQSxVQUFVLEVBQUU7QUFGSixJQURVO0FBS3BCQyxFQUFBQSxPQUFPLEVBQUU7QUFDUEMsSUFBQUEsUUFBUSxFQUFFLEVBREg7QUFFUEMsSUFBQUEsWUFBWSxFQUFFO0FBRlA7QUFMVyxDQUFQLENBQWY7O0FBV0EsTUFBTUMsVUFBTixTQUF5QkMsZ0JBQXpCLENBQW1DO0FBQ2pDQyxFQUFBQSxXQUFXLENBQUNDLEtBQUQsRUFBUTtBQUNqQixVQUFNQSxLQUFOO0FBQ0EsU0FBS0MsS0FBTCxHQUFhO0FBQ1hDLE1BQUFBLGVBQWUsRUFBRSxFQUROO0FBRVhDLE1BQUFBLElBQUksRUFBRTtBQUZLLEtBQWI7QUFLQSxTQUFLQyxlQUFMLEdBQXVCLEtBQUtBLGVBQUwsQ0FBcUJDLElBQXJCLENBQTBCLElBQTFCLENBQXZCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQixLQUFLQSxXQUFMLENBQWlCRCxJQUFqQixDQUFzQixJQUF0QixDQUFuQjtBQUNEOztBQUVERCxFQUFBQSxlQUFlLEdBQUc7QUFDaEIsU0FBS0csUUFBTCxDQUFjO0FBQ1pKLE1BQUFBLElBQUksRUFBRTtBQURNLEtBQWQ7QUFHRDs7QUFFREcsRUFBQUEsV0FBVyxHQUFHO0FBQ1osU0FBS0MsUUFBTCxDQUFjO0FBQUVKLE1BQUFBLElBQUksRUFB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QUFTLEVBQUUsTUFBTTtBQUNmLGFBQUtBLFdBQUw7QUFDQSxhQUFLTixLQUFMLENBQVdrRSxhQUFYLENBQXlCLEtBQUtqRSxLQUFMLENBQVdDLGVBQXBDO0FBQ0QsT0FSSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQXpERixDQURGO0FBc0VEOztBQTlOZ0M7O0FBaU9uQ0wsVUFBVSxDQUFDc0UsU0FBWCxHQUF1QjtBQUNyQjFELEVBQUFBLE9BQU8sRUFBRTJELG1CQUFVQyxPQUFWLENBQWtCRCxtQkFBVUUsTUFBNUIsRUFBb0NDO0FBRHhCLENBQXZCOztlQUllLHNCQUFXbkYsTUFBWCxFQUFtQlMsVUFBbkIsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgQ09QWVJJR0hUIChjKSAyMDE5IFNBTVNVTkcgRUxFQ1RST05JQ1MgQ08uLCBMVEQuICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgIEFMTCBSSUdIVFMgUkVTRVJWRUQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCB0byBsaWNlbnNlZXMgb2YgU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gICAgICAgIC9cbi8gICBwcm9kdWN0cyB0byB1c2Ugb3IgYWJzdHJhY3QgdGhpcyBjb21wdXRlciBwcm9ncmFtIGZvciB0aGUgc29sZSBwdXJwb3NlIG9mICAgICAgICAgL1xuLyAgIGltcGxlbWVudGluZyBhIHByb2R1Y3QgYmFzZWQgb24gU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gcHJvZHVjdHMuICAgICAgICAgICAvXG4vICAgTm8gb3RoZXIgcmlnaHRzIHRvIHJlcHJvZHVjZSwgdXNlLCBvciBkaXNzZW1pbmF0ZSB0aGlzIGNvbXB1dGVyIHByb2dyYW0sICAgICAgICAgIC9cbi8gICB3aGV0aGVyIGluIHBhcnQgb3IgaW4gd2hvbGUsIGFyZSBncmFudGVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyBcbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgIFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuIG1ha2VzIG5vIHJlcHJlc2VudGF0aW9uIG9yIHdhcnJhbnRpZXMgd2l0aCAgICAgICAgICAvXG4vICAgcmVzcGVjdCB0byB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhpcyBjb21wdXRlciBwcm9ncmFtLCBhbmQgc3BlY2lmaWNhbGx5IGRpc2NsYWltcyAgIC9cbi8gICBhbnkgcmVzcG9uc2liaWxpdHkgZm9yIGFueSBkYW1hZ2VzLCBzcGVjaWFsIG9yIGNvbnNlcXVlbnRpYWwsIGNvbm5lY3RlZCAgICAgICAgICAgL1xuLyAgIHdpdGggdGhlIHVzZSBvZiB0aGlzIHByb2dyYW0uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL1xuXG5cbkRFU0NSSVBUSU9OOiA8RmlsZSBkZXNjcmlwdGlvbj4gKlxuQE5BTUUgOiBpbmRleC5qc1xuQEFVVEhPUlM6IEpheSBIaXRlc2ggU2FuZ2hhdmkgXG5AVmVyc2lvbiA6IDEuMCAqXG5AUkVWSVNJT04gSElTVE9SWVxuWzAzLzA2LzIwMTldIFtKYXldIDogUHJvdG90eXBpbmcuLi4uLi4uLi4uLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICdyZWFjdC1kcm9wZG93bi9zdHlsZS5jc3MnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBTZWFyY2ggZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1NlYXJjaCc7XG5pbXBvcnQgU2F2ZUFsdCBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvU2F2ZUFsdCc7XG5pbXBvcnQgQ2hldnJvbkxlZnQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NoZXZyb25MZWZ0JztcbmltcG9ydCBDaGV2cm9uUmlnaHQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NoZXZyb25SaWdodCc7XG5pbXBvcnQgRmlyc3RQYWdlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9GaXJzdFBhZ2UnO1xuaW1wb3J0IExhc3RQYWdlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9MYXN0UGFnZSc7XG5pbXBvcnQgQWRkIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9BZGQnO1xuaW1wb3J0IENoZWNrIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DaGVjayc7XG5pbXBvcnQgRmlsdGVyTGlzdCBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRmlsdGVyTGlzdCc7XG5pbXBvcnQgUmVtb3ZlIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9SZW1vdmUnO1xuaW1wb3J0IEVkaXRJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FZGl0VHdvVG9uZSc7XG5pbXBvcnQgVHJhc2hJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9EZWxldGUnO1xuaW1wb3J0IEFycm93VXB3YXJkIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9BcnJvd1Vwd2FyZCc7XG5pbXBvcnQgQ2xlYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NsZWFyJztcbmltcG9ydCB7IFBhcGVyLCBUeXBvZ3JhcGh5LCB3aXRoU3R5bGVzLCBUZXh0RmllbGQsIEJ1dHRvbiB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcbmltcG9ydCBNYXRlcmlhbFRhYmxlIGZyb20gJ21hdGVyaWFsLXRhYmxlJztcblxuaW1wb3J0IHsgRG9uZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucyc7XG5pbXBvcnQgQWxlcnREaWFsb2cgZnJvbSAnLi4vLi4vRGlhbG9nJztcbmltcG9ydCB7IGN1c3RvbVRoZW1lIH0gZnJvbSAnLi4vLi4vLi4vdGhlbWUnO1xuXG5cbmNvbnN0IHN0eWxlcyA9ICgpID0+ICh7XG4gIGNhcmRIZWFkZXI6IHtcbiAgICAuLi5jdXN0b21UaGVtZS5jYXJkLmhlYWRlcixcbiAgICBtYXJnaW5MZWZ0OiAwXG4gIH0sXG4gIGVkaXRCdG46IHtcbiAgICBtaW5XaWR0aDogMjQsXG4gICAgYm9yZGVyUmFkaXVzOiAxMDBcbiAgfVxufSk7XG5cbmNsYXNzIFZvbHVtZUxpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2VsZWN0ZWRWb2x1bWVzOiBbXSxcbiAgICAgIG9wZW46IGZhbHNlLFxuXG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZUNsaWNrT3BlbiA9IHRoaXMuaGFuZGxlQ2xpY2tPcGVuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDbG9zZSA9IHRoaXMuaGFuZGxlQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuICBcbiAgaGFuZGxlQ2xpY2tPcGVuKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3BlbjogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUNsb3NlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuOiBmYWxzZSB9KTtcbiAgfVxuXG4gIHNlbGVjdFZvbHVtZXModm9sdW1lcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0ZWRWb2x1bWVzOiB2b2x1bWVzXG4gICAgfSlcbiAgfVxuXG4gIG9uVm9sdW1lRWRpdCh2YWx1ZSwgbmFtZSwgaWQpIHtcbiAgICB0aGlzLnByb3BzLmNoYW5nZUZpZWxkKHtcbiAgICAgIHZhbHVlLFxuICAgICAgbmFtZSxcbiAgICAgIGlkXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHZvbHVtZVRhYmxlQ29sdW1ucyA9IFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgICAgZmllbGQ6ICduYW1lJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnVG90YWwgU2l6ZSAoR0IpJyxcbiAgICAgICAgZmllbGQ6ICdzaXplJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdVc2VkIFNpemUgJyxcbiAgICAgICAgZmllbGQ6ICd1c2Vkc3BhY2UnLFxuICAgICAgfSxcblxuICAgICAge1xuICAgICAgICB0aXRsZTogJ0lQIEFkZHJlc3MnLFxuICAgICAgICBmaWVsZDogJ2lwJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnUG9ydCcsXG4gICAgICAgIGZpZWxkOiAnc3VibnFuJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnTlFOJyxcbiAgICAgICAgZmllbGQ6ICdzdWJucW4nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdNYXggSU9QUycsXG4gICAgICAgIGZpZWxkOiAnbWF4aW9wcycsXG4gICAgICAgIHJlbmRlcjogcm93RGF0YSA9PiB7XG4gICAgICAgICAgaWYgKHJvd0RhdGEuZWRpdCkge1xuICAgICAgICAgICAgIHJldHVybiAoXG48VGV4dEZpZWxkXG4gICAgICAgICAgICAgIGlkPSB7YFZvbHVtZUxpc3QtdGV4dGZpZWxkLW1heGlvcHMtJHsgcm93RGF0YS5uYW1lfWB9XG4gICAgICAgICAgICAgIHZhbHVlPXtyb3dEYXRhLm1heGlvcHN9XG4gICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICdkYXRhLXRlc3RpZCc6YGxpc3Qtdm9sLW1heGlvcHMtJHtyb3dEYXRhLm5hbWV9YFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMub25Wb2x1bWVFZGl0KGUudGFyZ2V0LnZhbHVlLCAnbWF4aW9wcycsIHJvd0RhdGEuaWQpfVxuLz5cbilcbiAgICAgICAgICB9IFxuICAgICAgICAgICAgcmV0dXJuIHJvd0RhdGEubWF4aW9wcyA9PT0gMCA/ICdNQVgnIDogcm93RGF0YS5tYXhpb3BzO1xuICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ01heCBCYW5kd2lkdGgnLFxuICAgICAgICBmaWVsZDogJ21heGJ3JyxcbiAgICAgICAgcmVuZGVyOiByb3dEYXRhID0+IHtcbiAgICAgICAgICBpZiAocm93RGF0YS5lZGl0KSB7XG4gICAgICAgICAgICAgcmV0dXJuIChcbjxUZXh0RmllbGRcbiAgICAgICAgICAgICAgaWQ9IHtgVm9sdW1lTGlzdC10ZXh0ZmllbGQtbWF4YnctJHsgcm93RGF0YS5uYW1lfWB9XG4gICAgICAgICAgICAgIG5hbWU9XCJtYXhid1wiXG4gICAgICAgICAgICAgIHZhbHVlPXtyb3dEYXRhLm1heGJ3fVxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICAnZGF0YS10ZXN0aWQnOiBgbGlzdC12b2wtbWF4YnctJHtyb3dEYXRhLm5hbWV9YFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMub25Wb2x1bWVFZGl0KGUudGFyZ2V0LnZhbHVlLCAnbWF4YncnLCByb3dEYXRhLmlkKX1cbi8+XG4pXG4gICAgICAgICAgfSBcbiAgICAgICAgICAgIHJldHVybiByb3dEYXRhLm1heGJ3ID09PSAwID8gJ01BWCcgOiByb3dEYXRhLm1heGJ3O1xuICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0aXRsZTogJ1N0YXR1cycsXG4gICAgICAgIGZpZWxkOiAnc3RhdHVzJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnVXBkYXRlJyxcbiAgICAgICAgZmllbGQ6ICdlZGl0JyxcbiAgICAgICAgZWRpdGFibGU6ICduZXZlcicsXG4gICAgICAgIHNvcnRpbmc6IGZhbHNlLFxuICAgICAgICByZW5kZXI6IHJvdyA9PiB7XG4gICAgICAgICAgcmV0dXJuICFyb3cuZWRpdCA/IChcbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lZGl0QnRufVxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtgdm9sLWVkaXQtYnRuLSR7cm93Lm5hbWV9YH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLmVkaXRWb2x1bWUocm93KX1cbiAgICAgICAgICAgICAgICBpZCA9IHtgVm9sdW1lTGlzdC1idG4tZWRpdC0keyByb3cubmFtZX1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEVkaXRJY29uIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZWRpdEJ0bn1cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YHZvbC1lZGl0LXNhdmUtYnRuLSR7cm93Lm5hbWV9YH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnByb3BzLnNhdmVWb2x1bWUocm93KX1cbiAgICAgICAgICAgICAgICBpZCA9IHtgVm9sdW1lTGlzdC1idG4tZG9uZS0keyByb3cubmFtZX1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPERvbmUgLz5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YHZvbC1lZGl0LWNhbmNlbC1idG4tJHtyb3cubmFtZX1gfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5lZGl0QnRufVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuZmV0Y2hWb2x1bWVzfVxuICAgICAgICAgICAgICAgIGlkID0ge2BWb2x1bWVMaXN0LWJ0bi1jbGVhci0keyByb3cubmFtZX1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENsZWFyIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICBdO1xuICAgIHJldHVybiAoXG4gICAgICA8UGFwZXIgZGF0YS10ZXN0aWQ9XCJ2b2x1bWVsaXN0LXRhYmxlXCIgaWQ9XCJWb2x1bWVMaXN0LXRhYmxlXCI+XG4gICAgICAgIHsvKiA8VGhlbWVQcm92aWRlciB0aGVtZT17dGFibGVUaGVtZX0+ICovfVxuICAgICAgICA8TWF0ZXJpYWxUYWJsZVxuICAgICAgICAgIHRpdGxlPXsoXG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBjbGFzc05hbWU9e2NsYXNzZXMuY2FyZEhlYWRlcn0+Vm9sdW1lIExpc3Q8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgKX1cbiAgICAgICAgICBjb2x1bW5zPXt2b2x1bWVUYWJsZUNvbHVtbnN9XG4gICAgICAgICAgZGF0YT17dGhpcy5wcm9wcy52b2x1bWVzfVxuICAgICAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgICAgIHNlbGVjdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIHNob3dUZXh0Um93c1NlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGhlYWRlclN0eWxlOiB7XG4gICAgICAgICAgICAgIC8vIGJhY2tncm91bmRDb2xvcjogJyM3MTg1OWQnLFxuICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6ICcjNDI0ODUwJyxcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzc4ODU5NScsXG4gICAgICAgICAgICAgIGNvbG9yOiAnI0ZGRidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3Rpb25Qcm9wczogcm93RGF0YSA9PiAoe1xuICAgICAgICAgICAgICAnZGF0YS10ZXN0aWQnOiByb3dEYXRhLm5hbWUsXG4gICAgICAgICAgICAgICdpZCc6IGBWb2x1bWVMaXN0LWNoZWNrYm94LSR7cm93RGF0YS5uYW1lfWAsXG4gICAgICAgICAgICAgIGlucHV0UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAndGl0bGUnOiByb3dEYXRhLm5hbWVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9fVxuICAgICAgICAgIGljb25zPXt7XG4gICAgICAgICAgICBDaGVjazogKCkgPT4gPENoZWNrIGlkID0gXCJWb2x1bWVMaXN0LWljb24tY2hlY2tcIiAvPiAsXG4gICAgICAgICAgICBGaXJzdFBhZ2U6ICgpID0+IDxGaXJzdFBhZ2UgaWQ9XCJWb2x1bWVMaXN0LWljb24tZmlyc3RwYWdlXCIgLz4gLFxuICAgICAgICAgICAgTGFzdFBhZ2U6ICgpID0+IDxMYXN0UGFnZSBpZD1cIlZvbHVtZUxpc3QtaWNvbi1sYXN0cGFnZVwiIC8+LFxuICAgICAgICAgICAgTmV4dFBhZ2U6ICgpID0+IDxDaGV2cm9uUmlnaHQgaWQ9XCJWb2x1bWVMaXN0LWljb24tbmV4dHBhZ2VcIiAvPixcbiAgICAgICAgICAgIFByZXZpb3VzUGFnZTogKCkgPT4gPENoZXZyb25MZWZ0IGlkPVwiVm9sdW1lTGlzdC1pY29uLXByZXZpb3VzcGFnZVwiIC8+LFxuICAgICAgICAgICAgU2VhcmNoOiAoKSA9PiA8U2VhcmNoIGlkPVwiVm9sdW1lTGlzdC1pY29uLXNlYXJjaFwiIC8+ICxcbiAgICAgICAgICAgIFRoaXJkU3RhdGVDaGVjazogUmVtb3ZlLFxuICAgICAgICAgICAgRGV0YWlsUGFuZWw6IENoZXZyb25SaWdodCxcbiAgICAgICAgICAgIEV4cG9ydDogU2F2ZUFsdCxcbiAgICAgICAgICAgIEZpbHRlcjogRmlsdGVyTGlzdCxcbiAgICAgICAgICAgIEFkZCxcbiAgICAgICAgICAgIEVkaXQ6ICgpID0+IDxFZGl0SWNvbiBpZD1cIlZvbHVtZUxpc3QtaWNvbi1lZGl0XCIgLz4sXG4gICAgICAgICAgICBEZWxldGU6ICgpID0+IDxUcmFzaEljb24gLz4gLFxuICAgICAgICAgICAgU29ydEFycm93OiBBcnJvd1Vwd2FyZCxcbiAgICAgICAgICAgIFJlc2V0U2VhcmNoOiAoKT0+IDxDbGVhciBpZD1cIlZvbHVtZUxpc3QtaWNvbi1jbGVhcnNlYXJjaFwiIC8+XG4gICAgICAgICAgfX1cbiAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT17KHJvd3MpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RWb2x1bWVzKHJvd3MpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgYWN0aW9ucz17W1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b29sdGlwOiAnRGVsZXRlJyxcbiAgICAgICAgICAgICAgaWNvbjogVHJhc2hJY29uLFxuICAgICAgICAgICAgICBpY29uUHJvcHM6IHtcbiAgICAgICAgICAgICAgICAnaWQnOiBcIlZvbHVtZUxpc3QtaWNvbi1kZWxldGVcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7IHRoaXMuaGFuZGxlQ2xpY2tPcGVuKCkgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICAgIHsvKiA8L1RoZW1lUHJvdmlkZXI+ICovfVxuICAgICAgICA8QWxlcnREaWFsb2dcbiAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBWb2x1bWVzXCJcbiAgICAgICAgICBkZXNjcmlwdGlvbj1cIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhlIHNlbGVjdGVkIFZvbHVtZXNcIlxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUub3Blbn1cbiAgICAgICAgICBoYW5kbGVDbG9zZT17dGhpcy5oYW5kbGVDbG9zZX1cbiAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2UoKVxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVWb2x1bWVzKHRoaXMuc3RhdGUuc2VsZWN0ZWRWb2x1bWVzKTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9QYXBlcj5cbiAgICApO1xuICB9XG59XG5cblZvbHVtZUxpc3QucHJvcFR5cGVzID0ge1xuICB2b2x1bWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KS5pc1JlcXVpcmVkLFxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcykoVm9sdW1lTGlzdCk7XG4iXX0=