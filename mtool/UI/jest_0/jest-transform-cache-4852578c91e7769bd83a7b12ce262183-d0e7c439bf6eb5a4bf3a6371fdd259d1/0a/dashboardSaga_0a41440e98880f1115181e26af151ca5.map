{"version":3,"sources":["dashboardSaga.js"],"names":["fetchVolumeInfo","response","call","axios","get","headers","Accept","localStorage","getItem","result","data","message","put","actionCreators","fetchVolumes","enableFetchingAlerts","error","defaultResponse","cancelled","fetchAlertsInfo","fetchAlerts","alerts","fetchStorageInfo","Date","now","fetchStorage","avail_size","total_size","arraySize","fetchPerformanceInfo","fetchPerformance","Math","round","iops_read","iops_write","bw_total","fetchIpAndMacInfo","fetchIpAndMac","ip","mac","host","dashboardWatcher","takeEvery","actionTypes","SAGA_FETCH_VOLUME_INFO","SAGA_FETCH_ALERTS_INFO","SAGA_FETCH_STORAGE_INFO","SAGA_FETCH_PERFORMANCE_INFO","SAGA_FETCH_IPANDMAC_INFO"],"mappings":"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","sourcesContent":["/* -------------------------------------------------------------------------------------/\n                                                                                    /\n/               COPYRIGHT (c) 2019 SAMSUNG ELECTRONICS CO., LTD.                      /\n/                          ALL RIGHTS RESERVED                                        /\n/                                                                                     /\n/   Permission is hereby granted to licensees of Samsung Electronics Co., Ltd.        /\n/   products to use or abstract this computer program for the sole purpose of         /\n/   implementing a product based on Samsung Electronics Co., Ltd. products.           /\n/   No other rights to reproduce, use, or disseminate this computer program,          /\n/   whether in part or in whole, are granted.                                         / \n/                                                                                     /\n/   Samsung Electronics Co., Ltd. makes no representation or warranties with          /\n/   respect to the performance of this computer program, and specifically disclaims   /\n/   any responsibility for any damages, special or consequential, connected           /\n/   with the use of this program.                                                     /\n/                                                                                     /\n/-------------------------------------------------------------------------------------/\n\n\nDESCRIPTION: <Contains Generator Functions for Dashboard component> *\n@NAME : dashboardSaga.js\n@AUTHORS: Jay Hitesh Sanghavi \n@Version : 1.0 *\n@REVISION HISTORY\n[03/06/2019] [Jay] : Prototyping..........////////////////////\n*/\nimport axios from 'axios';\nimport { call, takeEvery, put,cancelled } from 'redux-saga/effects';\nimport * as actionTypes from \"../store/actions/actionTypes\";\nimport * as actionCreators from \"../store/actions/exportActionCreators\";\n\n\nexport function* fetchVolumeInfo() {\n    try {\n        const response = yield call([axios, axios.get], '/api/v1.0/get_volumes/',{ \n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'x-access-token': localStorage.getItem('token'),\n            },\n        });\n\n        const result = response.data;\n        if (result && !result.message) {\n            yield put(actionCreators.fetchVolumes(result));\n        }\n        yield put(actionCreators.enableFetchingAlerts(false));\n    }\n    catch (error) {\n       const defaultResponse = [];\n       yield put(actionCreators.fetchVolumes(defaultResponse));\n       yield put(actionCreators.enableFetchingAlerts(false));\n    }\n    finally {\n        if(yield cancelled())\n        {\n            const defaultResponse = [];\n            yield put(actionCreators.fetchVolumes(defaultResponse));\n            yield put(actionCreators.enableFetchingAlerts(false));\n        }\n    }\n}\n\nexport function* fetchAlertsInfo() {\n    try {\n        const response = yield call([axios, axios.get], \"/api/v1.0/get_alert_info\",{ \n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'x-access-token': localStorage.getItem('token'),\n            },\n        });\n\n        const result = response.data;\n        if (result) {\n            yield put(actionCreators.fetchAlerts(result.alerts));\n        }\n    }\n    catch (error) {\n        // console.log(error);\n    }\n}\n\nfunction* fetchStorageInfo() {\n    try {\n        const response = yield call([axios, axios.get], `/api/v1.0/available_storage/?ts=${Date.now()}`,{ \n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'x-access-token': localStorage.getItem('token'),\n            },\n        });\n\n        const result = response.data;\n        if (result) {\n            yield put(actionCreators.fetchStorage(\n                result[0] ? ((result[0].avail_size / result[0].total_size) * 100) : 0,\n                result[0].total_size - result[0].avail_size,\n                result[0].avail_size,\n                result[0].arraySize\n            ));\n        }\n    }\n    catch (error) {\n        // console.log(error);\n    }\n}\n\nfunction* fetchPerformanceInfo() {\n    try {\n        const response = yield call([axios, axios.get], `/api/v1.0/perf/all?ts=${Date.now()}`,{ \n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'x-access-token': localStorage.getItem('token'),\n            },\n        });\n\n        const result = response.data;\n        if (result) {\n            yield put(actionCreators.fetchPerformance(\n                Math.round(result.iops_read),\n                Math.round(result.iops_write),\n                Math.round((result.bw_total / (1000 * 1000)) * 100) / 100\n            ));\n        }\n    }\n    catch (error) {\n        // console.log(error);\n    }\n}\n\n\nfunction* fetchIpAndMacInfo() {\n    try {\n        const response = yield call([axios, axios.get], \"/api/v1.0/get_ip_and_mac\",{ \n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'x-access-token': localStorage.getItem('token'),\n            },\n        });\n\n        const result = response.data;\n        if (result) {\n            yield put(actionCreators.fetchIpAndMac(\n                result.ip, result.mac, result.host\n            ));\n        }\n    }\n    catch (error) {\n       // console.log(error);\n    }\n}\n\nexport function* dashboardWatcher() {\n    yield takeEvery(actionTypes.SAGA_FETCH_VOLUME_INFO, fetchVolumeInfo);\n    yield takeEvery(actionTypes.SAGA_FETCH_ALERTS_INFO, fetchAlertsInfo);\n    yield takeEvery(actionTypes.SAGA_FETCH_STORAGE_INFO, fetchStorageInfo);\n    yield takeEvery(actionTypes.SAGA_FETCH_PERFORMANCE_INFO, fetchPerformanceInfo);\n    yield takeEvery(actionTypes.SAGA_FETCH_IPANDMAC_INFO, fetchIpAndMacInfo);\n   // console.log(\"This is async operation\");\n}\n"]}