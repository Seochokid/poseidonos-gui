9568ab20277406e605a5bb7bb69ccac9
"use strict";

var _interopRequireWildcard = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.fetchChassisFrontInfo = fetchChassisFrontInfo;
exports.fetchChassisRearInfo = fetchChassisRearInfo;
exports.fetchServerInfo = fetchServerInfo;
exports.fetchPowerInfo = fetchPowerInfo;
exports.rebootSystem = rebootSystem;
exports.shutdownSystem = shutdownSystem;
exports.powerOnSystem = powerOnSystem;
exports.forceShutdownSystem = forceShutdownSystem;
exports.hardwareOverviewWatcher = hardwareOverviewWatcher;

var _defineProperty2 = _interopRequireDefault(require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/defineProperty"));

var _axios = _interopRequireDefault(require("axios"));

var _effects = require("redux-saga/effects");

var actionTypes = _interopRequireWildcard(require("../store/actions/actionTypes"));

var actionCreators = _interopRequireWildcard(require("../store/actions/exportActionCreators"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function* fetchChassisFrontInfo(action) {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], '/api/v1.0/get_chassis_front_info/', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    const result = response.data;

    if (result) {
      yield (0, _effects.put)(actionCreators.fetchChassisFrontInfo(result.front_info));
    }
  } catch (error) {
    yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Hardware',
      alertdescription: 'Unable to retrieve data'
    }));
    yield (0, _effects.put)(actionCreators.fetchChassisFrontInfo([]));
  } finally {
    ;
  }
}

function* fetchChassisRearInfo() {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], '/api/v1.0/get_chassis_rear_info/', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    const result = response.data;

    if (result) {
      const chassisList = [];
      result.forEach(chassis => {
        chassisList.push(_objectSpread({}, chassis));
      });
      yield (0, _effects.put)(actionCreators.fetchChassisRearInfo(chassisList));
    }
  } catch (error) {
    yield (0, _effects.put)(actionCreators.fetchChassisRearInfo([]));
  }
}

function* fetchServerInfo() {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], '/api/v1.0/get_server_info/', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    const result = response.data;

    if (result) {
      yield (0, _effects.put)(actionCreators.fetchServerInfo(result));
    }
  } catch (error) {
    yield (0, _effects.put)(actionCreators.fetchServerInfo({
      model: '',
      manufacturer: '',
      mac: '',
      ip: '',
      firmwareversion: '',
      serialno: '',
      host: ''
    }));
  }
}

function* fetchPowerInfo(action) {
  try {
    // if(action.param == null || action.param != "doNotStartLoader")
    //     yield put(actionCreators.startLoader('Fetching BMC Information'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], '/api/v1.0/get_power_info/', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    yield (0, _effects.put)(actionCreators.stopLoader());
    const result = response.data;

    if (result) {
      yield (0, _effects.put)(actionCreators.fetchPowerInfo(result));
    }
  } catch (error) {
    yield (0, _effects.put)(actionCreators.stopLoader());
    yield (0, _effects.put)(actionCreators.fetchPowerInfo({
      powerconsumption: '',
      powercap: '',
      powerstatus: 'Off'
    }));
  }
}

function* rebootSystem(action) {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/reboot_system/', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    const status = response.status;

    if (status === 200) {
      yield (0, _effects.put)(actionCreators.openAlertBox({
        alertOpen: true,
        istypealert: true,
        alerttype: 'info',
        alerttitle: 'Reboot System',
        alertdescription: 'System Reboot Successful'
      }));
    } else if (response === 400) yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Reboot System',
      alertdescription: 'System Reboot Failed'
    }));else yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Reboot System',
      alertdescription: 'System Reboot Failed'
    }));

    yield (0, _effects.put)(actionCreators.fetchChassisFrontInfo([]));
    yield (0, _effects.put)(actionCreators.fetchPowerInfo({
      powerconsumption: '',
      powercap: '',
      powerstatus: 'Off'
    }));
    yield (0, _effects.put)(actionCreators.fetchServerInfo({
      model: '',
      manufacturer: '',
      mac: '',
      ip: '',
      firmwareversion: '',
      serialno: '',
      host: ''
    }));
  } catch (error) {
    yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Reboot System',
      alertdescription: 'System Reboot Failed'
    }));
  }
}

function* shutdownSystem(action) {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/shutdown_system/', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    const status = response.status;

    if (status === 200) {
      yield (0, _effects.put)(actionCreators.openAlertBox({
        alertOpen: true,
        istypealert: true,
        alerttype: 'info',
        alerttitle: 'Shutdown System',
        alertdescription: 'System Shutdown Successful'
      }));
    } else if (response === 400) yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Shutdown System',
      alertdescription: 'System Shutdown Failed'
    }));else yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Shutdown System',
      alertdescription: 'System Shutdown Failed'
    }));
  } catch (error) {
    yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Shutdown System',
      alertdescription: 'System Shutdown Failed'
    }));
  }
}

function* powerOnSystem(action) {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/power_on_system/', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    const status = response.status;

    if (status === 200) {
      yield (0, _effects.put)(actionCreators.openAlertBox({
        alertOpen: true,
        istypealert: true,
        alerttype: 'info',
        alerttitle: 'Power On System',
        alertdescription: 'Power On Successful'
      }));
    } else if (response === 400) yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Power On System',
      alertdescription: 'Power On Failed'
    }));else yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Power On System',
      alertdescription: 'Power On Failed'
    }));
  } catch (error) {
    yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Power On System',
      alertdescription: 'Power On Failed'
    }));
    ;
  }
}

function* forceShutdownSystem(action) {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/force_shutdown_system/', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    const status = response.status;

    if (status === 200) {
      yield (0, _effects.put)(actionCreators.openAlertBox({
        alertOpen: true,
        istypealert: true,
        alerttype: 'info',
        alerttitle: 'Shutdown System',
        alertdescription: 'System Shutdown Successful'
      }));
    } else if (response === 400) yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Shutdown System',
      alertdescription: 'System Shutdown Failed'
    }));else yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Shutdown System',
      alertdescription: 'System Shutdown Failed'
    }));
  } catch (error) {
    yield (0, _effects.put)(actionCreators.openAlertBox({
      alertOpen: true,
      istypealert: true,
      alerttype: 'alert',
      alerttitle: 'Shutdown System',
      alertdescription: 'System Shutdown Failed'
    }));
  }
}

function* hardwareOverviewWatcher() {
  yield (0, _effects.takeEvery)(actionTypes.SAGA_HARDWARE_OVERVIEW_FETCH_SERVER_INFORMATION, fetchServerInfo);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_HARDWARE_OVERVIEW_FETCH_POWER_INFORMATION, fetchPowerInfo);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_HARDWARE_OVERVIEW_FETCH_CHASSIS_FRONT_INFORMATION, fetchChassisFrontInfo);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_HARDWARE_OVERVIEW_FETCH_CHASSIS_REAR_INFORMATION, fetchChassisRearInfo);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_HARDWARE_OVERVIEW_REBOOT_SYSTEM, rebootSystem);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_HARDWARE_OVERVIEW_SHUTDOWN_SYSTEM, shutdownSystem);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_HARDWARE_OVERVIEW_FORCE_SHUTDOWN_SYSTEM, forceShutdownSystem);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_HARDWARE_OVERVIEW_POWER_ON_SYSTEM, powerOnSystem);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhcmR3YXJlT3ZlcnZpZXdTYWdhLmpzIl0sIm5hbWVzIjpbImZldGNoQ2hhc3Npc0Zyb250SW5mbyIsImFjdGlvbiIsInJlc3BvbnNlIiwiYXhpb3MiLCJnZXQiLCJoZWFkZXJzIiwiQWNjZXB0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInJlc3VsdCIsImRhdGEiLCJhY3Rpb25DcmVhdG9ycyIsImZyb250X2luZm8iLCJlcnJvciIsIm9wZW5BbGVydEJveCIsImFsZXJ0T3BlbiIsImlzdHlwZWFsZXJ0IiwiYWxlcnR0eXBlIiwiYWxlcnR0aXRsZSIsImFsZXJ0ZGVzY3JpcHRpb24iLCJmZXRjaENoYXNzaXNSZWFySW5mbyIsImNoYXNzaXNMaXN0IiwiZm9yRWFjaCIsImNoYXNzaXMiLCJwdXNoIiwiZmV0Y2hTZXJ2ZXJJbmZvIiwibW9kZWwiLCJtYW51ZmFjdHVyZXIiLCJtYWMiLCJpcCIsImZpcm13YXJldmVyc2lvbiIsInNlcmlhbG5vIiwiaG9zdCIsImZldGNoUG93ZXJJbmZvIiwic3RvcExvYWRlciIsInBvd2VyY29uc3VtcHRpb24iLCJwb3dlcmNhcCIsInBvd2Vyc3RhdHVzIiwicmVib290U3lzdGVtIiwicG9zdCIsInN0YXR1cyIsInNodXRkb3duU3lzdGVtIiwicG93ZXJPblN5c3RlbSIsImZvcmNlU2h1dGRvd25TeXN0ZW0iLCJoYXJkd2FyZU92ZXJ2aWV3V2F0Y2hlciIsImFjdGlvblR5cGVzIiwiU0FHQV9IQVJEV0FSRV9PVkVSVklFV19GRVRDSF9TRVJWRVJfSU5GT1JNQVRJT04iLCJTQUdBX0hBUkRXQVJFX09WRVJWSUVXX0ZFVENIX1BPV0VSX0lORk9STUFUSU9OIiwiU0FHQV9IQVJEV0FSRV9PVkVSVklFV19GRVRDSF9DSEFTU0lTX0ZST05UX0lORk9STUFUSU9OIiwiU0FHQV9IQVJEV0FSRV9PVkVSVklFV19GRVRDSF9DSEFTU0lTX1JFQVJfSU5GT1JNQVRJT04iLCJTQUdBX0hBUkRXQVJFX09WRVJWSUVXX1JFQk9PVF9TWVNURU0iLCJTQUdBX0hBUkRXQVJFX09WRVJWSUVXX1NIVVRET1dOX1NZU1RFTSIsIlNBR0FfSEFSRFdBUkVfT1ZFUlZJRVdfRk9SQ0VfU0hVVERPV05fU1lTVEVNIiwiU0FHQV9IQVJEV0FSRV9PVkVSVklFV19QT1dFUl9PTl9TWVNURU0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBCQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRU8sVUFBVUEscUJBQVYsQ0FBZ0NDLE1BQWhDLEVBQXdDO0FBQzNDLE1BQUk7QUFDQSxVQUFNQyxRQUFRLEdBQUcsTUFBTSxtQkFBSyxDQUFDQyxjQUFELEVBQVFBLGVBQU1DLEdBQWQsQ0FBTCxFQUF5QixtQ0FBekIsRUFBOEQ7QUFDakZDLE1BQUFBLE9BQU8sRUFBRTtBQUNMQyxRQUFBQSxNQUFNLEVBQUUsa0JBREg7QUFFTCx3QkFBZ0Isa0JBRlg7QUFHTCwwQkFBa0JDLFlBQVksQ0FBQ0MsT0FBYixDQUFxQixPQUFyQjtBQUhiO0FBRHdFLEtBQTlELENBQXZCO0FBT0EsVUFBTUMsTUFBTSxHQUFHUCxRQUFRLENBQUNRLElBQXhCOztBQUNBLFFBQUlELE1BQUosRUFBWTtBQUNSLFlBQU0sa0JBQUlFLGNBQWMsQ0FBQ1gscUJBQWYsQ0FBcUNTLE1BQU0sQ0FBQ0csVUFBNUMsQ0FBSixDQUFOO0FBQ0g7QUFDSixHQVpELENBWUUsT0FBT0MsS0FBUCxFQUFjO0FBQ1osVUFBTSxrQkFBSUYsY0FBYyxDQUFDRyxZQUFmLENBQTRCO0FBQ2xDQyxNQUFBQSxTQUFTLEVBQUUsSUFEdUI7QUFFbENDLE1BQUFBLFdBQVcsRUFBRSxJQUZxQjtBQUdsQ0MsTUFBQUEsU0FBUyxFQUFFLE9BSHVCO0FBSWxDQyxNQUFBQSxVQUFVLEVBQUUsVUFKc0I7QUFLbENDLE1BQUFBLGdCQUFnQixFQUFFO0FBTGdCLEtBQTVCLENBQUosQ0FBTjtBQU9BLFVBQU0sa0JBQUlSLGNBQWMsQ0FBQ1gscUJBQWYsQ0FBcUMsRUFBckMsQ0FBSixDQUFOO0FBQ0gsR0FyQkQsU0FzQlE7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QUFjLENBQUNHLFlBQWYsQ0FBNEI7QUFDbENDLE1BQUFBLFNBQVMsRUFBRSxJQUR1QjtBQUVsQ0MsTUFBQUEsV0FBVyxFQUFFLElBRnFCO0FBR2xDQyxNQUFBQSxTQUFTLEVBQUUsT0FIdUI7QUFJbENDLE1BQUFBLFVBQVUsRUFBRSxpQkFKc0I7QUFLbENDLE1BQUFBLGdCQUFnQixFQUFFO0FBTGdCLEtBQTVCLENBQUosQ0FBTjtBQU9IO0FBQ0o7O0FBRU0sVUFBVXlCLHVCQUFWLEdBQW9DO0FBQ3ZDLFFBQU0sd0JBQVVDLFdBQVcsQ0FBQ0MsK0NBQXRCLEVBQXVFckIsZUFBdkUsQ0FBTjtBQUNBLFFBQU0sd0JBQVVvQixXQUFXLENBQUNFLDhDQUF0QixFQUFzRWQsY0FBdEUsQ0FBTjtBQUNBLFFBQU0sd0JBQVVZLFdBQVcsQ0FBQ0csc0RBQXRCLEVBQThFaEQscUJBQTlFLENBQU47QUFDQSxRQUFNLHdCQUFVNkMsV0FBVyxDQUFDSSxxREFBdEIsRUFBNkU3QixvQkFBN0UsQ0FBTjtBQUNBLFFBQU0sd0JBQVV5QixXQUFXLENBQUNLLG9DQUF0QixFQUE0RFosWUFBNUQsQ0FBTjtBQUNBLFFBQU0sd0JBQVVPLFdBQVcsQ0FBQ00sc0NBQXRCLEVBQThEVixjQUE5RCxDQUFOO0FBQ0EsUUFBTSx3QkFBVUksV0FBVyxDQUFDTyw0Q0FBdEIsRUFBb0VULG1CQUFwRSxDQUFOO0FBQ0EsUUFBTSx3QkFBVUUsV0FBVyxDQUFDUSxzQ0FBdEIsRUFBOERYLGFBQTlELENBQU47QUFFSCIsInNvdXJjZXNDb250ZW50IjpbIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgQ09QWVJJR0hUIChjKSAyMDE5IFNBTVNVTkcgRUxFQ1RST05JQ1MgQ08uLCBMVEQuICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgIEFMTCBSSUdIVFMgUkVTRVJWRUQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCB0byBsaWNlbnNlZXMgb2YgU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gICAgICAgIC9cbi8gICBwcm9kdWN0cyB0byB1c2Ugb3IgYWJzdHJhY3QgdGhpcyBjb21wdXRlciBwcm9ncmFtIGZvciB0aGUgc29sZSBwdXJwb3NlIG9mICAgICAgICAgL1xuLyAgIGltcGxlbWVudGluZyBhIHByb2R1Y3QgYmFzZWQgb24gU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gcHJvZHVjdHMuICAgICAgICAgICAvXG4vICAgTm8gb3RoZXIgcmlnaHRzIHRvIHJlcHJvZHVjZSwgdXNlLCBvciBkaXNzZW1pbmF0ZSB0aGlzIGNvbXB1dGVyIHByb2dyYW0sICAgICAgICAgIC9cbi8gICB3aGV0aGVyIGluIHBhcnQgb3IgaW4gd2hvbGUsIGFyZSBncmFudGVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyBcbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgIFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuIG1ha2VzIG5vIHJlcHJlc2VudGF0aW9uIG9yIHdhcnJhbnRpZXMgd2l0aCAgICAgICAgICAvXG4vICAgcmVzcGVjdCB0byB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhpcyBjb21wdXRlciBwcm9ncmFtLCBhbmQgc3BlY2lmaWNhbGx5IGRpc2NsYWltcyAgIC9cbi8gICBhbnkgcmVzcG9uc2liaWxpdHkgZm9yIGFueSBkYW1hZ2VzLCBzcGVjaWFsIG9yIGNvbnNlcXVlbnRpYWwsIGNvbm5lY3RlZCAgICAgICAgICAgL1xuLyAgIHdpdGggdGhlIHVzZSBvZiB0aGlzIHByb2dyYW0uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL1xuXG5ERVNDUklQVElPTjogPENvbnRhaW5zIEdlbmVyYXRvciBGdW5jdGlvbnMgZm9yIGhhcmR3YXJlIGNvbnRhaW5lcj4gKlxuQE5BTUUgOiBoYXJkd2FyZU92ZXJ2aWV3U2FnYS5qc1xuQEFVVEhPUlM6IEpheSBTYW5naGF2aSBcbkBWZXJzaW9uIDogMS4wICpcbkBSRVZJU0lPTiBISVNUT1JZXG5bMDMvMTEvMjAxOV0gW0pheV0gOiBQcm90b3R5cGluZy4uLi4uLi4uLi4vLy8vLy8vLy8vLy8vLy8vLy8vL1xuKi9cblxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGNhbGwsIHRha2VFdmVyeSwgcHV0IH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcbmltcG9ydCAqIGFzIGFjdGlvblR5cGVzIGZyb20gJy4uL3N0b3JlL2FjdGlvbnMvYWN0aW9uVHlwZXMnO1xuaW1wb3J0ICogYXMgYWN0aW9uQ3JlYXRvcnMgZnJvbSAnLi4vc3RvcmUvYWN0aW9ucy9leHBvcnRBY3Rpb25DcmVhdG9ycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiogZmV0Y2hDaGFzc2lzRnJvbnRJbmZvKGFjdGlvbikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChbYXhpb3MsIGF4aW9zLmdldF0sICcvYXBpL3YxLjAvZ2V0X2NoYXNzaXNfZnJvbnRfaW5mby8nLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaENoYXNzaXNGcm9udEluZm8ocmVzdWx0LmZyb250X2luZm8pKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5vcGVuQWxlcnRCb3goe1xuICAgICAgICAgICAgYWxlcnRPcGVuOiB0cnVlLFxuICAgICAgICAgICAgaXN0eXBlYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICBhbGVydHR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICBhbGVydHRpdGxlOiAnSGFyZHdhcmUnLFxuICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1VuYWJsZSB0byByZXRyaWV2ZSBkYXRhJyxcbiAgICAgICAgfSkpO1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hDaGFzc2lzRnJvbnRJbmZvKFtdKSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICA7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiogZmV0Y2hDaGFzc2lzUmVhckluZm8oKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MuZ2V0XSwgJy9hcGkvdjEuMC9nZXRfY2hhc3Npc19yZWFyX2luZm8vJywge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXNzaXNMaXN0ID0gW107XG4gICAgICAgICAgICByZXN1bHQuZm9yRWFjaChjaGFzc2lzID0+IHtcbiAgICAgICAgICAgICAgICBjaGFzc2lzTGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2hhc3NpcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmZldGNoQ2hhc3Npc1JlYXJJbmZvKGNoYXNzaXNMaXN0KSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hDaGFzc2lzUmVhckluZm8oW10pKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogZmV0Y2hTZXJ2ZXJJbmZvKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChbYXhpb3MsIGF4aW9zLmdldF0sICcvYXBpL3YxLjAvZ2V0X3NlcnZlcl9pbmZvLycsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmZldGNoU2VydmVySW5mbyhyZXN1bHQpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaFNlcnZlckluZm8oe21vZGVsOicnLG1hbnVmYWN0dXJlcjonJyxtYWM6JycsaXA6JycsZmlybXdhcmV2ZXJzaW9uOicnLHNlcmlhbG5vOicnLGhvc3Q6JycsfSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uKiBmZXRjaFBvd2VySW5mbyhhY3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBpZihhY3Rpb24ucGFyYW0gPT0gbnVsbCB8fCBhY3Rpb24ucGFyYW0gIT0gXCJkb05vdFN0YXJ0TG9hZGVyXCIpXG4gICAgICAgIC8vICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RhcnRMb2FkZXIoJ0ZldGNoaW5nIEJNQyBJbmZvcm1hdGlvbicpKTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoW2F4aW9zLCBheGlvcy5nZXRdLCAnL2FwaS92MS4wL2dldF9wb3dlcl9pbmZvLycsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnN0b3BMb2FkZXIoKSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaFBvd2VySW5mbyhyZXN1bHQpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdG9wTG9hZGVyKCkpO1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hQb3dlckluZm8oe3Bvd2VyY29uc3VtcHRpb246JycscG93ZXJjYXA6JycscG93ZXJzdGF0dXM6J09mZid9KSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiogcmVib290U3lzdGVtKGFjdGlvbikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChbYXhpb3MsIGF4aW9zLnBvc3RdLCAnL2FwaS92MS4wL3JlYm9vdF9zeXN0ZW0vJywge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2U7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICAgICAgYWxlcnRPcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzdHlwZWFsZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgIGFsZXJ0dGl0bGU6ICdSZWJvb3QgU3lzdGVtJyxcbiAgICAgICAgICAgICAgICBhbGVydGRlc2NyaXB0aW9uOiAnU3lzdGVtIFJlYm9vdCBTdWNjZXNzZnVsJyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZSA9PT0gNDAwKVxuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICAgICAgYWxlcnRPcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzdHlwZWFsZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBhbGVydHRpdGxlOiAnUmVib290IFN5c3RlbScsXG4gICAgICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1N5c3RlbSBSZWJvb3QgRmFpbGVkJyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICAgICAgYWxlcnRPcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzdHlwZWFsZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBhbGVydHRpdGxlOiAnUmVib290IFN5c3RlbScsXG4gICAgICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1N5c3RlbSBSZWJvb3QgRmFpbGVkJyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaENoYXNzaXNGcm9udEluZm8oW10pKTtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaFBvd2VySW5mbyh7cG93ZXJjb25zdW1wdGlvbjonJyxwb3dlcmNhcDonJyxwb3dlcnN0YXR1czonT2ZmJ30pKTtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaFNlcnZlckluZm8oe21vZGVsOicnLG1hbnVmYWN0dXJlcjonJyxtYWM6JycsaXA6JycsZmlybXdhcmV2ZXJzaW9uOicnLHNlcmlhbG5vOicnLGhvc3Q6JycsfSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICBpc3R5cGVhbGVydDogdHJ1ZSxcbiAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGFsZXJ0dGl0bGU6ICdSZWJvb3QgU3lzdGVtJyxcbiAgICAgICAgICAgIGFsZXJ0ZGVzY3JpcHRpb246ICdTeXN0ZW0gUmVib290IEZhaWxlZCcsXG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiogc2h1dGRvd25TeXN0ZW0oYWN0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucG9zdF0sICcvYXBpL3YxLjAvc2h1dGRvd25fc3lzdGVtLycsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMub3BlbkFsZXJ0Qm94KHtcbiAgICAgICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgaXN0eXBlYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxlcnR0eXBlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgYWxlcnR0aXRsZTogJ1NodXRkb3duIFN5c3RlbScsXG4gICAgICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1N5c3RlbSBTaHV0ZG93biBTdWNjZXNzZnVsJyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZSA9PT0gNDAwKVxuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICAgICAgYWxlcnRPcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzdHlwZWFsZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBhbGVydHRpdGxlOiAnU2h1dGRvd24gU3lzdGVtJyxcbiAgICAgICAgICAgICAgICBhbGVydGRlc2NyaXB0aW9uOiAnU3lzdGVtIFNodXRkb3duIEZhaWxlZCcsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5vcGVuQWxlcnRCb3goe1xuICAgICAgICAgICAgICAgIGFsZXJ0T3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc3R5cGVhbGVydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhbGVydHR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICAgICAgYWxlcnR0aXRsZTogJ1NodXRkb3duIFN5c3RlbScsXG4gICAgICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1N5c3RlbSBTaHV0ZG93biBGYWlsZWQnLFxuICAgICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICBpc3R5cGVhbGVydDogdHJ1ZSxcbiAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGFsZXJ0dGl0bGU6ICdTaHV0ZG93biBTeXN0ZW0nLFxuICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1N5c3RlbSBTaHV0ZG93biBGYWlsZWQnLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24qIHBvd2VyT25TeXN0ZW0oYWN0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucG9zdF0sICcvYXBpL3YxLjAvcG93ZXJfb25fc3lzdGVtLycsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMub3BlbkFsZXJ0Qm94KHtcbiAgICAgICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgaXN0eXBlYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxlcnR0eXBlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgYWxlcnR0aXRsZTogJ1Bvd2VyIE9uIFN5c3RlbScsXG4gICAgICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1Bvd2VyIE9uIFN1Y2Nlc3NmdWwnLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlID09PSA0MDApXG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMub3BlbkFsZXJ0Qm94KHtcbiAgICAgICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgaXN0eXBlYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxlcnR0eXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0dGl0bGU6ICdQb3dlciBPbiBTeXN0ZW0nLFxuICAgICAgICAgICAgICAgIGFsZXJ0ZGVzY3JpcHRpb246ICdQb3dlciBPbiBGYWlsZWQnLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMub3BlbkFsZXJ0Qm94KHtcbiAgICAgICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgaXN0eXBlYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxlcnR0eXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0dGl0bGU6ICdQb3dlciBPbiBTeXN0ZW0nLFxuICAgICAgICAgICAgICAgIGFsZXJ0ZGVzY3JpcHRpb246ICdQb3dlciBPbiBGYWlsZWQnLFxuICAgICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICBpc3R5cGVhbGVydDogdHJ1ZSxcbiAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGFsZXJ0dGl0bGU6ICdQb3dlciBPbiBTeXN0ZW0nLFxuICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1Bvd2VyIE9uIEZhaWxlZCcsXG4gICAgICAgIH0pKTs7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24qIGZvcmNlU2h1dGRvd25TeXN0ZW0oYWN0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucG9zdF0sICcvYXBpL3YxLjAvZm9yY2Vfc2h1dGRvd25fc3lzdGVtLycsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMub3BlbkFsZXJ0Qm94KHtcbiAgICAgICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICAgICAgaXN0eXBlYWxlcnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxlcnR0eXBlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgYWxlcnR0aXRsZTogJ1NodXRkb3duIFN5c3RlbScsXG4gICAgICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1N5c3RlbSBTaHV0ZG93biBTdWNjZXNzZnVsJyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZSA9PT0gNDAwKVxuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICAgICAgYWxlcnRPcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzdHlwZWFsZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBhbGVydHRpdGxlOiAnU2h1dGRvd24gU3lzdGVtJyxcbiAgICAgICAgICAgICAgICBhbGVydGRlc2NyaXB0aW9uOiAnU3lzdGVtIFNodXRkb3duIEZhaWxlZCcsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5vcGVuQWxlcnRCb3goe1xuICAgICAgICAgICAgICAgIGFsZXJ0T3BlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc3R5cGVhbGVydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhbGVydHR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICAgICAgYWxlcnR0aXRsZTogJ1NodXRkb3duIFN5c3RlbScsXG4gICAgICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1N5c3RlbSBTaHV0ZG93biBGYWlsZWQnLFxuICAgICAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLm9wZW5BbGVydEJveCh7XG4gICAgICAgICAgICBhbGVydE9wZW46IHRydWUsXG4gICAgICAgICAgICBpc3R5cGVhbGVydDogdHJ1ZSxcbiAgICAgICAgICAgIGFsZXJ0dHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGFsZXJ0dGl0bGU6ICdTaHV0ZG93biBTeXN0ZW0nLFxuICAgICAgICAgICAgYWxlcnRkZXNjcmlwdGlvbjogJ1N5c3RlbSBTaHV0ZG93biBGYWlsZWQnLFxuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24qIGhhcmR3YXJlT3ZlcnZpZXdXYXRjaGVyKCkge1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX0hBUkRXQVJFX09WRVJWSUVXX0ZFVENIX1NFUlZFUl9JTkZPUk1BVElPTiwgZmV0Y2hTZXJ2ZXJJbmZvKTtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9IQVJEV0FSRV9PVkVSVklFV19GRVRDSF9QT1dFUl9JTkZPUk1BVElPTiwgZmV0Y2hQb3dlckluZm8pO1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX0hBUkRXQVJFX09WRVJWSUVXX0ZFVENIX0NIQVNTSVNfRlJPTlRfSU5GT1JNQVRJT04sIGZldGNoQ2hhc3Npc0Zyb250SW5mbyk7XG4gICAgeWllbGQgdGFrZUV2ZXJ5KGFjdGlvblR5cGVzLlNBR0FfSEFSRFdBUkVfT1ZFUlZJRVdfRkVUQ0hfQ0hBU1NJU19SRUFSX0lORk9STUFUSU9OLCBmZXRjaENoYXNzaXNSZWFySW5mbyk7XG4gICAgeWllbGQgdGFrZUV2ZXJ5KGFjdGlvblR5cGVzLlNBR0FfSEFSRFdBUkVfT1ZFUlZJRVdfUkVCT09UX1NZU1RFTSwgcmVib290U3lzdGVtKTtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9IQVJEV0FSRV9PVkVSVklFV19TSFVURE9XTl9TWVNURU0sIHNodXRkb3duU3lzdGVtKTtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9IQVJEV0FSRV9PVkVSVklFV19GT1JDRV9TSFVURE9XTl9TWVNURU0sIGZvcmNlU2h1dGRvd25TeXN0ZW0pO1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX0hBUkRXQVJFX09WRVJWSUVXX1BPV0VSX09OX1NZU1RFTSwgcG93ZXJPblN5c3RlbSk7XG5cbn1cbiJdfQ==