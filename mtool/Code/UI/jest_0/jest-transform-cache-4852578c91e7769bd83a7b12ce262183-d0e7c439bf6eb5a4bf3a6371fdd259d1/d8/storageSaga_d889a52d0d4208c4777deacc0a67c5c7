25a5c1c3da236513ea56441d15e7b7ce
"use strict";

var _interopRequireWildcard = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = storageWatcher;

var _defineProperty2 = _interopRequireDefault(require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/defineProperty"));

var _axios = _interopRequireDefault(require("axios"));

var _effects = require("redux-saga/effects");

var actionTypes = _interopRequireWildcard(require("../store/actions/actionTypes"));

var actionCreators = _interopRequireWildcard(require("../store/actions/exportActionCreators"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function* fetchArraySize() {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], `/api/v1.0/available_storage/?ts=${Date.now()}`, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200 && response.data) {
      yield (0, _effects.put)(actionCreators.fetchArraySize(response.data[0].arraySize));
    } else {
      yield (0, _effects.put)(actionCreators.fetchArraySize(0));
    }
  } catch (e) {
    yield (0, _effects.put)(actionCreators.fetchArraySize(0));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.fetchArraySize(0));
    }
  }
}

function* fetchVolumeDetails(action) {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], action.payload, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200) {
      yield (0, _effects.put)(actionCreators.addVolumeDetails(response.data));
    }
  } catch (e) {// console.log(e)
  }
}

function* fetchVolumes() {
  try {
    yield (0, _effects.put)(actionCreators.clearVolumes());
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], '/redfish/v1/StorageServices/1/Volumes', {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200) {
      for (let i = 0; i < response.data.Members.length; i += 1) {
        yield fetchVolumeDetails({
          payload: response.data.Members[i]["@odata.id"]
        });
      }

      yield fetchArraySize();
    } else {
      yield (0, _effects.put)(actionCreators.fetchStorageVolumes({
        volumes: [],
        totalVolSize: 0
      }));
    }
  } catch (e) {
    yield (0, _effects.put)(actionCreators.fetchStorageVolumes({
      volumes: [],
      totalVolSize: 0
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.fetchStorageVolumes({
        volumes: [],
        totalVolSize: 0
      }));
    }
  }
}

function* fetchArray(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Fetching Devices'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], `/api/v1.0/get_arrays/?ts=${Date.now()}`, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200 && response.data && response.data.length > 0) {
      yield (0, _effects.put)(actionCreators.fetchArray(response.data[0]));
      yield fetchArraySize();
    } else if (response.status === 401) {
      action.payload.push("/login");
    } else {
      yield (0, _effects.put)(actionCreators.setNoArray());
    }
  } catch (e) {
    yield (0, _effects.put)(actionCreators.setNoArray());
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.setNoArray());
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
    yield fetchVolumes();
  }
}

function* fetchDevices() {
  const defaultResponse = {
    devices: [],
    metadevices: []
  };
  const alertDetails = {
    errorMsg: 'Unable to get devices!',
    alertType: 'alert',
    alertTitle: 'Fetch Devices'
  };

  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Fetching Devices'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], '/api/v1.0/get_devices/', {
      headers: {
        'x-access-token': localStorage.getItem('token')
      }
    });
    const result = response.data;

    if (response.status === 200 && response.data.result && response.data.result.status.code !== 0) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        alertTitle: 'Fetch Devices',
        errorMsg: 'Unable to get devices!',
        errorCode: `Description: ${response.data.result && response.data.result.status ? `${response.data.result.status.description}, Error code:${response.data.result.status.code}` : ''}`
      }));
    } else if (result && typeof result !== "string" && result.return !== -1) {
      yield (0, _effects.put)(actionCreators.fetchDevices(result));
    } else if (result.status === 401) {// console.log('401 status');
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert(alertDetails));
      yield (0, _effects.put)(actionCreators.fetchDevices(defaultResponse));
    }
  } catch (error) {
    yield (0, _effects.put)(actionCreators.showStorageAlert(alertDetails));
    yield (0, _effects.put)(actionCreators.fetchDevices(defaultResponse));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert(alertDetails));
      yield (0, _effects.put)(actionCreators.fetchDevices(defaultResponse));
    }

    yield fetchArray();
    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* createVolume(action) {
  try {
    // for multi-volume creation
    if (action.payload.count < 2) yield (0, _effects.put)(actionCreators.startStorageLoader('Creating Volume'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/save-volume/', _objectSpread({}, action.payload), {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });
    console.log("Volume Createddd!!!!!!!!!!!!!!!!", response);

    if (action.payload.count > 1) {
      if (response.status === 200) {
        yield (0, _effects.put)(actionCreators.toggleCreateVolumeButton(true));
      } else {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          alertType: 'alert',
          alertTitle: 'Create Volume',
          errorMsg: 'Volume(s) creation failed',
          errorCode: ``
        }));
      }
    } // for single volume creation
    else if (response.status === 200) {
        console.log(response.data.result.status.code);

        if (response.data.result && response.data.result.status && (response.data.result.status.code === 2000 || response.data.result.status.code === 0)) {
          console.log(" Create volume successfull");
          yield (0, _effects.put)(actionCreators.showStorageAlert({
            alertType: 'info',
            alertTitle: 'Create Volume',
            errorMsg: 'Volume(s) created successfully',
            errorCode: ''
          }));
        } else {
          yield (0, _effects.put)(actionCreators.showStorageAlert({
            alertType: 'alert',
            alertTitle: 'Create Volume',
            errorMsg: 'Volume(s) creation failed',
            errorCode: `Description: ${response.data.result && response.data.result.status ? `${response.data.result.status.description}, Error code:${response.data.result.status.code}` : ''}`
          }));
        }

        yield fetchVolumes();
      } else {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          alertType: 'alert',
          alertTitle: 'Create Volume',
          errorMsg: 'Volume(s) creation failed',
          errorCode: `Message from server: ${response.data ? response.data.result : ''}`
        }));
      }
  } catch (error) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      alertType: 'alert',
      alertTitle: 'Create Volume',
      errorMsg: 'Volume(s) creation failed',
      errorCode: ``
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        alertTitle: 'Create Volume',
        errorMsg: 'Volume(s) creation failed',
        errorCode: ``
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}
/* function* createVolume(action) {
    let vol_successful = 0
    try {
        let count
        let prefix = action.payload.name
        
        yield put(actionCreators.toggleCreateVolumeButton(true));

        console.log("payloaddd",action.payload)
        for (count = 1; count <= action.payload.count; count++) {
            if (action.payload.count != 1) {
                action.payload.name = prefix + "_" + action.payload.suffix.toString()
                action.payload.suffix++
            }
            const response = yield call([axios, axios.post], '/api/v1.0/save-volume/', {
                ...action.payload
            }, {
                headers: {
                    Accept: 'application/json',
                    'Content-Type': 'application/json',
                    'x-access-token': localStorage.getItem('token'),
                }
            })

            if (response.status === 200) {
                if (response.data.result && response.data.result.status && (response.data.result.status.code === 2000 || response.data.result.status.code === 0)) {
                    vol_successful++
                }
            }
            if (action.payload.stop_on_error === true) {
                if (response.status === 200) {
                    if (response.data.result && response.data.result.status && (response.data.result.status.code === 2000 || response.data.result.status.code === 0))
                        continue;
                    else
                        break;
                }
                else if (yield cancelled() || response.status !== 200) {
                    break;
                }
            }
        }
    }
    catch (error) {
        yield put(actionCreators.showStorageAlert({
            alertType: 'alert',
            alertTitle: 'Create Volume',
            errorMsg: 'Volume(s) creation failed',
            errorCode: ``
        }))
    } finally {
        if (yield cancelled()) {
            yield put(actionCreators.showStorageAlert({
                alertType: 'alert',
                alertTitle: 'Create Volume',
                errorMsg: 'Volume(s) creation failed',
                errorCode: ``
            }))
        }
        else {
            let alert_type = vol_successful === 0 ? 'alert' : 'info'
            let error_msg
            if(vol_successful == action.payload.count)
            {
                if(action.payload.count === 1)
                    error_msg = 'Volume created successfully'
                else
                    error_msg = 'Status: ' + vol_successful + ' volumes created successfully'
            }
            else
            {
                if(action.payload.count === 1)
                    error_msg = 'Volume creation failed'
                else
                    error_msg = 'Status: ' + vol_successful + "/" + action.payload.count + ' volume(s) created successfully'
            }

            yield put(actionCreators.showStorageAlert({
                alertType: alert_type,
                alertTitle: 'Create Volume',
                errorMsg: error_msg,
                errorCode: '',
            }));
        }
        yield put(actionCreators.toggleCreateVolumeButton(false));
        yield fetchVolumes();
    }
}
*/
// function* createVolume(action) {
//     try {
//         yield put(actionCreators.startStorageLoader('Creating Volume'));
//         const response = yield call([axios, axios.post], '/api/v1.0/save-volume/', {
//             ...action.payload
//         }, {
//             headers: {
//                 Accept: 'application/json',
//                 'Content-Type': 'application/json',
//                 'x-access-token': localStorage.getItem('token'),
//             }
//         });
//         if (response.status === 200) {
//             if (response.data.result && response.data.result.status && (response.data.result.status.code === 2000 || response.data.result.status.code === 0)) {
//                 yield put(actionCreators.showStorageAlert({
//                     alertType: 'info',
//                     alertTitle: 'Create Volume',
//                     errorMsg: 'Volume(s) created successfully',
//                     errorCode: '',
//                 }));
//             } else {
//                 yield put(actionCreators.showStorageAlert({
//                     alertType: 'alert',
//                     alertTitle: 'Create Volume',
//                     errorMsg: 'Volume(s) creation failed',
//                     errorCode: `Message from server: ${response.data.result && response.data.result.status ? response.data.result.status.description : ''}`
//                 }))
//             }
//             yield fetchVolumes();
//         } else {
//             yield put(actionCreators.showStorageAlert({
//                 alertType: 'alert',
//                 alertTitle: 'Create Volume',
//                 errorMsg: 'Volume(s) creation failed',
//                 errorCode: `Message from server: ${response.data ? response.data.result : ''}`
//             }))
//         }
//     } catch (error) {
//         yield put(actionCreators.showStorageAlert({
//             alertType: 'alert',
//             alertTitle: 'Create Volume',
//             errorMsg: 'Volume(s) creation failed',
//             errorCode: ``
//         }))
//     } finally {
//         if (yield cancelled()) {
//             yield put(actionCreators.showStorageAlert({
//                 alertType: 'alert',
//                 alertTitle: 'Create Volume',
//                 errorMsg: 'Volume(s) creation failed',
//                 errorCode: ``
//             }))
//         }
//         yield put(actionCreators.stopStorageLoader());
//     }
// }


function* updateVolume(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Updating Volume'));

    if (action.payload.maxiops < 0 || action.payload.maxbw < 0 || action.payload.maxiops > 0 && action.payload.maxiops < 10) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        alertTitle: 'Update Volume',
        errorMsg: 'Please give valid values',
        errorCode: ''
      }));
      return;
    }

    const data = {
      maxiops: parseInt(action.payload.maxiops, 10),
      maxbw: parseInt(action.payload.maxbw, 10),
      name: action.payload.name
    };
    const response = yield (0, _effects.call)([_axios.default, _axios.default.put], '/api/v1.0/update-volume/', data, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200) {
      if (response.data.result && response.data.result.status && (response.data.result.status.code === 2000 || response.data.result.status.code === 0)) {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          alertType: 'info',
          alertTitle: 'Update Volume',
          errorMsg: 'Volume Updated successfully',
          errorCode: ''
        }));
      } else {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          alertType: 'alert',
          alertTitle: 'Update Volume',
          errorMsg: 'Volume Updation failed',
          errorCode: `Description: ${response.data.result && response.data.result.status ? `${response.data.result.status.description}, Error code:${response.data.result.status.code}` : ''}`
        }));
      }

      yield fetchVolumes();
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        alertTitle: 'Update Volume',
        errorMsg: 'Volume Updation failed',
        errorCode: `Message from server: ${response.data ? response.data.result : ''}`
      }));
    }
  } catch (error) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      alertType: 'alert',
      alertTitle: 'Update Volume',
      errorMsg: 'Volume Updation failed',
      errorCode: ``
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        alertTitle: 'Update Volume',
        errorMsg: 'Volume Updation failed',
        errorCode: ``
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* fetchMaxVolumeCount() {
  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.get], `/api/v1.0/max_volume_count/?ts=${Date.now()}`, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200 && response.data) {
      yield (0, _effects.put)(actionCreators.fetchMaxVolumeCount(response.data));
    }
  } catch (e) {
    yield (0, _effects.put)(actionCreators.fetchMaxVolumeCount(256));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.fetchMaxVolumeCount(256));
    }
  }
}

function* deleteArray(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Deleting Array'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/delete_array/', _objectSpread({}, action.payload), {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200 && response.data && response.data.return !== -1) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'info',
        alertTitle: 'Delete Array',
        errorMsg: 'Array deleted successfully',
        errorCode: ''
      }));
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        errorMsg: 'Array deletion failed',
        alertType: 'alert',
        alertTitle: 'Delete Array',
        errorCode: `Message from server: ${response.data.result}`
      }));
    }

    yield fetchArray();
  } catch (e) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      errorMsg: 'Array deletion failed',
      alertType: 'alert',
      alertTitle: 'Delete Array',
      errorCode: ''
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        errorMsg: 'Array deletion failed',
        alertType: 'alert',
        alertTitle: 'Delete Array',
        errorCode: ``
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* deleteVolumes(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Deleting Volume(s)'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/delete_volumes', action.payload, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200 && response.data) {
      if (response.data.return !== -1) {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          alertType: 'info',
          alertTitle: 'Delete Volume',
          errorMsg: 'Volume(s) deleted successfully',
          errorCode: ''
        }));
      } else {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          errorMsg: `Deletion failed for volume :  ${response.data.vol_name}`,
          alertType: 'alert',
          alertTitle: 'Delete Volume',
          errorCode: `Description:${`${response.data.result.description}, Error Code:${response.data.result.code}`}`
        }));
      }
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        errorMsg: 'Volume deletion failed',
        alertType: 'alert',
        alertTitle: 'Delete Volume',
        errorCode: `Message from server:${response.data.result}`
      }));
    }

    yield fetchVolumes();
  } catch (e) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      errorMsg: 'Volume deletion failed',
      alertType: 'alert',
      alertTitle: 'Delete Volume',
      errorCode: ''
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        errorMsg: 'Volume deletion failed',
        alertType: 'alert',
        alertTitle: 'Delete Volume',
        errorCode: ''
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* createArray(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Creating Array'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/create_arrays/', _objectSpread({}, action.payload), {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200) {
      if (response.data.return !== -1 && response.data.result.status.code === 0) {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          errorMsg: 'Array created successfully',
          alertTitle: 'Create Array',
          alertType: 'info',
          errorCode: ''
        }));
      } else {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          alertType: 'alert',
          errorMsg: 'Error in Array Creation',
          errorCode: `Description:${response.data.result.status.description}, Error Code: ${response.data.result.status.code}`,
          alertTitle: 'Create Array'
        }));
      }
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error in Array Creation',
        errorCode: response.data && response.data.result ? response.data.result : 'Array Creation failed',
        alertTitle: 'Create Array'
      }));
    }

    yield fetchArray();
    yield fetchMaxVolumeCount();
  } catch (e) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      alertType: 'alert',
      errorMsg: 'Error in Array Creation',
      errorCode: '',
      alertTitle: 'Create Array'
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error in Array Creation',
        errorCode: '',
        alertTitle: 'Create Array'
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* attachDisk(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Attaching Device'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/attach_device/', {
      name: action.payload.name
    }, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200 && response.data.return !== -1) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        errorMsg: 'Device Attached successfully',
        alertTitle: 'Attach Device',
        alertType: 'info',
        errorCode: ''
      }));
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error while Attaching Device',
        errorCode: response.data && response.data.result ? response.data.result : 'Device Attaching failed',
        alertTitle: 'Device Attach'
      }));
    }

    yield fetchArray();
  } catch (e) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      alertType: 'alert',
      errorMsg: 'Error in Attaching Device',
      errorCode: '',
      alertTitle: 'Attach Device'
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error in Attaching Device',
        errorCode: '',
        alertTitle: 'Attach Device'
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* addSpareDisk(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Adding Spare Device'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/add_spare_device/', {
      name: action.payload.name
    }, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200) {
      if (response.data.return !== -1) {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          errorMsg: 'Spare Device Added successfully',
          alertTitle: 'Add Spare Device',
          alertType: 'info',
          errorCode: ''
        }));
      } else {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          alertType: 'alert',
          errorMsg: 'Error while Adding Spare Device',
          errorCode: `Description:${response.data.result.description}, Error Code:${response.data.result.code}`,
          alertTitle: 'Add Spare Device'
        }));
      }
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error while Adding Spare Device',
        errorCode: response.data && response.data.result ? response.data.result : 'Adding Spare Device Failed',
        alertTitle: 'Add Spare Device'
      }));
    }

    yield fetchArray();
  } catch (e) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      alertType: 'alert',
      errorMsg: 'Error while Adding Spare Device',
      errorCode: '',
      alertTitle: 'Add Spare Device'
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error while Adding Spare Device',
        errorCode: '',
        alertTitle: 'Add Spare Device'
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* detachDisk(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Detaching Device'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/detach_device/', {
      name: action.payload.name
    }, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200 && response.data.return !== -1) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        errorMsg: 'Device Detached successfully',
        alertTitle: 'Detach Device',
        alertType: 'info',
        errorCode: ''
      }));
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error while Detaching Device',
        errorCode: response.data && response.data.result ? response.data.result : 'Device Detaching failed',
        alertTitle: 'Device Detach'
      }));
    }

    yield fetchArray();
  } catch (e) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      alertType: 'alert',
      errorMsg: 'Error in Detaching Device',
      errorCode: '',
      alertTitle: 'Detach Device'
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error in Detaching Device',
        errorCode: '',
        alertTitle: 'Detach Device'
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* removeSpareDisk(action) {
  try {
    yield (0, _effects.put)(actionCreators.startStorageLoader('Removing Spare Device'));
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/remove_spare_device/', {
      name: action.payload.name
    }, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200) {
      if (response.data.return !== -1) {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          errorMsg: 'Spare Device Removed successfully',
          alertTitle: 'Remove Spare Device',
          alertType: 'info',
          errorCode: ''
        }));
      } else {
        yield (0, _effects.put)(actionCreators.showStorageAlert({
          alertType: 'alert',
          errorMsg: 'Error while Removing Spare Device',
          errorCode: `Description:${response.data.result.description}, Error Code:${response.data.result.code}`,
          alertTitle: 'Remove Spare Device'
        }));
      }
    } else {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error while Removing Spare Device',
        errorCode: response.data && response.data.result ? response.data.result : 'Removing Spare Device failed',
        alertTitle: 'Remove Spare Device'
      }));
    }

    yield fetchArray();
  } catch (e) {
    yield (0, _effects.put)(actionCreators.showStorageAlert({
      alertType: 'alert',
      errorMsg: 'Error while Removing Spare Device',
      errorCode: '',
      alertTitle: 'Remove Spare Device'
    }));
  } finally {
    if (yield (0, _effects.cancelled)()) {
      yield (0, _effects.put)(actionCreators.showStorageAlert({
        alertType: 'alert',
        errorMsg: 'Error while Removing Spare Device',
        errorCode: '',
        alertTitle: 'Remove Spare Device'
      }));
    }

    yield (0, _effects.put)(actionCreators.stopStorageLoader());
  }
}

function* fetchDeviceDetails(action) {
  const defaultDiskDetails = {
    DevicePath: 'NA',
    SerialNumber: 'NA',
    ModelNumber: 'NA',
    PhysicalSize: 'NA',
    UsedBytes: 'NA',
    Firmware: 'NA',
    critical_warning: 'NA',
    temperature: 'NA',
    avail_spare: 'NA',
    spare_thresh: 'NA',
    precent_used: 'NA',
    data_units_read: 'NA',
    data_units_written: 'NA',
    critical_comp_time: 'NA',
    warning_temp_time: 'NA',
    percent_used: 'NA'
  };

  try {
    const response = yield (0, _effects.call)([_axios.default, _axios.default.post], '/api/v1.0/get_device_details/', action.payload, {
      headers: {
        Accept: 'application/json',
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
      }
    });

    if (response.status === 200 && response.data) {
      yield (0, _effects.put)(actionCreators.fetchDeviceDetails(_objectSpread({}, response.data.Device, {}, response.data.smartStatus)));
    } else {
      yield (0, _effects.put)(actionCreators.fetchDeviceDetails(defaultDiskDetails));
    }
  } catch (e) {
    yield (0, _effects.put)(actionCreators.fetchDeviceDetails(defaultDiskDetails));
  }
}

function* storageWatcher() {
  yield (0, _effects.takeEvery)(actionTypes.SAGA_FETCH_DEVICE_INFO, fetchDevices);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_SAVE_VOLUME, createVolume);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_FETCH_ARRAY_SIZE, fetchArraySize);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_FETCH_ARRAY, fetchArray);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_DELETE_ARRAY, deleteArray);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_FETCH_VOLUMES, fetchVolumes);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_DELETE_VOLUMES, deleteVolumes);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_CREATE_ARRAY, createArray);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_FETCH_DEVICE_DETAILS, fetchDeviceDetails);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_UPDATE_VOLUME, updateVolume);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_ATTACH_DISK, attachDisk);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_DETACH_DISK, detachDisk);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_ADD_SPARE_DISK, addSpareDisk);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_REMOVE_SPARE_DISK, removeSpareDisk);
  yield (0, _effects.takeEvery)(actionTypes.SAGA_FETCH_MAX_VOLUME_COUNT, fetchMaxVolumeCount);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0b3JhZ2VTYWdhLmpzIl0sIm5hbWVzIjpbImZldGNoQXJyYXlTaXplIiwicmVzcG9uc2UiLCJheGlvcyIsImdldCIsIkRhdGUiLCJub3ciLCJoZWFkZXJzIiwiQWNjZXB0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0YXR1cyIsImRhdGEiLCJhY3Rpb25DcmVhdG9ycyIsImFycmF5U2l6ZSIsImUiLCJmZXRjaFZvbHVtZURldGFpbHMiLCJhY3Rpb24iLCJwYXlsb2FkIiwiYWRkVm9sdW1lRGV0YWlscyIsImZldGNoVm9sdW1lcyIsImNsZWFyVm9sdW1lcyIsImkiLCJNZW1iZXJzIiwibGVuZ3RoIiwiZmV0Y2hTdG9yYWdlVm9sdW1lcyIsInZvbHVtZXMiLCJ0b3RhbFZvbFNpemUiLCJmZXRjaEFycmF5Iiwic3RhcnRTdG9yYWdlTG9hZGVyIiwicHVzaCIsInNldE5vQXJyYXkiLCJzdG9wU3RvcmFnZUxvYWRlciIsImZldGNoRGV2aWNlcyIsImRlZmF1bHRSZXNwb25zZSIsImRldmljZXMiLCJtZXRhZGV2aWNlcyIsImFsZXJ0RGV0YWlscyIsImVycm9yTXNnIiwiYWxlcnRUeXBlIiwiYWxlcnRUaXRsZSIsInJlc3VsdCIsImNvZGUiLCJzaG93U3RvcmFnZUFsZXJ0IiwiZXJyb3JDb2RlIiwiZGVzY3JpcHRpb24iLCJyZXR1cm4iLCJlcnJvciIsImNyZWF0ZVZvbHVtZSIsImNvdW50IiwicG9zdCIsImNvbnNvbGUiLCJsb2ciLCJ0b2dnbGVDcmVhdGVWb2x1bWVCdXR0b24iLCJ1cGRhdGVWb2x1bWUiLCJtYXhpb3BzIiwibWF4YnciLCJwYXJzZUludCIsIm5hbWUiLCJwdXQiLCJmZXRjaE1heFZvbHVtZUNvdW50IiwiZGVsZXRlQXJyYXkiLCJkZWxldGVWb2x1bWVzIiwidm9sX25hbWUiLCJjcmVhdGVBcnJheSIsImF0dGFjaERpc2siLCJhZGRTcGFyZURpc2siLCJkZXRhY2hEaXNrIiwicmVtb3ZlU3BhcmVEaXNrIiwiZmV0Y2hEZXZpY2VEZXRhaWxzIiwiZGVmYXVsdERpc2tEZXRhaWxzIiwiRGV2aWNlUGF0aCIsIlNlcmlhbE51bWJlciIsIk1vZGVsTnVtYmVyIiwiUGh5c2ljYWxTaXplIiwiVXNlZEJ5dGVzIiwiRmlybXdhcmUiLCJjcml0aWNhbF93YXJuaW5nIiwidGVtcGVyYXR1cmUiLCJhdmFpbF9zcGFyZSIsInNwYXJlX3RocmVzaCIsInByZWNlbnRfdXNlZCIsImRhdGFfdW5pdHNfcmVhZCIsImRhdGFfdW5pdHNfd3JpdHRlbiIsImNyaXRpY2FsX2NvbXBfdGltZSIsIndhcm5pbmdfdGVtcF90aW1lIiwicGVyY2VudF91c2VkIiwiRGV2aWNlIiwic21hcnRTdGF0dXMiLCJzdG9yYWdlV2F0Y2hlciIsImFjdGlvblR5cGVzIiwiU0FHQV9GRVRDSF9ERVZJQ0VfSU5GTyIsIlNBR0FfU0FWRV9WT0xVTUUiLCJTQUdBX0ZFVENIX0FSUkFZX1NJWkUiLCJTQUdBX0ZFVENIX0FSUkFZIiwiU0FHQV9ERUxFVEVfQVJSQVkiLCJTQUdBX0ZFVENIX1ZPTFVNRVMiLCJTQUdBX0RFTEVURV9WT0xVTUVTIiwiU0FHQV9DUkVBVEVfQVJSQVkiLCJTQUdBX0ZFVENIX0RFVklDRV9ERVRBSUxTIiwiU0FHQV9VUERBVEVfVk9MVU1FIiwiU0FHQV9BVFRBQ0hfRElTSyIsIlNBR0FfREVUQUNIX0RJU0siLCJTQUdBX0FERF9TUEFSRV9ESVNLIiwiU0FHQV9SRU1PVkVfU1BBUkVfRElTSyIsIlNBR0FfRkVUQ0hfTUFYX1ZPTFVNRV9DT1VOVCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQTJCQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBR0EsVUFBVUEsY0FBVixHQUEyQjtBQUN2QixNQUFJO0FBQ0EsVUFBTUMsUUFBUSxHQUFHLE1BQU0sbUJBQUssQ0FBQ0MsY0FBRCxFQUFRQSxlQUFNQyxHQUFkLENBQUwsRUFBMEIsbUNBQWtDQyxJQUFJLENBQUNDLEdBQUwsRUFBVyxFQUF2RSxFQUEwRTtBQUM3RkMsTUFBQUEsT0FBTyxFQUFFO0FBQ0xDLFFBQUFB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LGtCQUFqRCxDQUFOO0FBQ0EsUUFBTSx3QkFBVXFCLFdBQVcsQ0FBQ1Usa0JBQXRCLEVBQTBDOUMsWUFBMUMsQ0FBTjtBQUNBLFFBQU0sd0JBQVVvQyxXQUFXLENBQUNXLGdCQUF0QixFQUF3Q3BDLFVBQXhDLENBQU47QUFDQSxRQUFNLHdCQUFVeUIsV0FBVyxDQUFDWSxnQkFBdEIsRUFBd0NuQyxVQUF4QyxDQUFOO0FBQ0EsUUFBTSx3QkFBVXVCLFdBQVcsQ0FBQ2EsbUJBQXRCLEVBQTJDckMsWUFBM0MsQ0FBTjtBQUNBLFFBQU0sd0JBQVV3QixXQUFXLENBQUNjLHNCQUF0QixFQUE4Q3BDLGVBQTlDLENBQU47QUFDQSxRQUFNLHdCQUFVc0IsV0FBVyxDQUFDZSwyQkFBdEIsRUFBbUQ3QyxtQkFBbkQsQ0FBTjtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICBDT1BZUklHSFQgKGMpIDIwMTkgU0FNU1VORyBFTEVDVFJPTklDUyBDTy4sIExURC4gICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgQUxMIFJJR0hUUyBSRVNFUlZFRCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkIHRvIGxpY2Vuc2VlcyBvZiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiAgICAgICAgL1xuLyAgIHByb2R1Y3RzIHRvIHVzZSBvciBhYnN0cmFjdCB0aGlzIGNvbXB1dGVyIHByb2dyYW0gZm9yIHRoZSBzb2xlIHB1cnBvc2Ugb2YgICAgICAgICAvXG4vICAgaW1wbGVtZW50aW5nIGEgcHJvZHVjdCBiYXNlZCBvbiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiBwcm9kdWN0cy4gICAgICAgICAgIC9cbi8gICBObyBvdGhlciByaWdodHMgdG8gcmVwcm9kdWNlLCB1c2UsIG9yIGRpc3NlbWluYXRlIHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSwgICAgICAgICAgL1xuLyAgIHdoZXRoZXIgaW4gcGFydCBvciBpbiB3aG9sZSwgYXJlIGdyYW50ZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIFxuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gbWFrZXMgbm8gcmVwcmVzZW50YXRpb24gb3Igd2FycmFudGllcyB3aXRoICAgICAgICAgIC9cbi8gICByZXNwZWN0IHRvIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIGNvbXB1dGVyIHByb2dyYW0sIGFuZCBzcGVjaWZpY2FsbHkgZGlzY2xhaW1zICAgL1xuLyAgIGFueSByZXNwb25zaWJpbGl0eSBmb3IgYW55IGRhbWFnZXMsIHNwZWNpYWwgb3IgY29uc2VxdWVudGlhbCwgY29ubmVjdGVkICAgICAgICAgICAvXG4vICAgd2l0aCB0aGUgdXNlIG9mIHRoaXMgcHJvZ3JhbS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vXG5cblxuREVTQ1JJUFRJT046IDxDb250YWlucyBHZW5lcmF0b3IgRnVuY3Rpb25zIGZvciBTdG9yYWdlIE1hbmFnZW1lbnQgY29tcG9uZW50PiAqXG5ATkFNRSA6IHN0b3JhZ2VTYWdhLmpzXG5AQVVUSE9SUzogQXN3aW4gSyBLIFxuQFZlcnNpb24gOiAxLjAgKlxuQFJFVklTSU9OIEhJU1RPUllcblsyMS8wOC8yMDE5XSBbQXN3aW4gSyBLXSA6IFByb3RvdHlwaW5nLi4uLi4uLi4uLi8vLy8vLy8vLy8vLy8vLy8vLy8vXG4qL1xuXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgY2FsbCwgdGFrZUV2ZXJ5LCBwdXQsIGNhbmNlbGxlZCB9IGZyb20gJ3JlZHV4LXNhZ2EvZWZmZWN0cyc7XG5pbXBvcnQgKiBhcyBhY3Rpb25UeXBlcyBmcm9tIFwiLi4vc3RvcmUvYWN0aW9ucy9hY3Rpb25UeXBlc1wiO1xuaW1wb3J0ICogYXMgYWN0aW9uQ3JlYXRvcnMgZnJvbSBcIi4uL3N0b3JlL2FjdGlvbnMvZXhwb3J0QWN0aW9uQ3JlYXRvcnNcIjtcblxuXG5mdW5jdGlvbiogZmV0Y2hBcnJheVNpemUoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MuZ2V0XSwgYC9hcGkvdjEuMC9hdmFpbGFibGVfc3RvcmFnZS8/dHM9JHtEYXRlLm5vdygpfWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaEFycmF5U2l6ZShyZXNwb25zZS5kYXRhWzBdLmFycmF5U2l6ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmZldGNoQXJyYXlTaXplKDApKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmZldGNoQXJyYXlTaXplKDApKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaEFycmF5U2l6ZSgwKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuZnVuY3Rpb24qIGZldGNoVm9sdW1lRGV0YWlscyhhY3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoW2F4aW9zLCBheGlvcy5nZXRdLCBhY3Rpb24ucGF5bG9hZCwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmFkZFZvbHVtZURldGFpbHMocmVzcG9uc2UuZGF0YSkpXG4gICAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uKiBmZXRjaFZvbHVtZXMoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmNsZWFyVm9sdW1lcygpKVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoW2F4aW9zLCBheGlvcy5nZXRdLCAnL3JlZGZpc2gvdjEvU3RvcmFnZVNlcnZpY2VzLzEvVm9sdW1lcycsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5NZW1iZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgZmV0Y2hWb2x1bWVEZXRhaWxzKHtwYXlsb2FkOiByZXNwb25zZS5kYXRhLk1lbWJlcnNbaV1bXCJAb2RhdGEuaWRcIl19KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgZmV0Y2hBcnJheVNpemUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaFN0b3JhZ2VWb2x1bWVzKHsgdm9sdW1lczogW10sIHRvdGFsVm9sU2l6ZTogMCB9KSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaFN0b3JhZ2VWb2x1bWVzKHsgdm9sdW1lczogW10sIHRvdGFsVm9sU2l6ZTogMCB9KSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHlpZWxkIGNhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hTdG9yYWdlVm9sdW1lcyh7IHZvbHVtZXM6IFtdLCB0b3RhbFZvbFNpemU6IDAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiogZmV0Y2hBcnJheShhY3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RhcnRTdG9yYWdlTG9hZGVyKCdGZXRjaGluZyBEZXZpY2VzJykpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoW2F4aW9zLCBheGlvcy5nZXRdLCBgL2FwaS92MS4wL2dldF9hcnJheXMvP3RzPSR7RGF0ZS5ub3coKX1gLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmZldGNoQXJyYXkocmVzcG9uc2UuZGF0YVswXSkpO1xuICAgICAgICAgICAgeWllbGQgZmV0Y2hBcnJheVNpemUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgICAgYWN0aW9uLnBheWxvYWQucHVzaChcIi9sb2dpblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zZXROb0FycmF5KCkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2V0Tm9BcnJheSgpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zZXROb0FycmF5KCkpO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdG9wU3RvcmFnZUxvYWRlcigpKTtcbiAgICAgICAgeWllbGQgZmV0Y2hWb2x1bWVzKCk7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uKiBmZXRjaERldmljZXMoKSB7XG4gICAgY29uc3QgZGVmYXVsdFJlc3BvbnNlID0ge1xuICAgICAgICBkZXZpY2VzOiBbXSxcbiAgICAgICAgbWV0YWRldmljZXM6IFtdXG4gICAgfVxuICAgIGNvbnN0IGFsZXJ0RGV0YWlscyA9IHtcbiAgICAgICAgZXJyb3JNc2c6ICdVbmFibGUgdG8gZ2V0IGRldmljZXMhJyxcbiAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICBhbGVydFRpdGxlOiAnRmV0Y2ggRGV2aWNlcydcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdGFydFN0b3JhZ2VMb2FkZXIoJ0ZldGNoaW5nIERldmljZXMnKSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChbYXhpb3MsIGF4aW9zLmdldF0sICcvYXBpL3YxLjAvZ2V0X2RldmljZXMvJywge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0ICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5jb2RlICE9PSAwKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdGZXRjaCBEZXZpY2VzJyxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1VuYWJsZSB0byBnZXQgZGV2aWNlcyEnLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogYERlc2NyaXB0aW9uOiAke3Jlc3BvbnNlLmRhdGEucmVzdWx0ICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cyA/IGAke3Jlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5kZXNjcmlwdGlvbiB9LCBFcnJvciBjb2RlOiR7IHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5jb2RlfWAgOiAnJ31gXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQgJiYgdHlwZW9mIChyZXN1bHQpICE9PSBcInN0cmluZ1wiICYmIHJlc3VsdC5yZXR1cm4gIT09IC0xKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hEZXZpY2VzKHJlc3VsdCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnNDAxIHN0YXR1cycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoYWxlcnREZXRhaWxzKSlcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaERldmljZXMoZGVmYXVsdFJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydChhbGVydERldGFpbHMpKTtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmZldGNoRGV2aWNlcyhkZWZhdWx0UmVzcG9uc2UpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KGFsZXJ0RGV0YWlscykpO1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLmZldGNoRGV2aWNlcyhkZWZhdWx0UmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBmZXRjaEFycmF5KCk7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdG9wU3RvcmFnZUxvYWRlcigpKTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24qIGNyZWF0ZVZvbHVtZShhY3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBmb3IgbXVsdGktdm9sdW1lIGNyZWF0aW9uXG4gICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZC5jb3VudCA8IDIpXG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RhcnRTdG9yYWdlTG9hZGVyKCdDcmVhdGluZyBWb2x1bWUnKSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChbYXhpb3MsIGF4aW9zLnBvc3RdLCAnL2FwaS92MS4wL3NhdmUtdm9sdW1lLycsIHtcbiAgICAgICAgICAgIC4uLmFjdGlvbi5wYXlsb2FkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIlZvbHVtZSBDcmVhdGVkZGQhISEhISEhISEhISEhISEhXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnRvZ2dsZUNyZWF0ZVZvbHVtZUJ1dHRvbih0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0NyZWF0ZSBWb2x1bWUnLFxuICAgICAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1ZvbHVtZShzKSBjcmVhdGlvbiBmYWlsZWQnLFxuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGBgXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yIHNpbmdsZSB2b2x1bWUgY3JlYXRpb25cbiAgICAgICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnJlc3VsdC5zdGF0dXMuY29kZSlcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHQgJiYgcmVzcG9uc2UuZGF0YS5yZXN1bHQuc3RhdHVzICYmIChyZXNwb25zZS5kYXRhLnJlc3VsdC5zdGF0dXMuY29kZSA9PT0gMjAwMCB8fCByZXNwb25zZS5kYXRhLnJlc3VsdC5zdGF0dXMuY29kZSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIgQ3JlYXRlIHZvbHVtZSBzdWNjZXNzZnVsbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnQ3JlYXRlIFZvbHVtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1ZvbHVtZShzKSBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0NyZWF0ZSBWb2x1bWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdWb2x1bWUocykgY3JlYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZTogYERlc2NyaXB0aW9uOiAke3Jlc3BvbnNlLmRhdGEucmVzdWx0ICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cyA/IGAke3Jlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5kZXNjcmlwdGlvbiB9LCBFcnJvciBjb2RlOiR7IHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5jb2RlfWAgOiAnJ31gXG4gICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5aWVsZCBmZXRjaFZvbHVtZXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdDcmVhdGUgVm9sdW1lJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdWb2x1bWUocykgY3JlYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlOiBgTWVzc2FnZSBmcm9tIHNlcnZlcjogJHtyZXNwb25zZS5kYXRhID8gcmVzcG9uc2UuZGF0YS5yZXN1bHQgOiAnJ31gXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICBhbGVydFRpdGxlOiAnQ3JlYXRlIFZvbHVtZScsXG4gICAgICAgICAgICBlcnJvck1zZzogJ1ZvbHVtZShzKSBjcmVhdGlvbiBmYWlsZWQnLFxuICAgICAgICAgICAgZXJyb3JDb2RlOiBgYFxuICAgICAgICB9KSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0NyZWF0ZSBWb2x1bWUnLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnVm9sdW1lKHMpIGNyZWF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiBgYFxuICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnN0b3BTdG9yYWdlTG9hZGVyKCkpO1xuICAgIH1cbn1cbi8qIGZ1bmN0aW9uKiBjcmVhdGVWb2x1bWUoYWN0aW9uKSB7XG4gICAgbGV0IHZvbF9zdWNjZXNzZnVsID0gMFxuICAgIHRyeSB7XG4gICAgICAgIGxldCBjb3VudFxuICAgICAgICBsZXQgcHJlZml4ID0gYWN0aW9uLnBheWxvYWQubmFtZVxuICAgICAgICBcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnRvZ2dsZUNyZWF0ZVZvbHVtZUJ1dHRvbih0cnVlKSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJwYXlsb2FkZGRcIixhY3Rpb24ucGF5bG9hZClcbiAgICAgICAgZm9yIChjb3VudCA9IDE7IGNvdW50IDw9IGFjdGlvbi5wYXlsb2FkLmNvdW50OyBjb3VudCsrKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQuY291bnQgIT0gMSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi5wYXlsb2FkLm5hbWUgPSBwcmVmaXggKyBcIl9cIiArIGFjdGlvbi5wYXlsb2FkLnN1ZmZpeC50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgYWN0aW9uLnBheWxvYWQuc3VmZml4KytcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChbYXhpb3MsIGF4aW9zLnBvc3RdLCAnL2FwaS92MS4wL3NhdmUtdm9sdW1lLycsIHtcbiAgICAgICAgICAgICAgICAuLi5hY3Rpb24ucGF5bG9hZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3VsdCAmJiByZXNwb25zZS5kYXRhLnJlc3VsdC5zdGF0dXMgJiYgKHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5jb2RlID09PSAyMDAwIHx8IHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5jb2RlID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICB2b2xfc3VjY2Vzc2Z1bCsrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkLnN0b3Bfb25fZXJyb3IgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0ICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cyAmJiAocmVzcG9uc2UuZGF0YS5yZXN1bHQuc3RhdHVzLmNvZGUgPT09IDIwMDAgfHwgcmVzcG9uc2UuZGF0YS5yZXN1bHQuc3RhdHVzLmNvZGUgPT09IDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh5aWVsZCBjYW5jZWxsZWQoKSB8fCByZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdDcmVhdGUgVm9sdW1lJyxcbiAgICAgICAgICAgIGVycm9yTXNnOiAnVm9sdW1lKHMpIGNyZWF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgICBlcnJvckNvZGU6IGBgXG4gICAgICAgIH0pKVxuICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICh5aWVsZCBjYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnQ3JlYXRlIFZvbHVtZScsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdWb2x1bWUocykgY3JlYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGBgXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBhbGVydF90eXBlID0gdm9sX3N1Y2Nlc3NmdWwgPT09IDAgPyAnYWxlcnQnIDogJ2luZm8nXG4gICAgICAgICAgICBsZXQgZXJyb3JfbXNnXG4gICAgICAgICAgICBpZih2b2xfc3VjY2Vzc2Z1bCA9PSBhY3Rpb24ucGF5bG9hZC5jb3VudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZihhY3Rpb24ucGF5bG9hZC5jb3VudCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JfbXNnID0gJ1ZvbHVtZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGVycm9yX21zZyA9ICdTdGF0dXM6ICcgKyB2b2xfc3VjY2Vzc2Z1bCArICcgdm9sdW1lcyBjcmVhdGVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZihhY3Rpb24ucGF5bG9hZC5jb3VudCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JfbXNnID0gJ1ZvbHVtZSBjcmVhdGlvbiBmYWlsZWQnXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBlcnJvcl9tc2cgPSAnU3RhdHVzOiAnICsgdm9sX3N1Y2Nlc3NmdWwgKyBcIi9cIiArIGFjdGlvbi5wYXlsb2FkLmNvdW50ICsgJyB2b2x1bWUocykgY3JlYXRlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICBhbGVydFR5cGU6IGFsZXJ0X3R5cGUsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0NyZWF0ZSBWb2x1bWUnLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiBlcnJvcl9tc2csXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMudG9nZ2xlQ3JlYXRlVm9sdW1lQnV0dG9uKGZhbHNlKSk7XG4gICAgICAgIHlpZWxkIGZldGNoVm9sdW1lcygpO1xuICAgIH1cbn1cbiovXG5cbi8vIGZ1bmN0aW9uKiBjcmVhdGVWb2x1bWUoYWN0aW9uKSB7XG4vLyAgICAgdHJ5IHtcbi8vICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnN0YXJ0U3RvcmFnZUxvYWRlcignQ3JlYXRpbmcgVm9sdW1lJykpO1xuLy8gICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoW2F4aW9zLCBheGlvcy5wb3N0XSwgJy9hcGkvdjEuMC9zYXZlLXZvbHVtZS8nLCB7XG4vLyAgICAgICAgICAgICAuLi5hY3Rpb24ucGF5bG9hZFxuLy8gICAgICAgICB9LCB7XG4vLyAgICAgICAgICAgICBoZWFkZXJzOiB7XG4vLyAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4vLyAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbi8vICAgICAgICAgICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfSk7XG4vLyAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuLy8gICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzdWx0ICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cyAmJiAocmVzcG9uc2UuZGF0YS5yZXN1bHQuc3RhdHVzLmNvZGUgPT09IDIwMDAgfHwgcmVzcG9uc2UuZGF0YS5yZXN1bHQuc3RhdHVzLmNvZGUgPT09IDApKSB7XG4vLyAgICAgICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuLy8gICAgICAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdpbmZvJyxcbi8vICAgICAgICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0NyZWF0ZSBWb2x1bWUnLFxuLy8gICAgICAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1ZvbHVtZShzKSBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsXG4vLyAgICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZTogJycsXG4vLyAgICAgICAgICAgICAgICAgfSkpO1xuLy8gICAgICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4vLyAgICAgICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0Jyxcbi8vICAgICAgICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0NyZWF0ZSBWb2x1bWUnLFxuLy8gICAgICAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1ZvbHVtZShzKSBjcmVhdGlvbiBmYWlsZWQnLFxuLy8gICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGBNZXNzYWdlIGZyb20gc2VydmVyOiAke3Jlc3BvbnNlLmRhdGEucmVzdWx0ICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cyA/IHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5kZXNjcmlwdGlvbiA6ICcnfWBcbi8vICAgICAgICAgICAgICAgICB9KSlcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIHlpZWxkIGZldGNoVm9sdW1lcygpO1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuLy8gICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0Jyxcbi8vICAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnQ3JlYXRlIFZvbHVtZScsXG4vLyAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdWb2x1bWUocykgY3JlYXRpb24gZmFpbGVkJyxcbi8vICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGBNZXNzYWdlIGZyb20gc2VydmVyOiAke3Jlc3BvbnNlLmRhdGEgPyByZXNwb25zZS5kYXRhLnJlc3VsdCA6ICcnfWBcbi8vICAgICAgICAgICAgIH0pKVxuLy8gICAgICAgICB9XG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuLy8gICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuLy8gICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0NyZWF0ZSBWb2x1bWUnLFxuLy8gICAgICAgICAgICAgZXJyb3JNc2c6ICdWb2x1bWUocykgY3JlYXRpb24gZmFpbGVkJyxcbi8vICAgICAgICAgICAgIGVycm9yQ29kZTogYGBcbi8vICAgICAgICAgfSkpXG4vLyAgICAgfSBmaW5hbGx5IHtcbi8vICAgICAgICAgaWYgKHlpZWxkIGNhbmNlbGxlZCgpKSB7XG4vLyAgICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4vLyAgICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuLy8gICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdDcmVhdGUgVm9sdW1lJyxcbi8vICAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1ZvbHVtZShzKSBjcmVhdGlvbiBmYWlsZWQnLFxuLy8gICAgICAgICAgICAgICAgIGVycm9yQ29kZTogYGBcbi8vICAgICAgICAgICAgIH0pKVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdG9wU3RvcmFnZUxvYWRlcigpKTtcbi8vICAgICB9XG5cbi8vIH1cblxuZnVuY3Rpb24qIHVwZGF0ZVZvbHVtZShhY3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RhcnRTdG9yYWdlTG9hZGVyKCdVcGRhdGluZyBWb2x1bWUnKSk7XG4gICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZC5tYXhpb3BzIDwgMCB8fCBhY3Rpb24ucGF5bG9hZC5tYXhidyA8IDAgfHxcbiAgICAgICAgICAgIChhY3Rpb24ucGF5bG9hZC5tYXhpb3BzID4gMCAmJiBhY3Rpb24ucGF5bG9hZC5tYXhpb3BzIDwgMTApKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdVcGRhdGUgVm9sdW1lJyxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1BsZWFzZSBnaXZlIHZhbGlkIHZhbHVlcycsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBtYXhpb3BzOiBwYXJzZUludChhY3Rpb24ucGF5bG9hZC5tYXhpb3BzLDEwKSxcbiAgICAgICAgICAgIG1heGJ3OiBwYXJzZUludChhY3Rpb24ucGF5bG9hZC5tYXhidywxMCksXG4gICAgICAgICAgICBuYW1lOiBhY3Rpb24ucGF5bG9hZC5uYW1lXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucHV0XSwgJy9hcGkvdjEuMC91cGRhdGUtdm9sdW1lLycsIGRhdGEsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHQgJiYgcmVzcG9uc2UuZGF0YS5yZXN1bHQuc3RhdHVzICYmIChyZXNwb25zZS5kYXRhLnJlc3VsdC5zdGF0dXMuY29kZSA9PT0gMjAwMCB8fCByZXNwb25zZS5kYXRhLnJlc3VsdC5zdGF0dXMuY29kZSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnVXBkYXRlIFZvbHVtZScsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnVm9sdW1lIFVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnVXBkYXRlIFZvbHVtZScsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnVm9sdW1lIFVwZGF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZTogYERlc2NyaXB0aW9uOiAke3Jlc3BvbnNlLmRhdGEucmVzdWx0ICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cyA/IGAke3Jlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5kZXNjcmlwdGlvbiB9LCBFcnJvciBjb2RlOiR7IHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5jb2RlfWAgOiAnJ31gXG5cbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIGZldGNoVm9sdW1lcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnVXBkYXRlIFZvbHVtZScsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdWb2x1bWUgVXBkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGBNZXNzYWdlIGZyb20gc2VydmVyOiAke3Jlc3BvbnNlLmRhdGEgPyByZXNwb25zZS5kYXRhLnJlc3VsdCA6ICcnfWBcbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgYWxlcnRUaXRsZTogJ1VwZGF0ZSBWb2x1bWUnLFxuICAgICAgICAgICAgZXJyb3JNc2c6ICdWb2x1bWUgVXBkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgIGVycm9yQ29kZTogYGBcbiAgICAgICAgfSkpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHlpZWxkIGNhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdVcGRhdGUgVm9sdW1lJyxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1ZvbHVtZSBVcGRhdGlvbiBmYWlsZWQnLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogYGBcbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdG9wU3RvcmFnZUxvYWRlcigpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uKiBmZXRjaE1heFZvbHVtZUNvdW50KCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChbYXhpb3MsIGF4aW9zLmdldF0sIGAvYXBpL3YxLjAvbWF4X3ZvbHVtZV9jb3VudC8/dHM9JHtEYXRlLm5vdygpfWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaE1heFZvbHVtZUNvdW50KHJlc3BvbnNlLmRhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hNYXhWb2x1bWVDb3VudCgyNTYpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5mZXRjaE1heFZvbHVtZUNvdW50KDI1NikpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uKiBkZWxldGVBcnJheShhY3Rpb24pIHtcbiAgICB0cnkge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RhcnRTdG9yYWdlTG9hZGVyKCdEZWxldGluZyBBcnJheScpKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucG9zdF0sICcvYXBpL3YxLjAvZGVsZXRlX2FycmF5LycsIHtcbiAgICAgICAgICAgIC4uLmFjdGlvbi5wYXlsb2FkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5yZXR1cm4gIT09IC0xKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0RlbGV0ZSBBcnJheScsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdBcnJheSBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnQXJyYXkgZGVsZXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0RlbGV0ZSBBcnJheScsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiBgTWVzc2FnZSBmcm9tIHNlcnZlcjogJHtyZXNwb25zZS5kYXRhLnJlc3VsdH1gXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgZmV0Y2hBcnJheSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgZXJyb3JNc2c6ICdBcnJheSBkZWxldGlvbiBmYWlsZWQnLFxuICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0RlbGV0ZSBBcnJheScsXG4gICAgICAgICAgICBlcnJvckNvZGU6ICcnXG4gICAgICAgIH0pKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ0FycmF5IGRlbGV0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdEZWxldGUgQXJyYXknLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogYGBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RvcFN0b3JhZ2VMb2FkZXIoKSk7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uKiBkZWxldGVWb2x1bWVzKGFjdGlvbikge1xuICAgIHRyeSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdGFydFN0b3JhZ2VMb2FkZXIoJ0RlbGV0aW5nIFZvbHVtZShzKScpKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucG9zdF0sICcvYXBpL3YxLjAvZGVsZXRlX3ZvbHVtZXMnLCBhY3Rpb24ucGF5bG9hZCwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDAgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmV0dXJuICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdEZWxldGUgVm9sdW1lJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdWb2x1bWUocykgZGVsZXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6ICcnLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6IGBEZWxldGlvbiBmYWlsZWQgZm9yIHZvbHVtZSA6ICAkeyByZXNwb25zZS5kYXRhLnZvbF9uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0RlbGV0ZSBWb2x1bWUnLFxuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGBEZXNjcmlwdGlvbjoke2Ake3Jlc3BvbnNlLmRhdGEucmVzdWx0LmRlc2NyaXB0aW9uIH0sIEVycm9yIENvZGU6JHsgcmVzcG9uc2UuZGF0YS5yZXN1bHQuY29kZX1gfWAsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnVm9sdW1lIGRlbGV0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdEZWxldGUgVm9sdW1lJyxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGBNZXNzYWdlIGZyb20gc2VydmVyOiR7cmVzcG9uc2UuZGF0YS5yZXN1bHR9YCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBmZXRjaFZvbHVtZXMoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgIGVycm9yTXNnOiAnVm9sdW1lIGRlbGV0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICBhbGVydFRpdGxlOiAnRGVsZXRlIFZvbHVtZScsXG4gICAgICAgICAgICBlcnJvckNvZGU6ICcnXG4gICAgICAgIH0pKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ1ZvbHVtZSBkZWxldGlvbiBmYWlsZWQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnRGVsZXRlIFZvbHVtZScsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdG9wU3RvcmFnZUxvYWRlcigpKTtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24qIGNyZWF0ZUFycmF5KGFjdGlvbikge1xuICAgIHRyeSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdGFydFN0b3JhZ2VMb2FkZXIoJ0NyZWF0aW5nIEFycmF5JykpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoW2F4aW9zLCBheGlvcy5wb3N0XSwgJy9hcGkvdjEuMC9jcmVhdGVfYXJyYXlzLycsIHtcbiAgICAgICAgICAgIC4uLmFjdGlvbi5wYXlsb2FkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXR1cm4gIT09IC0xICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5jb2RlID09PSAwICkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdBcnJheSBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdDcmVhdGUgQXJyYXknLFxuICAgICAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdpbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdFcnJvciBpbiBBcnJheSBDcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZTogYERlc2NyaXB0aW9uOiR7IHJlc3BvbnNlLmRhdGEucmVzdWx0LnN0YXR1cy5kZXNjcmlwdGlvbiB9LCBFcnJvciBDb2RlOiAkeyByZXNwb25zZS5kYXRhLnJlc3VsdC5zdGF0dXMuY29kZX1gLFxuICAgICAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnQ3JlYXRlIEFycmF5J1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ0Vycm9yIGluIEFycmF5IENyZWF0aW9uJyxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGU6IHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5yZXN1bHQgP1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnJlc3VsdCA6XG4gICAgICAgICAgICAgICAgICAgICdBcnJheSBDcmVhdGlvbiBmYWlsZWQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdDcmVhdGUgQXJyYXknXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgZmV0Y2hBcnJheSgpO1xuICAgICAgICB5aWVsZCBmZXRjaE1heFZvbHVtZUNvdW50KCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICBlcnJvck1zZzogJ0Vycm9yIGluIEFycmF5IENyZWF0aW9uJyxcbiAgICAgICAgICAgIGVycm9yQ29kZTogJycsXG4gICAgICAgICAgICBhbGVydFRpdGxlOiAnQ3JlYXRlIEFycmF5J1xuICAgICAgICB9KSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdFcnJvciBpbiBBcnJheSBDcmVhdGlvbicsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnQ3JlYXRlIEFycmF5J1xuICAgICAgICAgICAgfSkpXG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnN0b3BTdG9yYWdlTG9hZGVyKCkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24qIGF0dGFjaERpc2soYWN0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnN0YXJ0U3RvcmFnZUxvYWRlcignQXR0YWNoaW5nIERldmljZScpKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucG9zdF0sICcvYXBpL3YxLjAvYXR0YWNoX2RldmljZS8nLCB7XG4gICAgICAgICAgICBuYW1lOiBhY3Rpb24ucGF5bG9hZC5uYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEucmV0dXJuICE9PSAtMSkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnRGV2aWNlIEF0dGFjaGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0F0dGFjaCBEZXZpY2UnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogJycsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnRXJyb3Igd2hpbGUgQXR0YWNoaW5nIERldmljZScsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0ID9cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5yZXN1bHQgOlxuICAgICAgICAgICAgICAgICAgICAnRGV2aWNlIEF0dGFjaGluZyBmYWlsZWQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdEZXZpY2UgQXR0YWNoJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIGZldGNoQXJyYXkoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGVycm9yTXNnOiAnRXJyb3IgaW4gQXR0YWNoaW5nIERldmljZScsXG4gICAgICAgICAgICBlcnJvckNvZGU6ICcnLFxuICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0F0dGFjaCBEZXZpY2UnXG4gICAgICAgIH0pKVxuICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICh5aWVsZCBjYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ0Vycm9yIGluIEF0dGFjaGluZyBEZXZpY2UnLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogJycsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0F0dGFjaCBEZXZpY2UnXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RvcFN0b3JhZ2VMb2FkZXIoKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiogYWRkU3BhcmVEaXNrKGFjdGlvbikge1xuICAgIHRyeSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdGFydFN0b3JhZ2VMb2FkZXIoJ0FkZGluZyBTcGFyZSBEZXZpY2UnKSk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChbYXhpb3MsIGF4aW9zLnBvc3RdLCAnL2FwaS92MS4wL2FkZF9zcGFyZV9kZXZpY2UvJywge1xuICAgICAgICAgICAgbmFtZTogYWN0aW9uLnBheWxvYWQubmFtZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmV0dXJuICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdTcGFyZSBEZXZpY2UgQWRkZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0FkZCBTcGFyZSBEZXZpY2UnLFxuICAgICAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdpbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdFcnJvciB3aGlsZSBBZGRpbmcgU3BhcmUgRGV2aWNlJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlOiBgRGVzY3JpcHRpb246JHsgcmVzcG9uc2UuZGF0YS5yZXN1bHQuZGVzY3JpcHRpb24gfSwgRXJyb3IgQ29kZTokeyByZXNwb25zZS5kYXRhLnJlc3VsdC5jb2RlfWAsXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdBZGQgU3BhcmUgRGV2aWNlJ1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdFcnJvciB3aGlsZSBBZGRpbmcgU3BhcmUgRGV2aWNlJyxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGU6IHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5yZXN1bHQgP1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnJlc3VsdCA6XG4gICAgICAgICAgICAgICAgICAgICdBZGRpbmcgU3BhcmUgRGV2aWNlIEZhaWxlZCcsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0FkZCBTcGFyZSBEZXZpY2UnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgZmV0Y2hBcnJheSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgZXJyb3JNc2c6ICdFcnJvciB3aGlsZSBBZGRpbmcgU3BhcmUgRGV2aWNlJyxcbiAgICAgICAgICAgIGVycm9yQ29kZTogJycsXG4gICAgICAgICAgICBhbGVydFRpdGxlOiAnQWRkIFNwYXJlIERldmljZSdcbiAgICAgICAgfSkpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHlpZWxkIGNhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnRXJyb3Igd2hpbGUgQWRkaW5nIFNwYXJlIERldmljZScsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgICAgICBhbGVydFRpdGxlOiAnQWRkIFNwYXJlIERldmljZSdcbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zdG9wU3RvcmFnZUxvYWRlcigpKTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24qIGRldGFjaERpc2soYWN0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnN0YXJ0U3RvcmFnZUxvYWRlcignRGV0YWNoaW5nIERldmljZScpKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucG9zdF0sICcvYXBpL3YxLjAvZGV0YWNoX2RldmljZS8nLCB7XG4gICAgICAgICAgICBuYW1lOiBhY3Rpb24ucGF5bG9hZC5uYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICd4LWFjY2Vzcy10b2tlbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEucmV0dXJuICE9PSAtMSkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnRGV2aWNlIERldGFjaGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0RldGFjaCBEZXZpY2UnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogJycsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnRXJyb3Igd2hpbGUgRGV0YWNoaW5nIERldmljZScsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0ID9cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5yZXN1bHQgOlxuICAgICAgICAgICAgICAgICAgICAnRGV2aWNlIERldGFjaGluZyBmYWlsZWQnLFxuICAgICAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdEZXZpY2UgRGV0YWNoJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIGZldGNoQXJyYXkoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGVycm9yTXNnOiAnRXJyb3IgaW4gRGV0YWNoaW5nIERldmljZScsXG4gICAgICAgICAgICBlcnJvckNvZGU6ICcnLFxuICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0RldGFjaCBEZXZpY2UnXG4gICAgICAgIH0pKVxuICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICh5aWVsZCBjYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ0Vycm9yIGluIERldGFjaGluZyBEZXZpY2UnLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogJycsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ0RldGFjaCBEZXZpY2UnXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RvcFN0b3JhZ2VMb2FkZXIoKSk7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uKiByZW1vdmVTcGFyZURpc2soYWN0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnN0YXJ0U3RvcmFnZUxvYWRlcignUmVtb3ZpbmcgU3BhcmUgRGV2aWNlJykpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoW2F4aW9zLCBheGlvcy5wb3N0XSwgJy9hcGkvdjEuMC9yZW1vdmVfc3BhcmVfZGV2aWNlLycsIHtcbiAgICAgICAgICAgIG5hbWU6IGFjdGlvbi5wYXlsb2FkLm5hbWVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ3gtYWNjZXNzLXRva2VuJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJldHVybiAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnOiAnU3BhcmUgRGV2aWNlIFJlbW92ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ1JlbW92ZSBTcGFyZSBEZXZpY2UnLFxuICAgICAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdpbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc2hvd1N0b3JhZ2VBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdFcnJvciB3aGlsZSBSZW1vdmluZyBTcGFyZSBEZXZpY2UnLFxuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGBEZXNjcmlwdGlvbjokeyByZXNwb25zZS5kYXRhLnJlc3VsdC5kZXNjcmlwdGlvbiB9LCBFcnJvciBDb2RlOiR7IHJlc3BvbnNlLmRhdGEucmVzdWx0LmNvZGV9YCxcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ1JlbW92ZSBTcGFyZSBEZXZpY2UnXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgICAgIGFsZXJ0VHlwZTogJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICBlcnJvck1zZzogJ0Vycm9yIHdoaWxlIFJlbW92aW5nIFNwYXJlIERldmljZScsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlOiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEucmVzdWx0ID9cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5yZXN1bHQgOlxuICAgICAgICAgICAgICAgICAgICAnUmVtb3ZpbmcgU3BhcmUgRGV2aWNlIGZhaWxlZCcsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ1JlbW92ZSBTcGFyZSBEZXZpY2UnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgZmV0Y2hBcnJheSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgeWllbGQgcHV0KGFjdGlvbkNyZWF0b3JzLnNob3dTdG9yYWdlQWxlcnQoe1xuICAgICAgICAgICAgYWxlcnRUeXBlOiAnYWxlcnQnLFxuICAgICAgICAgICAgZXJyb3JNc2c6ICdFcnJvciB3aGlsZSBSZW1vdmluZyBTcGFyZSBEZXZpY2UnLFxuICAgICAgICAgICAgZXJyb3JDb2RlOiAnJyxcbiAgICAgICAgICAgIGFsZXJ0VGl0bGU6ICdSZW1vdmUgU3BhcmUgRGV2aWNlJ1xuICAgICAgICB9KSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoeWllbGQgY2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIHB1dChhY3Rpb25DcmVhdG9ycy5zaG93U3RvcmFnZUFsZXJ0KHtcbiAgICAgICAgICAgICAgICBhbGVydFR5cGU6ICdhbGVydCcsXG4gICAgICAgICAgICAgICAgZXJyb3JNc2c6ICdFcnJvciB3aGlsZSBSZW1vdmluZyBTcGFyZSBEZXZpY2UnLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZTogJycsXG4gICAgICAgICAgICAgICAgYWxlcnRUaXRsZTogJ1JlbW92ZSBTcGFyZSBEZXZpY2UnXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuc3RvcFN0b3JhZ2VMb2FkZXIoKSk7XG4gICAgfVxufVxuXG5cblxuZnVuY3Rpb24qIGZldGNoRGV2aWNlRGV0YWlscyhhY3Rpb24pIHtcbiAgICBjb25zdCBkZWZhdWx0RGlza0RldGFpbHMgPSB7XG4gICAgICAgIERldmljZVBhdGg6ICdOQScsXG4gICAgICAgIFNlcmlhbE51bWJlcjogJ05BJyxcbiAgICAgICAgTW9kZWxOdW1iZXI6ICdOQScsXG4gICAgICAgIFBoeXNpY2FsU2l6ZTogJ05BJyxcbiAgICAgICAgVXNlZEJ5dGVzOiAnTkEnLFxuICAgICAgICBGaXJtd2FyZTogJ05BJyxcbiAgICAgICAgY3JpdGljYWxfd2FybmluZzogJ05BJyxcbiAgICAgICAgdGVtcGVyYXR1cmU6ICdOQScsXG4gICAgICAgIGF2YWlsX3NwYXJlOiAnTkEnLFxuICAgICAgICBzcGFyZV90aHJlc2g6ICdOQScsXG4gICAgICAgIHByZWNlbnRfdXNlZDogJ05BJyxcbiAgICAgICAgZGF0YV91bml0c19yZWFkOiAnTkEnLFxuICAgICAgICBkYXRhX3VuaXRzX3dyaXR0ZW46ICdOQScsXG4gICAgICAgIGNyaXRpY2FsX2NvbXBfdGltZTogJ05BJyxcbiAgICAgICAgd2FybmluZ190ZW1wX3RpbWU6ICdOQScsXG4gICAgICAgIHBlcmNlbnRfdXNlZDogJ05BJyxcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFtheGlvcywgYXhpb3MucG9zdF0sICcvYXBpL3YxLjAvZ2V0X2RldmljZV9kZXRhaWxzLycsIGFjdGlvbi5wYXlsb2FkLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hEZXZpY2VEZXRhaWxzKHtcbiAgICAgICAgICAgICAgICAuLi5yZXNwb25zZS5kYXRhLkRldmljZSxcbiAgICAgICAgICAgICAgICAuLi5yZXNwb25zZS5kYXRhLnNtYXJ0U3RhdHVzXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hEZXZpY2VEZXRhaWxzKGRlZmF1bHREaXNrRGV0YWlscykpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB5aWVsZCBwdXQoYWN0aW9uQ3JlYXRvcnMuZmV0Y2hEZXZpY2VEZXRhaWxzKGRlZmF1bHREaXNrRGV0YWlscykpO1xuICAgIH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKiBzdG9yYWdlV2F0Y2hlcigpIHtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9GRVRDSF9ERVZJQ0VfSU5GTywgZmV0Y2hEZXZpY2VzKTtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9TQVZFX1ZPTFVNRSwgY3JlYXRlVm9sdW1lKTtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9GRVRDSF9BUlJBWV9TSVpFLCBmZXRjaEFycmF5U2l6ZSk7XG4gICAgeWllbGQgdGFrZUV2ZXJ5KGFjdGlvblR5cGVzLlNBR0FfRkVUQ0hfQVJSQVksIGZldGNoQXJyYXkpO1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX0RFTEVURV9BUlJBWSwgZGVsZXRlQXJyYXkpO1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX0ZFVENIX1ZPTFVNRVMsIGZldGNoVm9sdW1lcyk7XG4gICAgeWllbGQgdGFrZUV2ZXJ5KGFjdGlvblR5cGVzLlNBR0FfREVMRVRFX1ZPTFVNRVMsIGRlbGV0ZVZvbHVtZXMpO1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX0NSRUFURV9BUlJBWSwgY3JlYXRlQXJyYXkpO1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX0ZFVENIX0RFVklDRV9ERVRBSUxTLCBmZXRjaERldmljZURldGFpbHMpO1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX1VQREFURV9WT0xVTUUsIHVwZGF0ZVZvbHVtZSk7XG4gICAgeWllbGQgdGFrZUV2ZXJ5KGFjdGlvblR5cGVzLlNBR0FfQVRUQUNIX0RJU0ssIGF0dGFjaERpc2spO1xuICAgIHlpZWxkIHRha2VFdmVyeShhY3Rpb25UeXBlcy5TQUdBX0RFVEFDSF9ESVNLLCBkZXRhY2hEaXNrKTtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9BRERfU1BBUkVfRElTSywgYWRkU3BhcmVEaXNrKTtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9SRU1PVkVfU1BBUkVfRElTSywgcmVtb3ZlU3BhcmVEaXNrKTtcbiAgICB5aWVsZCB0YWtlRXZlcnkoYWN0aW9uVHlwZXMuU0FHQV9GRVRDSF9NQVhfVk9MVU1FX0NPVU5ULCBmZXRjaE1heFZvbHVtZUNvdW50KTtcbn1cbiJdfQ==