227968ebe7c1424e390d83b3a4f87ade
"use strict";

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _TreeView = _interopRequireDefault(require("@material-ui/lab/TreeView"));

var _ExpandMore = _interopRequireDefault(require("@material-ui/icons/ExpandMore"));

var _ChevronRight = _interopRequireDefault(require("@material-ui/icons/ChevronRight"));

var _TreeItem = _interopRequireDefault(require("@material-ui/lab/TreeItem"));

var _core = require("@material-ui/core");

require("./AlertTypes.css");

var _jsxFileName = "/home/ibof07/pk/ibofmgmt/Code/UI/src/components/AlertManagementComponents/AlertTypes/index.js";

const styles = () => {
  return {
    alertTypesOuterGrid: {
      border: '1px solid gray',
      maxWidth: '100%',
      overflowY: 'auto',
      overflowX: 'hidden',
      minHeight: '130px',
      maxHeight: '130px',
      background: '#fff'
    },
    alertTypesInnerGrid: {
      maxWidth: '100%'
    },
    alertTypesHeader: {
      backgroundColor: '#788595',
      color: 'white',
      paddingLeft: '5px',
      paddingTop: '3px',
      fontSize: '14px',
      height: '25px'
    }
  };
};

const AlertTypes = props => {
  const classes = props.classes;
  return _react.default.createElement(_core.Grid, {
    sm: 6,
    xs: 12,
    "data-testid": "AlertsTypesTag",
    item: true,
    container: true,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 62
    },
    __self: void 0
  }, _react.default.createElement(_core.Grid, {
    xs: 12,
    item: true,
    className: classes.alertTypesOuterGrid,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 63
    },
    __self: void 0
  }, _react.default.createElement(_core.Typography, {
    className: classes.alertTypesHeader,
    variant: "h6",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 64
    },
    __self: void 0
  }, "Alert Types"), _react.default.createElement(_core.Grid, {
    sm: 6,
    xs: 12,
    item: true,
    className: classes.alertTypesInnerGrid,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 65
    },
    __self: void 0
  }, props.alertClusterList ? props.alertClusterList.map((cluster, i) => {
    return _react.default.createElement(_TreeView.default, {
      key: cluster._id,
      defaultCollapseIcon: _react.default.createElement(_ExpandMore.default, {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 71
        },
        __self: void 0
      }),
      defaultExpandIcon: _react.default.createElement(_ChevronRight.default, {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 72
        },
        __self: void 0
      }),
      "data-testid": "ClusterTag",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 69
      },
      __self: void 0
    }, _react.default.createElement(_TreeItem.default, {
      nodeId: cluster.name,
      label: cluster.name,
      role: "treeitem",
      onClick: () => {
        props.selectAlertCluster(cluster, i);
      },
      __source: {
        fileName: _jsxFileName,
        lineNumber: 75
      },
      __self: void 0
    }, cluster.alertSubCluster ? cluster.alertSubCluster.map((subcluster, j) => {
      return _react.default.createElement(_TreeItem.default, {
        key: subcluster.name,
        nodeId: subcluster.name,
        label: subcluster.name,
        role: "subtreeitem",
        onClick: () => {
          props.selectAlertSubCluster(cluster.name, subcluster, i);
        },
        __source: {
          fileName: _jsxFileName,
          lineNumber: 85
        },
        __self: void 0
      }, _react.default.createElement(_core.FormGroup, {
        row: false,
        root: classes.root,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 89
        },
        __self: void 0
      }, subcluster.alertTypes.map(type => {
        return _react.default.createElement(_core.FormControlLabel, {
          key: type.type,
          control: _react.default.createElement(_core.Checkbox, {
            checked: !!type.selected,
            onChange: () => props.alertTypeSelected(type, i, j),
            __source: {
              fileName: _jsxFileName,
              lineNumber: 94
            },
            __self: void 0
          }),
          label: type.type,
          "data-testid": "alertTypesCheckbox",
          role: "formControl",
          labelPlacement: "end",
          __source: {
            fileName: _jsxFileName,
            lineNumber: 92
          },
          __self: void 0
        });
      })));
    }) : null));
  }) : null)));
};

var _default = (0, _core.withStyles)(styles)(AlertTypes);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInN0eWxlcyIsImFsZXJ0VHlwZXNPdXRlckdyaWQiLCJib3JkZXIiLCJtYXhXaWR0aCIsIm92ZXJmbG93WSIsIm92ZXJmbG93WCIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImJhY2tncm91bmQiLCJhbGVydFR5cGVzSW5uZXJHcmlkIiwiYWxlcnRUeXBlc0hlYWRlciIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nVG9wIiwiZm9udFNpemUiLCJoZWlnaHQiLCJBbGVydFR5cGVzIiwicHJvcHMiLCJjbGFzc2VzIiwiYWxlcnRDbHVzdGVyTGlzdCIsIm1hcCIsImNsdXN0ZXIiLCJpIiwiX2lkIiwibmFtZSIsInNlbGVjdEFsZXJ0Q2x1c3RlciIsImFsZXJ0U3ViQ2x1c3RlciIsInN1YmNsdXN0ZXIiLCJqIiwic2VsZWN0QWxlcnRTdWJDbHVzdGVyIiwicm9vdCIsImFsZXJ0VHlwZXMiLCJ0eXBlIiwic2VsZWN0ZWQiLCJhbGVydFR5cGVTZWxlY3RlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBMEJBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFJLE1BQU07QUFDcEIsU0FBUTtBQUNOQyxJQUFBQSxtQkFBbUIsRUFBRTtBQUNuQkMsTUFBQUEsTUFBTSxFQUFFLGdCQURXO0FBRW5CQyxNQUFBQSxRQUFRLEVBQUUsTUFGUztBQUduQkMsTUFBQUEsU0FBUyxFQUFFLE1BSFE7QUFJbkJDLE1BQUFBLFNBQVMsRUFBRSxRQUpRO0FBS25CQyxNQUFBQSxTQUFTLEVBQUUsT0FMUTtBQU1uQkMsTUFBQUEsU0FBUyxFQUFFLE9BTlE7QUFPbkJDLE1BQUFBLFVBQVUsRUFBRTtBQVBPLEtBRGY7QUFVTkMsSUFBQUEsbUJBQW1CLEVBQUU7QUFDbkJOLE1BQUFBLFFBQVEsRUFBRTtBQURTLEtBVmY7QUFhTk8sSUFBQUEsZ0JBQWdCLEVB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QUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBSUUsNkJBQUMsZUFBRDtBQUFXLFFBQUEsR0FBRyxFQUFFLEtBQWhCO0FBQXVCLFFBQUEsSUFBSSxFQUFFSixPQUFPLENBQUNZLElBQXJDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBQ0dILFVBQVUsQ0FBQ0ksVUFBWCxDQUFzQlgsR0FBdEIsQ0FBMEJZLElBQUksSUFBSTtBQUNqQyxlQUNFLDZCQUFDLHNCQUFEO0FBQ0UsVUFBQSxHQUFHLEVBQUVBLElBQUksQ0FBQ0EsSUFEWjtBQUVFLFVBQUEsT0FBTyxFQUFFLDZCQUFDLGNBQUQ7QUFBVSxZQUFBLE9BQU8sRUFBRSxDQUFFLENBQUNBLElBQUksQ0FBQ0MsUUFBM0I7QUFBc0MsWUFBQSxRQUFRLEVBQUUsTUFBTWhCLEtBQUssQ0FBQ2lCLGlCQUFOLENBQXdCRixJQUF4QixFQUE4QlYsQ0FBOUIsRUFBaUNNLENBQWpDLENBQXREO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFlBRlg7QUFHRSxVQUFBLEtBQUssRUFBRUksSUFBSSxDQUFDQSxJQUhkO0FBSUUseUJBQWMsb0JBSmhCO0FBS0UsVUFBQSxJQUFJLEVBQUMsYUFMUDtBQU1FLFVBQUEsY0FBYyxFQUFDLEtBTmpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFVBREY7QUFZRCxPQWJBLENBREgsQ0FKRixDQURGO0FBdUJELEtBeEJDLENBREgsR0F5Qk0sSUFoQ1QsQ0FORixDQURGO0FBMkNELEdBNUNDLENBREgsR0E4Q0csSUEvQ04sQ0FGRixDQURGLENBREY7QUF3REQsQ0ExREQ7O2VBNERlLHNCQUFXakMsTUFBWCxFQUFtQmlCLFVBQW5CLEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgIENPUFlSSUdIVCAoYykgMjAxOSBTQU1TVU5HIEVMRUNUUk9OSUNTIENPLiwgTFRELiAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICBBTEwgUklHSFRTIFJFU0VSVkVEICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQgdG8gbGljZW5zZWVzIG9mIFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuICAgICAgICAvXG4vICAgcHJvZHVjdHMgdG8gdXNlIG9yIGFic3RyYWN0IHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSBmb3IgdGhlIHNvbGUgcHVycG9zZSBvZiAgICAgICAgIC9cbi8gICBpbXBsZW1lbnRpbmcgYSBwcm9kdWN0IGJhc2VkIG9uIFNhbXN1bmcgRWxlY3Ryb25pY3MgQ28uLCBMdGQuIHByb2R1Y3RzLiAgICAgICAgICAgL1xuLyAgIE5vIG90aGVyIHJpZ2h0cyB0byByZXByb2R1Y2UsIHVzZSwgb3IgZGlzc2VtaW5hdGUgdGhpcyBjb21wdXRlciBwcm9ncmFtLCAgICAgICAgICAvXG4vICAgd2hldGhlciBpbiBwYXJ0IG9yIGluIHdob2xlLCBhcmUgZ3JhbnRlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiBtYWtlcyBubyByZXByZXNlbnRhdGlvbiBvciB3YXJyYW50aWVzIHdpdGggICAgICAgICAgL1xuLyAgIHJlc3BlY3QgdG8gdGhlIHBlcmZvcm1hbmNlIG9mIHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSwgYW5kIHNwZWNpZmljYWxseSBkaXNjbGFpbXMgICAvXG4vICAgYW55IHJlc3BvbnNpYmlsaXR5IGZvciBhbnkgZGFtYWdlcywgc3BlY2lhbCBvciBjb25zZXF1ZW50aWFsLCBjb25uZWN0ZWQgICAgICAgICAgIC9cbi8gICB3aXRoIHRoZSB1c2Ugb2YgdGhpcyBwcm9ncmFtLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS9cblxuXG5ERVNDUklQVElPTjogQWxlcnQgTWFuYWdlbWVudCBDb21wb25lbnQgZm9yIHNlbGVjdGluZyBBbGVydCBUeXBlc1xuQE5BTUUgOiBpbmRleC5qc1xuQEFVVEhPUlM6IEpheSBIaXRlc2ggU2FuZ2hhdmkgXG5AVmVyc2lvbiA6IDEuMCAqXG5AUkVWSVNJT04gSElTVE9SWVxuWzAzLzA2LzIwMTldIFtKYXldIDogUHJvdG90eXBpbmcuLi4uLi4uLi4uLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRyZWVWaWV3IGZyb20gJ0BtYXRlcmlhbC11aS9sYWIvVHJlZVZpZXcnO1xuaW1wb3J0IEV4cGFuZE1vcmVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FeHBhbmRNb3JlJztcbmltcG9ydCBDaGV2cm9uUmlnaHRJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DaGV2cm9uUmlnaHQnO1xuaW1wb3J0IFRyZWVJdGVtIGZyb20gXCJAbWF0ZXJpYWwtdWkvbGFiL1RyZWVJdGVtXCI7XG5pbXBvcnQgeyBGb3JtQ29udHJvbExhYmVsLCBDaGVja2JveCwgRm9ybUdyb3VwLCBHcmlkLCBUeXBvZ3JhcGh5LCB3aXRoU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0ICcuL0FsZXJ0VHlwZXMuY3NzJztcblxuY29uc3Qgc3R5bGVzID0gKCgpID0+IHtcbiAgcmV0dXJuICh7XG4gICAgYWxlcnRUeXBlc091dGVyR3JpZDoge1xuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIGdyYXknLFxuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgIG1pbkhlaWdodDogJzEzMHB4JyxcbiAgICAgIG1heEhlaWdodDogJzEzMHB4JyxcbiAgICAgIGJhY2tncm91bmQ6ICcjZmZmJ1xuICAgIH0sXG4gICAgYWxlcnRUeXBlc0lubmVyR3JpZDoge1xuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICB9LFxuICAgIGFsZXJ0VHlwZXNIZWFkZXI6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyM3ODg1OTUnLFxuICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICBwYWRkaW5nTGVmdDogJzVweCcsXG4gICAgICBwYWRkaW5nVG9wOiAnM3B4JyxcbiAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICBoZWlnaHQ6ICcyNXB4JyxcbiAgICB9XG4gIH0pXG59KTtcbmNvbnN0IEFsZXJ0VHlwZXMgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHsgY2xhc3NlcyB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPEdyaWQgc209ezZ9IHhzPXsxMn0gZGF0YS10ZXN0aWQ9XCJBbGVydHNUeXBlc1RhZ1wiIGl0ZW0gY29udGFpbmVyPlxuICAgICAgPEdyaWQgeHM9ezEyfSBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5hbGVydFR5cGVzT3V0ZXJHcmlkfT5cbiAgICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPXtjbGFzc2VzLmFsZXJ0VHlwZXNIZWFkZXJ9IHZhcmlhbnQ9XCJoNlwiPkFsZXJ0IFR5cGVzPC9UeXBvZ3JhcGh5PlxuICAgICAgICA8R3JpZCBzbT17Nn0geHM9ezEyfSBpdGVtIGNsYXNzTmFtZT17Y2xhc3Nlcy5hbGVydFR5cGVzSW5uZXJHcmlkfT5cbiAgICAgICAgICB7cHJvcHMuYWxlcnRDbHVzdGVyTGlzdFxuICAgICAgICAgICAgPyBwcm9wcy5hbGVydENsdXN0ZXJMaXN0Lm1hcCgoY2x1c3RlciwgaSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxUcmVlVmlld1xuICAgICAgICAgICAgICAgICAga2V5PXtjbHVzdGVyLl9pZH1cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xsYXBzZUljb249ezxFeHBhbmRNb3JlSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRFeHBhbmRJY29uPXs8Q2hldnJvblJpZ2h0SWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwiQ2x1c3RlclRhZ1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFRyZWVJdGVtIG5vZGVJZD17Y2x1c3Rlci5uYW1lfSBsYWJlbD17Y2x1c3Rlci5uYW1lfVxuICAgICAgICAgICAgICAgICAgICByb2xlPVwidHJlZWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2VsZWN0QWxlcnRDbHVzdGVyKGNsdXN0ZXIsIGkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7Y2x1c3Rlci5hbGVydFN1YkNsdXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICA/IGNsdXN0ZXIuYWxlcnRTdWJDbHVzdGVyLm1hcCgoc3ViY2x1c3RlciwgaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyZWVJdGVtIGtleT17c3ViY2x1c3Rlci5uYW1lfSBub2RlSWQ9e3N1YmNsdXN0ZXIubmFtZX0gbGFiZWw9e3N1YmNsdXN0ZXIubmFtZX0gcm9sZT1cInN1YnRyZWVpdGVtXCIgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzLnNlbGVjdEFsZXJ0U3ViQ2x1c3RlcihjbHVzdGVyLm5hbWUsIHN1YmNsdXN0ZXIsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cCByb3c9e2ZhbHNlfSByb290PXtjbGFzc2VzLnJvb3R9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YmNsdXN0ZXIuYWxlcnRUeXBlcy5tYXAodHlwZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dHlwZS50eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbD17PENoZWNrYm94IGNoZWNrZWQ9eyEoIXR5cGUuc2VsZWN0ZWQpfSBvbkNoYW5nZT17KCkgPT4gcHJvcHMuYWxlcnRUeXBlU2VsZWN0ZWQodHlwZSwgaSwgail9IC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3R5cGUudHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGlkID0gXCJhbGVydFR5cGVzQ2hlY2tib3hcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJmb3JtQ29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBsYWNlbWVudD1cImVuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UcmVlSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgPC9UcmVlSXRlbT5cbiAgICAgICAgICAgICAgICA8L1RyZWVWaWV3PlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogbnVsbH1cbiAgICAgICAgPC9HcmlkPlxuICAgICAgPC9HcmlkPlxuICAgIDwvR3JpZD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzKShBbGVydFR5cGVzKTtcbiJdfQ==