a5c490ab070b1cc996d56eb1d51e5b55
"use strict";

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _materialTable = _interopRequireDefault(require("material-table"));

var _MuiThemeProvider = _interopRequireDefault(require("@material-ui/core/styles/MuiThemeProvider"));

var _styles = require("@material-ui/core/styles");

var _core = require("@material-ui/core");

var _icons = require("@material-ui/icons");

var _Delete = _interopRequireDefault(require("@material-ui/icons/Delete"));

var _Dialog = _interopRequireDefault(require("../../Dialog"));

require("./AlertTable.css");

var _theme = require("../../../theme");

var _jsxFileName = "/home/ibof07/pk/ibofmgmt/Code/UI/src/components/AlertManagementComponents/AlertTable/index.js";

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

const styles = theme => {
  return {
    titleContainer: {
      marginTop: "-5px",
      maxWidth: '100%',
      flexBasis: '100%'
    },
    pageHeader: {
      textAlign: 'left',
      fontSize: '16px',
      fontWeight: 'bold',
      color: '#424850',
      marginBottom: theme.spacing(1)
    },
    tableContainer: {
      maxWidth: '100%',
      flexBasis: '100%'
    }
  };
};

let alertsData = [];

class AlertTable extends _react.Component {
  constructor(props) {
    super(props);
    this.theme = (0, _core.createMuiTheme)({
      typography: {
        fontSize: 12,
        fontFamily: 'Arial'
      },
      palette: {
        primary: {
          main: '#4caf50'
        },
        secondary: {
          main: '#ff9100'
        }
      }
    });
    this.state = {
      alertConditionValue: "",
      columns: [{
        title: 'Alert Name',
        field: 'alertName',
        editable: 'never'
      }, {
        title: 'Alert Type',
        field: 'alertType',
        editable: 'never'
      }, {
        title: 'Alert Condition',
        field: 'alertCondition',
        render: rowData => _react.default.createElement(_core.Select, {
          SelectDisplayProps: {
            'data-testid': "SelectEditTag"
          },
          disabled: true,
          value: rowData && rowData.tableData && rowData.tableData.id !== null ? this.props.alerts && this.props.alerts[rowData.tableData.id] ? this.props.alerts[rowData.tableData.id].alertCondition : 'This is NULL' : 'This is NULL',
          __source: {
            fileName: _jsxFileName,
            lineNumber: 100
          },
          __self: this
        }, this.props.dropdownCondition ? this.props.dropdownCondition.map(eachValue => {
          return _react.default.createElement(_core.MenuItem, {
            key: eachValue,
            value: eachValue,
            "data-testid": "SelectEditMenuItemTag",
            __source: {
              fileName: _jsxFileName,
              lineNumber: 108
            },
            __self: this
          }, eachValue);
        }) : null),
        editComponent: row => _react.default.createElement(_core.Select, {
          SelectDisplayProps: {
            'data-testid': "SelectEditTag"
          },
          onChange: event => {
            alertsData = [...this.props.alerts];
            alertsData[row.rowData.tableData.id].alertCondition = event.target.value;
            row.rowData.alertCondition = event.target.value;
            this.props.updateAlertsState(alertsData);
            this.setState(_objectSpread({}, this.state, {
              rowid: row.rowData.tableData.id,
              alertConditionValue: event.target.value
            }));
          },
          value: row && row.rowData && row.rowData.tableData && row.rowData.tableData.id !== null ? this.props.alerts[row.rowData.tableData.id].alertCondition : 'asd',
          __source: {
            fileName: _jsxFileName,
            lineNumber: 116
          },
          __self: this
        }, this.props.dropdownCondition ? this.props.dropdownCondition.map(eachValue => {
          return _react.default.createElement(_core.MenuItem, {
            key: eachValue,
            value: eachValue,
            "data-testid": "SelectEditMenuItemTag",
            __source: {
              fileName: _jsxFileName,
              lineNumber: 135
            },
            __self: this
          }, eachValue);
        }) : null)
      }, {
        title: 'Alert Value',
        field: 'alertRange',
        type: 'numeric',
        headerStyle: {
          textAlign: 'left'
        },
        cellStyle: {
          textAlign: 'left'
        }
      }, {
        title: 'Active/Inactive',
        field: 'active',
        editable: 'never',
        render: row => _react.default.createElement(_core.Switch, {
          "data-testid": "SwitchTag",
          disabled: row && row.tableData && row.tableData.editing === 'update',
          size: "small",
          checked: row.active,
          onChange: () => this.props.togglealertstatus(row.tableData.id),
          color: "primary",
          inputProps: {
            'aria-label': 'primary checkbox'
          },
          __source: {
            fileName: _jsxFileName,
            lineNumber: 157
          },
          __self: this
        })
      }, {
        title: 'Alert Description',
        field: 'description'
      }]
    };
  }

  render() {
    const classes = this.props.classes;
    return _react.default.createElement(_core.Grid, {
      item: true,
      "data-testid": "AlertsTableTag",
      container: true,
      sm: 6,
      xs: 12,
      className: classes.titleContainer,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 179
      },
      __self: this
    }, _react.default.createElement(_core.Grid, {
      sm: 6,
      xs: 12,
      item: true,
      className: classes.tableContainer,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 180
      },
      __self: this
    }, _react.default.createElement(_MuiThemeProvider.default, {
      theme: this.theme,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 181
      },
      __self: this
    }, _react.default.createElement(_materialTable.default, {
      style: {
        flexBasis: '100%'
      },
      editable: {
        onRowUpdate: (newData, oldData) => new Promise(resolve => {
          setTimeout(() => {
            if (this.state.alertConditionValue === "") newData.alertCondition = oldData.alertCondition;else newData.alertCondition = this.state.alertConditionValue;
            this.props.saveChange(newData);
            this.setState(_objectSpread({}, this.state, {
              alertConditionValue: ""
            }));
            resolve();
          }, 1000);
        }),
        onRowDelete: oldData => new Promise(resolve => {
          setTimeout(() => {
            {
              const event = {
                target: {
                  checked: true
                }
              };
              this.props.selectalerts(event, oldData.tableData.id);
              this.props.deletealerts();
            }
            resolve();
          }, 1000);
        })
      },
      icons: {
        Check: _icons.Check,
        FirstPage: _icons.FirstPage,
        LastPage: _icons.LastPage,
        NextPage: _icons.ChevronRight,
        PreviousPage: _icons.ChevronLeft,
        Search: _icons.Search,
        ThirdStateCheck: _icons.Remove,
        DetailPanel: _icons.ChevronRight,
        Export: _icons.SaveAlt,
        Filter: _icons.FilterList,
        Add: _icons.Add,
        Edit: _icons.Edit,
        Delete: _Delete.default,
        SortArrow: _icons.ArrowUpward,
        Clear: _icons.Clear
      },
      columns: this.state.columns,
      data: this.props.alerts,
      options: {
        headerStyle: _theme.customTheme.table.header,
        actionsColumnIndex: -1,
        selection: false,
        sorting: true,
        toolbar: false,
        maxBodyHeight: '200px'
      },
      __source: {
        fileName: _jsxFileName,
        lineNumber: 182
      },
      __self: this
    }), _react.default.createElement(_Dialog.default, {
      title: this.props.alerttitle,
      type: "",
      description: this.props.alertdescription,
      open: this.props.alertOpen,
      handleClose: this.props.handleAlertClose,
      onConfirm: this.props.triggerCommand,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 241
      },
      __self: this
    }))));
  }

}

;

var _default = (0, _styles.withStyles)(styles)(AlertTable);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInN0eWxlcyIsInRoZW1lIiwidGl0bGVDb250YWluZXIiLCJtYXJnaW5Ub3AiLCJtYXhXaWR0aCIsImZsZXhCYXNpcyIsInBhZ2VIZWFkZXIiLCJ0ZXh0QWxpZ24iLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJjb2xvciIsIm1hcmdpbkJvdHRvbSIsInNwYWNpbmciLCJ0YWJsZUNvbnRhaW5lciIsImFsZXJ0c0RhdGEiLCJBbGVydFRhYmxlIiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInR5cG9ncmFwaHkiLCJmb250RmFtaWx5IiwicGFsZXR0ZSIsInByaW1hcnkiLCJtYWluIiwic2Vjb25kYXJ5Iiwic3RhdGUiLCJhbGVydENvbmRpdGlvblZhbHVlIiwiY29sdW1ucyIsInRpdGxlIiwiZmllbGQiLCJlZGl0YWJsZSIsInJlbmRlciIsInJvd0RhdGEiLCJ0YWJsZURhdGEiLCJpZCIsImFsZXJ0cyIsImFsZXJ0Q29uZGl0aW9uIiwiZHJvcGRvd25Db25kaXRpb24iLCJtYXAiLCJlYWNoVmFsdWUiLCJlZGl0Q29tcG9uZW50Iiwicm93IiwiZXZlbnQiLCJ0YXJnZXQiLCJ2YWx1ZSIsInVwZGF0ZUFsZXJ0c1N0YXRlIiwic2V0U3RhdGUiLCJyb3dpZCIsInR5cGUiLCJoZWFkZXJTdHlsZSIsImNlbGxTdHlsZSIsImVkaXRpbmciLCJhY3RpdmUiLCJ0b2dnbGVhbGVydHN0YXR1cyIsImNsYXNzZXMiLCJvblJvd1VwZGF0ZSIsIm5ld0RhdGEiLCJvbGREYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwic2F2ZUNoYW5nZSIsIm9uUm93RGVsZXRlIiwiY2hlY2tlZCIsInNlbGVjdGFsZXJ0cyIsImRlbGV0ZWFsZXJ0cyIsIkNoZWNrIiwiRmlyc3RQYWdlIiwiTGFzdFBhZ2UiLCJOZXh0UGFnZSIsIkNoZXZyb25SaWdodCIsIlByZXZpb3VzUGFnZSIsIkNoZXZyb25MZWZ0IiwiU2VhcmNoIiwiVGhpcmRTdGF0ZUNoZWNrIiwiUmVtb3ZlIiwiRGV0YWlsUGFuZWwiLCJFeHBvcnQiLCJTYXZlQWx0IiwiRmlsdGVyIiwiRmlsdGVyTGlzdCIsIkFkZCIsIkVkaXQiLCJEZWxldGUiLCJUcmFzaEljb24iLCJTb3J0QXJyb3ciLCJBcnJvd1Vwd2FyZCIsIkNsZWFyIiwiY3VzdG9tVGhlbWUiLCJ0YWJsZSIsImhlYWRlciIsImFjdGlvbnNDb2x1bW5JbmRleCIsInNlbGVjdGlvbiIsInNvcnRpbmciLCJ0b29sYmFyIiwibWF4Qm9keUhlaWdodCIsImFsZXJ0dGl0bGUiLCJhbGVydGRlc2NyaXB0aW9uIiwiYWxlcnRPcGVuIiwiaGFuZGxlQWxlcnRDbG9zZSIsInRyaWdnZXJDb21tYW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBNkJBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLE1BQU0sR0FBSUMsS0FBRCxJQUFXO0FBQ3hCLFNBQVE7QUFDTkMsSUFBQUEsY0FBYyxFQUFFO0FBQ2RDLE1BQUFBLFNBQVMsRUFBRSxNQURHO0FBRWRDLE1BQUFBLFFBQVEsRUFBRSxNQUZJO0FBR2RDLE1BQUFBLFNBQVMsRUFBRTtBQUhHLEtBRFY7QUFNTkMsSUFBQUEsVUFBVSxFQUFFO0FBQ1ZDLE1BQUFBLFNBQVMsRUFBRSxNQUREO0FBRVZDLE1BQUFBLFFBQVEsRUFBRSxNQUZBO0FBR1ZDLE1BQUFBLFVBQVUsRUFBRSxNQUhGO0FBSVZDLE1BQUFBLEtBQUssRUFBRSxTQUpHO0FBS1ZDLE1BQUFBLFlBQVksRUFBRVYsS0FBSyxDQUFDVyxPQUFOLENBQWMsQ0FBZDtBQUxKLEtBTk47QUFhTkMsSUFBQUEsY0FBYyxFQUFFO0FBQ2RULE1BQUFBLFFBQVEsRUFBRSxNQURJO0FBRWRDLE1BQUFBLFNBQVMsRUFBRTtBQUZHO0FBYlYsR0FBUjtBQWtCRCxDQW5CRDs7QUFxQkEsSUFBSVMsVUFBVSxHQUFHLEVBQWpCOztBQUNBLE1B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O0FBTVBDLFFBQUFBLGFBQWEsRUFBRTtBQU5SLE9BakRYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BREYsRUE0REUsNkJBQUMsZUFBRDtBQUNFLE1BQUEsS0FBSyxFQUFFLEtBQUs3RSxLQUFMLENBQVc4RSxVQURwQjtBQUVFLE1BQUEsSUFBSSxFQUFDLEVBRlA7QUFHRSxNQUFBLFdBQVcsRUFBRSxLQUFLOUUsS0FBTCxDQUFXK0UsZ0JBSDFCO0FBSUUsTUFBQSxJQUFJLEVBQUUsS0FBSy9FLEtBQUwsQ0FBV2dGLFNBSm5CO0FBS0UsTUFBQSxXQUFXLEVBQUUsS0FBS2hGLEtBQUwsQ0FBV2lGLGdCQUwxQjtBQU1FLE1BQUEsU0FBUyxFQUFFLEtBQUtqRixLQUFMLENBQVdrRixjQU54QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQTVERixDQURGLENBREYsQ0FERjtBQTJFRDs7QUE5TGdDOztBQStMbEM7O2VBRWMsd0JBQVdwRyxNQUFYLEVBQW1CZSxVQUFuQixDIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICBDT1BZUklHSFQgKGMpIDIwMTkgU0FNU1VORyBFTEVDVFJPTklDUyBDTy4sIExURC4gICAgICAgICAgICAgICAgICAgICAgL1xuLyAgICAgICAgICAgICAgICAgICAgICAgICAgQUxMIFJJR0hUUyBSRVNFUlZFRCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkIHRvIGxpY2Vuc2VlcyBvZiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiAgICAgICAgL1xuLyAgIHByb2R1Y3RzIHRvIHVzZSBvciBhYnN0cmFjdCB0aGlzIGNvbXB1dGVyIHByb2dyYW0gZm9yIHRoZSBzb2xlIHB1cnBvc2Ugb2YgICAgICAgICAvXG4vICAgaW1wbGVtZW50aW5nIGEgcHJvZHVjdCBiYXNlZCBvbiBTYW1zdW5nIEVsZWN0cm9uaWNzIENvLiwgTHRkLiBwcm9kdWN0cy4gICAgICAgICAgIC9cbi8gICBObyBvdGhlciByaWdodHMgdG8gcmVwcm9kdWNlLCB1c2UsIG9yIGRpc3NlbWluYXRlIHRoaXMgY29tcHV0ZXIgcHJvZ3JhbSwgICAgICAgICAgL1xuLyAgIHdoZXRoZXIgaW4gcGFydCBvciBpbiB3aG9sZSwgYXJlIGdyYW50ZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIFxuLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXG4vICAgU2Ftc3VuZyBFbGVjdHJvbmljcyBDby4sIEx0ZC4gbWFrZXMgbm8gcmVwcmVzZW50YXRpb24gb3Igd2FycmFudGllcyB3aXRoICAgICAgICAgIC9cbi8gICByZXNwZWN0IHRvIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGlzIGNvbXB1dGVyIHByb2dyYW0sIGFuZCBzcGVjaWZpY2FsbHkgZGlzY2xhaW1zICAgL1xuLyAgIGFueSByZXNwb25zaWJpbGl0eSBmb3IgYW55IGRhbWFnZXMsIHNwZWNpYWwgb3IgY29uc2VxdWVudGlhbCwgY29ubmVjdGVkICAgICAgICAgICAvXG4vICAgd2l0aCB0aGUgdXNlIG9mIHRoaXMgcHJvZ3JhbS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cbi8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xuLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vXG5cblxuREVTQ1JJUFRJT046IEFsZXJ0IE1hbmFnZW1lbnQgQ29tcG9uZW50IGZvciBkaXNwbGF5aW5nIEFsZXJ0IFJ1bGUvTmFtZSBJbmZvcm1hdGlvbiBpbiB0aGUgdGFibGUuIChUb3AgUG9ydGlvbilcbkBOQU1FIDogaW5kZXguanNcbkBBVVRIT1JTOiBKYXkgSGl0ZXNoIFNhbmdoYXZpIFxuQFZlcnNpb24gOiAxLjAgKlxuQFJFVklTSU9OIEhJU1RPUllcblswMy8wNi8yMDE5XSBbSmF5XSA6IFByb3RvdHlwaW5nLi4uLi4uLi4uLi8vLy8vLy8vLy8vLy8vLy8vLy8vXG4qL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1uZXN0ZWQtdGVybmFyeSAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1hdGVyaWFsVGFibGUgZnJvbSAnbWF0ZXJpYWwtdGFibGUnO1xuaW1wb3J0IFRoZW1lUHJvdmlkZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL011aVRoZW1lUHJvdmlkZXInO1xuaW1wb3J0IHsgd2l0aFN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgeyBHcmlkLCBTd2l0Y2gsIGNyZWF0ZU11aVRoZW1lLCBTZWxlY3QsIE1lbnVJdGVtIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgQWRkLCBBcnJvd1Vwd2FyZCwgQ2hlY2ssIENoZXZyb25MZWZ0LCBDaGV2cm9uUmlnaHQsIENsZWFyLCBFZGl0LCBGaWx0ZXJMaXN0LCBGaXJzdFBhZ2UsIExhc3RQYWdlLCBSZW1vdmUsIFNhdmVBbHQsIFNlYXJjaCB9IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucyc7XG5pbXBvcnQgVHJhc2hJY29uIGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnMvRGVsZXRlXCJcbmltcG9ydCBBbGVydERpYWxvZyBmcm9tICcuLi8uLi9EaWFsb2cnO1xuaW1wb3J0ICcuL0FsZXJ0VGFibGUuY3NzJztcbmltcG9ydCB7IGN1c3RvbVRoZW1lIH0gZnJvbSAnLi4vLi4vLi4vdGhlbWUnO1xuXG5jb25zdCBzdHlsZXMgPSAodGhlbWUpID0+IHtcbiAgcmV0dXJuICh7XG4gICAgdGl0bGVDb250YWluZXI6IHtcbiAgICAgIG1hcmdpblRvcDogXCItNXB4XCIsXG4gICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgZmxleEJhc2lzOiAnMTAwJScsXG4gICAgfSxcbiAgICBwYWdlSGVhZGVyOiB7XG4gICAgICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICBjb2xvcjogJyM0MjQ4NTAnLFxuICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nKDEpLFxuICAgIH0sXG4gICAgdGFibGVDb250YWluZXI6IHtcbiAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICBmbGV4QmFzaXM6ICcxMDAlJyxcbiAgICB9LFxuICB9KVxufTtcblxubGV0IGFsZXJ0c0RhdGEgPSBbXTtcbmNsYXNzIEFsZXJ0VGFibGUgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnRoZW1lID0gY3JlYXRlTXVpVGhlbWUoe1xuICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICBmb250U2l6ZTogMTIsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCdcbiAgICAgIH0sXG4gICAgICBwYWxldHRlOiB7XG4gICAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgICBtYWluOiAnIzRjYWY1MCcsXG4gICAgICAgIH0sXG4gICAgICAgIHNlY29uZGFyeToge1xuICAgICAgICAgIG1haW46ICcjZmY5MTAwJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYWxlcnRDb25kaXRpb25WYWx1ZTogXCJcIixcbiAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnQWxlcnQgTmFtZScsXG4gICAgICAgICAgZmllbGQ6ICdhbGVydE5hbWUnLFxuICAgICAgICAgIGVkaXRhYmxlOiAnbmV2ZXInLFxuXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogJ0FsZXJ0IFR5cGUnLFxuICAgICAgICAgIGZpZWxkOiAnYWxlcnRUeXBlJyxcbiAgICAgICAgICBlZGl0YWJsZTogJ25ldmVyJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnQWxlcnQgQ29uZGl0aW9uJyxcbiAgICAgICAgICBmaWVsZDogJ2FsZXJ0Q29uZGl0aW9uJyxcbiAgICAgICAgICByZW5kZXI6IHJvd0RhdGEgPT5cbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICBTZWxlY3REaXNwbGF5UHJvcHM9e3snZGF0YS10ZXN0aWQnOlwiU2VsZWN0RWRpdFRhZ1wifX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgIHZhbHVlPXsoKHJvd0RhdGEpICYmIChyb3dEYXRhLnRhYmxlRGF0YSkgJiYgKHJvd0RhdGEudGFibGVEYXRhLmlkICE9PSBudWxsKSkgP1xuXHRcdFx0KCh0aGlzLnByb3BzLmFsZXJ0cyAmJiB0aGlzLnByb3BzLmFsZXJ0c1tyb3dEYXRhLnRhYmxlRGF0YS5pZF0pID8gdGhpcy5wcm9wcy5hbGVydHNbcm93RGF0YS50YWJsZURhdGEuaWRdLmFsZXJ0Q29uZGl0aW9uIDogJ1RoaXMgaXMgTlVMTCcpIDogJ1RoaXMgaXMgTlVMTCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5kcm9wZG93bkNvbmRpdGlvbiA/IHRoaXMucHJvcHMuZHJvcGRvd25Db25kaXRpb24ubWFwKChlYWNoVmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoPE1lbnVJdGVtIGtleT17ZWFjaFZhbHVlfSB2YWx1ZT17ZWFjaFZhbHVlfSBkYXRhLXRlc3RpZD1cIlNlbGVjdEVkaXRNZW51SXRlbVRhZ1wiPntlYWNoVmFsdWV9PC9NZW51SXRlbT4pXG4gICAgICAgICAgICAgICAgfSkgOiBudWxsfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAsXG5cbiAgICAgICAgICBlZGl0Q29tcG9uZW50OiByb3cgPT5cbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICBTZWxlY3REaXNwbGF5UHJvcHM9e3snZGF0YS10ZXN0aWQnOlwiU2VsZWN0RWRpdFRhZ1wifX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICBhbGVydHNEYXRhID0gWy4uLnRoaXMucHJvcHMuYWxlcnRzXTtcbiAgICAgICAgICAgICAgICAgIGFsZXJ0c0RhdGFbcm93LnJvd0RhdGEudGFibGVEYXRhLmlkXS5hbGVydENvbmRpdGlvbiA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHJvdy5yb3dEYXRhLmFsZXJ0Q29uZGl0aW9uID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVBbGVydHNTdGF0ZShhbGVydHNEYXRhKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICByb3dpZDogcm93LnJvd0RhdGEudGFibGVEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICBhbGVydENvbmRpdGlvblZhbHVlOiBldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWU9eygocm93KSAmJiAocm93LnJvd0RhdGEpICYmIChyb3cucm93RGF0YS50YWJsZURhdGEpICYmIChyb3cucm93RGF0YS50YWJsZURhdGEuaWQgIT09IG51bGwpKSA/XG4gICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmFsZXJ0c1tyb3cucm93RGF0YS50YWJsZURhdGEuaWRdLmFsZXJ0Q29uZGl0aW9uIDogJ2FzZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5kcm9wZG93bkNvbmRpdGlvbiA/IHRoaXMucHJvcHMuZHJvcGRvd25Db25kaXRpb24ubWFwKChlYWNoVmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoPE1lbnVJdGVtIGtleT17ZWFjaFZhbHVlfSB2YWx1ZT17ZWFjaFZhbHVlfSBkYXRhLXRlc3RpZD1cIlNlbGVjdEVkaXRNZW51SXRlbVRhZ1wiPntlYWNoVmFsdWV9PC9NZW51SXRlbT4pXG4gICAgICAgICAgICAgICAgfSkgOiBudWxsfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnQWxlcnQgVmFsdWUnLFxuICAgICAgICAgIGZpZWxkOiAnYWxlcnRSYW5nZScsXG4gICAgICAgICAgdHlwZTogJ251bWVyaWMnLFxuICAgICAgICAgIGhlYWRlclN0eWxlOiB7XG4gICAgICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2VsbFN0eWxlOiB7XG4gICAgICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0J1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiAnQWN0aXZlL0luYWN0aXZlJyxcbiAgICAgICAgICBmaWVsZDogJ2FjdGl2ZScsXG4gICAgICAgICAgZWRpdGFibGU6ICduZXZlcicsXG4gICAgICAgICAgcmVuZGVyOiByb3cgPT5cbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgPFN3aXRjaFxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cIlN3aXRjaFRhZ1wiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyhyb3cgJiYgcm93LnRhYmxlRGF0YSAmJiByb3cudGFibGVEYXRhLmVkaXRpbmcgPT09ICd1cGRhdGUnKX1cbiAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3Jvdy5hY3RpdmV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHRoaXMucHJvcHMudG9nZ2xlYWxlcnRzdGF0dXMocm93LnRhYmxlRGF0YS5pZCl9XG4gICAgICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7ICdhcmlhLWxhYmVsJzogJ3ByaW1hcnkgY2hlY2tib3gnIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogJ0FsZXJ0IERlc2NyaXB0aW9uJyxcbiAgICAgICAgICBmaWVsZDogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjbGFzc2VzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8R3JpZCBpdGVtIGRhdGEtdGVzdGlkPVwiQWxlcnRzVGFibGVUYWdcIiBjb250YWluZXIgc209ezZ9IHhzPXsxMn0gY2xhc3NOYW1lPXtjbGFzc2VzLnRpdGxlQ29udGFpbmVyfT5cbiAgICAgICAgPEdyaWQgc209ezZ9IHhzPXsxMn0gaXRlbSBjbGFzc05hbWU9e2NsYXNzZXMudGFibGVDb250YWluZXJ9PlxuICAgICAgICAgIDxUaGVtZVByb3ZpZGVyIHRoZW1lPXt0aGlzLnRoZW1lfT5cbiAgICAgICAgICAgIDxNYXRlcmlhbFRhYmxlXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGZsZXhCYXNpczogJzEwMCUnLCB9fVxuICAgICAgICAgICAgICBlZGl0YWJsZT17e1xuICAgICAgICAgICAgICAgIG9uUm93VXBkYXRlOiAobmV3RGF0YSwgb2xkRGF0YSkgPT5cbiAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmFsZXJ0Q29uZGl0aW9uVmFsdWUgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhLmFsZXJ0Q29uZGl0aW9uID0gb2xkRGF0YS5hbGVydENvbmRpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIG5ld0RhdGEuYWxlcnRDb25kaXRpb24gPSB0aGlzLnN0YXRlLmFsZXJ0Q29uZGl0aW9uVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNhdmVDaGFuZ2UobmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRDb25kaXRpb25WYWx1ZTogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG9uUm93RGVsZXRlOiBvbGREYXRhID0+XG4gICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IHsgdGFyZ2V0OiB7IGNoZWNrZWQ6IHRydWUgfSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGFsZXJ0cyhldmVudCwgb2xkRGF0YS50YWJsZURhdGEuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRlbGV0ZWFsZXJ0cygpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfX1cblxuICAgICAgICAgICAgICBpY29ucz17e1xuICAgICAgICAgICAgICAgIENoZWNrLFxuICAgICAgICAgICAgICAgIEZpcnN0UGFnZSxcbiAgICAgICAgICAgICAgICBMYXN0UGFnZSxcbiAgICAgICAgICAgICAgICBOZXh0UGFnZTogQ2hldnJvblJpZ2h0LFxuICAgICAgICAgICAgICAgIFByZXZpb3VzUGFnZTogQ2hldnJvbkxlZnQsXG4gICAgICAgICAgICAgICAgU2VhcmNoLFxuICAgICAgICAgICAgICAgIFRoaXJkU3RhdGVDaGVjazogUmVtb3ZlLFxuICAgICAgICAgICAgICAgIERldGFpbFBhbmVsOiBDaGV2cm9uUmlnaHQsXG4gICAgICAgICAgICAgICAgRXhwb3J0OiBTYXZlQWx0LFxuICAgICAgICAgICAgICAgIEZpbHRlcjogRmlsdGVyTGlzdCxcbiAgICAgICAgICAgICAgICBBZGQsXG4gICAgICAgICAgICAgICAgRWRpdCxcbiAgICAgICAgICAgICAgICBEZWxldGU6IFRyYXNoSWNvbixcbiAgICAgICAgICAgICAgICBTb3J0QXJyb3c6IEFycm93VXB3YXJkLFxuICAgICAgICAgICAgICAgIENsZWFyLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBjb2x1bW5zPXt0aGlzLnN0YXRlLmNvbHVtbnN9XG4gICAgICAgICAgICAgIGRhdGE9e3RoaXMucHJvcHMuYWxlcnRzfVxuICAgICAgICAgICAgICBvcHRpb25zPXt7XG4gICAgICAgICAgICAgICAgaGVhZGVyU3R5bGU6IGN1c3RvbVRoZW1lLnRhYmxlLmhlYWRlcixcbiAgICAgICAgICAgICAgICBhY3Rpb25zQ29sdW1uSW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgc29ydGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0b29sYmFyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtYXhCb2R5SGVpZ2h0OiAnMjAwcHgnXG4gICAgICAgICAgICAgIH19XG5cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QWxlcnREaWFsb2dcbiAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuYWxlcnR0aXRsZX1cbiAgICAgICAgICAgICAgdHlwZT1cIlwiXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXt0aGlzLnByb3BzLmFsZXJ0ZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgIG9wZW49e3RoaXMucHJvcHMuYWxlcnRPcGVufVxuICAgICAgICAgICAgICBoYW5kbGVDbG9zZT17dGhpcy5wcm9wcy5oYW5kbGVBbGVydENsb3NlfVxuICAgICAgICAgICAgICBvbkNvbmZpcm09e3RoaXMucHJvcHMudHJpZ2dlckNvbW1hbmR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgICAgPC9HcmlkPlxuICAgICAgPC9HcmlkPlxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzKShBbGVydFRhYmxlKTtcbiJdfQ==