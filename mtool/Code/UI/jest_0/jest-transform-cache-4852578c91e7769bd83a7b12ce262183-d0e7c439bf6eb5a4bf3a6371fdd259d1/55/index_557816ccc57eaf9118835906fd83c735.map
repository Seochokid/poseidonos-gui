{"version":3,"sources":["index.js"],"names":["styles","theme","titleContainer","maxWidth","flexBasis","pageHeader","textAlign","fontSize","fontWeight","color","marginBottom","spacing","userListTypography","margin","tableContainer","userListGrid","background","border","validate","newData","email","indexOf","UserTable","Component","constructor","props","typography","fontFamily","palette","primary","main","secondary","state","columns","title","field","editable","render","row","role","toUpperCase","cellStyle","overflowWrap","tableData","editing","active","toggleUserStatus","id","_id","headerStyle","editComponent","value","OnHandleChange","target","name","default","phone_number","classes","onRowUpdate","oldData","Promise","resolve","reject","setTimeout","valid","saveChange","openAlertBox","istypealert","alerttype","alertOpen","alerttitle","alertdescription","onRowDelete","event","checked","selectUser","deleteUsers","Check","FirstPage","LastPage","NextPage","ChevronRight","PreviousPage","ChevronLeft","Search","ThirdStateCheck","Remove","DetailPanel","Export","SaveAlt","Filter","FilterList","Add","Edit","Delete","TrashIcon","SortArrow","ArrowUpward","Clear","users","customTheme","table","header","actionsColumnIndex","selection","sorting","toolbar","maxBodyHeight"],"mappings":"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","sourcesContent":["/* -------------------------------------------------------------------------------------/\n                                                                                    /\n/               COPYRIGHT (c) 2019 SAMSUNG ELECTRONICS CO., LTD.                      /\n/                          ALL RIGHTS RESERVED                                        /\n/                                                                                     /\n/   Permission is hereby granted to licensees of Samsung Electronics Co., Ltd.        /\n/   products to use or abstract this computer program for the sole purpose of         /\n/   implementing a product based on Samsung Electronics Co., Ltd. products.           /\n/   No other rights to reproduce, use, or disseminate this computer program,          /\n/   whether in part or in whole, are granted.                                         / \n/                                                                                     /\n/   Samsung Electronics Co., Ltd. makes no representation or warranties with          /\n/   respect to the performance of this computer program, and specifically disclaims   /\n/   any responsibility for any damages, special or consequential, connected           /\n/   with the use of this program.                                                     /\n/                                                                                     /\n/-------------------------------------------------------------------------------------/\n\n\nDESCRIPTION: Component corresponding to list of users\n@NAME : index.js\n@AUTHORS: Jay Hitesh Sanghavi \n@Version : 1.0 *\n@REVISION HISTORY\n[03/06/2019] [Jay] : Prototyping..........////////////////////\n[04/06/2019] [Aswin] : Replaced native alert with custom alert component\n*/\nimport React, { Component } from 'react';\nimport MaterialTable from 'material-table';\nimport ThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport { withStyles } from '@material-ui/core/styles';\nimport MuiPhoneNumber from 'material-ui-phone-number';\nimport { Grid, Typography, Switch, createMuiTheme, } from '@material-ui/core';\nimport { Add, ArrowUpward, Check, ChevronLeft, ChevronRight, Clear, Edit, FilterList, FirstPage, LastPage, Remove, SaveAlt, Search } from '@material-ui/icons';\nimport TrashIcon from \"@material-ui/icons/Delete\"\nimport './UserTable.css';\nimport { customTheme } from \"../../theme\";\n\nconst styles = (theme) => {\n  return ({\n    titleContainer: {\n      maxWidth: '100%',\n      flexBasis: '100%',\n    },\n    pageHeader: {\n      textAlign: 'left',\n      fontSize: '16px',\n      fontWeight: 'bold',\n      color: '#424850',\n      marginBottom: theme.spacing(1)\n    },\n    userListTypography: {\n      textAlign: 'left',\n      fontSize: '14px',\n      fontWeight: 'bold',\n      color: '#424850',\n      margin: theme.spacing(1.5),\n    },\n    tableContainer: {\n      maxWidth: '100%',\n      flexBasis: '100%'\n    },\n    userListGrid: {\n      background: 'white',\n      fontSize: '14px',\n      maxWidth: '100%',\n      flexBasis: '100%',\n      border: '1px solid gray'\n    },\n  })\n};\n\nfunction validate(newData) {\n  if (!newData || !newData.email || !(newData.email.indexOf('@') > -1) || !(newData.email.indexOf('.') > -1))\n    return false;\n  return true;\n}\n\nclass UserTable extends Component {\n  constructor(props) {\n    super(props);\n    this.theme = createMuiTheme({\n      typography: {\n        fontSize: 12,\n        fontFamily: 'Arial'\n      },\n      palette: {\n        primary: {\n          main: '#4caf50',\n        },\n        secondary: {\n          main: '#ff9100',\n        },\n      },\n    });\n\n    this.state = {\n      columns: [\n        {\n          title: 'Role',\n          field: 'role',\n          editable: 'never',\n          render: row =>row.role ? row.role.toUpperCase() : ''\n        },\n        {\n          title: 'User Name',\n          field: '_id',\n          editable: 'never',\n          cellStyle: {\n            maxWidth: \"200px\",\n            overflowWrap: \"break-word\"\n          }\n        },\n        {\n          title: 'API Enable',\n          field: 'active',\n          editable: 'never',\n          render: row =>\n            (\n              <Switch\n                disabled={(row && row.tableData && row.tableData.editing === 'update')}\n                size=\"small\"\n                checked={row.active}\n                onChange={() => this.props.toggleUserStatus(row.tableData.id)}\n                color=\"primary\"\n                inputProps={{ 'aria-label': 'primary checkbox', title: 'api-enable' }}\n                id = {`UserTable-togglebtn-${row._id}`}\n              />\n            ),\n        },\n        {\n          title: 'Phone',\n          field: 'phone_number',\n          headerStyle: {\n            textAlign: 'left'\n          },\n          cellStyle: {\n            textAlign: 'left'\n          },\n          editComponent: row =>\n            (\n              <MuiPhoneNumber\n                onChange={(value) => this.props.OnHandleChange({ target: { value, name: 'phone_number' } })}\n                inputProps={{\n                  name: 'phone_number',\n                  default: row.phone_number,\n                  id : `UserTable-phone-${ row}`\n                }}\n                value={this.props.phone_number}\n                required\n                label=\"\"\n                // onlyCountries={['in', 'kr']}\n                defaultCountry=\"kr\"\n              />\n            )\n        },\n        {\n          title: 'Email',\n          field: 'email',\n        },\n        {\n          title: 'Privilege',\n          field: 'privileges',\n          editable: 'never'\n        },\n      ]\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Grid item container sm={6} xs={12} className={classes.titleContainer}>\n        <Grid sm={6} xs={12} item className={classes.tableContainer}>\n          <Grid sm={6} xs={12} item className={classes.userListGrid}>\n            <ThemeProvider theme={this.theme}>\n              <Typography className={classes.userListTypography} variant=\"h3\">User List</Typography>\n              <MaterialTable\n                editable={{\n                  onRowUpdate: (newData, oldData) =>\n                    new Promise((resolve, reject) => {\n                      setTimeout(() => {\n                        const valid = validate(newData);\n                        if (valid) {\n                          newData.phone_number = this.props.phone_number;\n                          this.props.saveChange(newData, oldData.tableData.id);\n                        }\n                        else {\n                          this.props.openAlertBox({\n                            istypealert: true,\n                            alerttype: 'alert',\n                            alertOpen: true,\n                            alerttitle: 'Update User',\n                            alertdescription: 'Please enter a valid input'\n                          });\n                          reject();\n                        }\n                        resolve();\n                      }, 1000);\n                    }),\n                  onRowDelete: oldData =>\n                    new Promise((resolve) => {\n                      setTimeout(() => {\n                        {\n                          const event = { target: { checked: true } }\n                          this.props.selectUser(event, oldData.tableData.id)\n                          this.props.deleteUsers();\n                        }\n                        resolve();\n                      }, 1000);\n                    })\n                }}\n\n                icons={{\n                  Check,\n                  FirstPage,\n                  LastPage,\n                  NextPage: ChevronRight,\n                  PreviousPage: ChevronLeft,\n                  Search,\n                  ThirdStateCheck: Remove,\n                  DetailPanel: ChevronRight,\n                  Export: SaveAlt,\n                  Filter: FilterList,\n                  Add,\n                  Edit,\n                  Delete: TrashIcon,\n                  SortArrow: ArrowUpward,\n                  Clear,\n                }}\n                columns={this.state.columns}\n                data={this.props.users}\n                options={{\n                  headerStyle: customTheme.table.header,\n                  actionsColumnIndex: -1,\n                  selection: false,\n                  sorting: true,\n                  toolbar: false,\n                  maxBodyHeight: '230px'\n                }}\n              />\n            </ThemeProvider>\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(UserTable);\n"]}