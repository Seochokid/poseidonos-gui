75c9b2c19625cf2bf0707dd557d1dd05
"use strict";

/* eslint-disable import/imports-first */

/* eslint-disable import/first */
jest.unmock('axios');

var _interopRequireDefault = require("/home/ibof07/pk/ibofmgmt/Code/UI/node_modules/@babel/runtime/helpers/interopRequireDefault");

var _axios = _interopRequireDefault(require("axios"));

var _axiosMockAdapter = _interopRequireDefault(require("axios-mock-adapter"));

var _react = _interopRequireDefault(require("react"));

var _reactRedux = require("react-redux");

var _reactRouterDom = require("react-router-dom");

var _react2 = require("@testing-library/react");

var _history = require("history");

require("@testing-library/jest-dom/extend-expect");

var _redux = require("redux");

var _reduxSaga = _interopRequireDefault(require("redux-saga"));

var _testUtils = require("react-dom/test-utils");

var _index = _interopRequireDefault(require("./index"));

var _headerReducer = _interopRequireDefault(require("../../store/reducers/headerReducer"));

var _configurationsettingReducer = _interopRequireDefault(require("../../store/reducers/configurationsettingReducer"));

var _indexSaga = _interopRequireDefault(require("../../sagas/indexSaga"));

var _q = require("q");

var _jsxFileName = "/home/ibof07/pk/ibofmgmt/Code/UI/src/components/Header/index.test.js";
describe('<Header />', () => {
  let wrapper;
  let mock;
  let history;
  let store;
  beforeEach(() => {
    const sagaMiddleware = (0, _reduxSaga.default)();
    const rootReducers = (0, _redux.combineReducers)({
      headerReducer: _headerReducer.default,
      configurationsettingReducer: _configurationsettingReducer.default
    });
    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || _redux.compose;
    store = (0, _redux.createStore)(rootReducers, composeEnhancers((0, _redux.applyMiddleware)(sagaMiddleware)));
    sagaMiddleware.run(_indexSaga.default);
    const route = '/';
    history = (0, _history.createMemoryHistory)({
      initialEntries: [route]
    });
    mock = new _axiosMockAdapter.default(_axios.default);
  });

  const renderComponent = () => {
    wrapper = (0, _react2.render)(_react.default.createElement(_reactRouterDom.Router, {
      history: history,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 45
      },
      __self: void 0
    }, _react.default.createElement(_reactRedux.Provider, {
      store: store,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 46
      },
      __self: void 0
    }, _react.default.createElement(_index.default, {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 47
      },
      __self: void 0
    }))));
  };

  afterEach(_react2.cleanup);
  it("should render Change Password dialogue", async () => {
    renderComponent();
    const _wrapper = wrapper,
          asFragment = _wrapper.asFragment,
          getByTestId = _wrapper.getByTestId,
          getByText = _wrapper.getByText,
          getByPlaceholderText = _wrapper.getByPlaceholderText;

    _react2.fireEvent.click(getByTestId('header-dropdown'));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Change Password'))));

    const oldPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter Old Password"));
    expect(oldPwd).toBeDefined(); // expect(asFragment()).toMatchSnapshot();

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Poseidon OS status:'))));
  });
  it("should change the Password", async () => {
    renderComponent();
    const _wrapper2 = wrapper,
          asFragment = _wrapper2.asFragment,
          getByTestId = _wrapper2.getByTestId,
          getByText = _wrapper2.getByText,
          getByPlaceholderText = _wrapper2.getByPlaceholderText;

    _react2.fireEvent.click(getByTestId('header-dropdown'));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Change Password'))));

    const oldPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter Old Password"));

    _react2.fireEvent.keyDown(oldPwd, {
      key: 'A',
      code: 65,
      charCode: 65
    });

    _react2.fireEvent.change(oldPwd, {
      target: {
        value: "abcd"
      }
    });

    const newPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter New Password"));

    _react2.fireEvent.keyDown(newPwd, {
      key: 'D',
      code: 68,
      charCode: 68
    });

    _react2.fireEvent.change(newPwd, {
      target: {
        value: "defg"
      }
    });

    const confPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Confirm New Password"));

    _react2.fireEvent.keyDown(confPwd, {
      key: 'D',
      code: 68,
      charCode: 68
    });

    _react2.fireEvent.change(confPwd, {
      target: {
        value: "defg"
      }
    });

    jest.spyOn(global, 'fetch').mockImplementation(() => Promise.resolve({
      status: 200,
      json: () => Promise.resolve({
        value: ""
      })
    }));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId("change-pwd-submit"))));
  });
  it("should redirect if user session ended", async () => {
    renderComponent();
    const _wrapper3 = wrapper,
          asFragment = _wrapper3.asFragment,
          getByTestId = _wrapper3.getByTestId,
          getByText = _wrapper3.getByText,
          getByPlaceholderText = _wrapper3.getByPlaceholderText;

    _react2.fireEvent.click(getByTestId('header-dropdown'));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Change Password'))));

    const oldPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter Old Password"));

    _react2.fireEvent.keyDown(oldPwd, {
      key: 'A',
      code: 65,
      charCode: 65
    });

    _react2.fireEvent.change(oldPwd, {
      target: {
        value: "abcd"
      }
    });

    const newPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter New Password"));

    _react2.fireEvent.keyDown(newPwd, {
      key: 'D',
      code: 68,
      charCode: 68
    });

    _react2.fireEvent.change(newPwd, {
      target: {
        value: "defg"
      }
    });

    const confPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Confirm New Password"));

    _react2.fireEvent.keyDown(confPwd, {
      key: 'D',
      code: 68,
      charCode: 68
    });

    _react2.fireEvent.change(confPwd, {
      target: {
        value: "defg"
      }
    });

    jest.spyOn(global, 'fetch').mockImplementation(() => Promise.resolve({
      status: 401,
      json: () => Promise.resolve({
        value: ""
      })
    }));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId("change-pwd-submit"))));
  });
  it("should throw error if password change failed", async () => {
    renderComponent();
    const _wrapper4 = wrapper,
          asFragment = _wrapper4.asFragment,
          getByTestId = _wrapper4.getByTestId,
          getByText = _wrapper4.getByText,
          getByPlaceholderText = _wrapper4.getByPlaceholderText;

    _react2.fireEvent.click(getByTestId('header-dropdown'));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Change Password'))));

    const oldPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter Old Password"));

    _react2.fireEvent.keyDown(oldPwd, {
      key: 'A',
      code: 65,
      charCode: 65
    });

    _react2.fireEvent.change(oldPwd, {
      target: {
        value: "abcd"
      }
    });

    const newPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter New Password"));

    _react2.fireEvent.keyDown(newPwd, {
      key: 'D',
      code: 68,
      charCode: 68
    });

    _react2.fireEvent.change(newPwd, {
      target: {
        value: "defg"
      }
    });

    const confPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Confirm New Password"));

    _react2.fireEvent.keyDown(confPwd, {
      key: 'D',
      code: 68,
      charCode: 68
    });

    _react2.fireEvent.change(confPwd, {
      target: {
        value: "defg"
      }
    });

    jest.spyOn(global, 'fetch').mockImplementation(() => Promise.resolve({
      status: 400,
      json: () => Promise.resolve({
        value: ""
      })
    }));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId("change-pwd-submit"))));

    expect((await (0, _react2.waitForElement)(() => getByText("Error in setting Password")))).toBeDefined();
  });
  it("should show error when old password is not entered", async () => {
    renderComponent();
    const _wrapper5 = wrapper,
          asFragment = _wrapper5.asFragment,
          getByTestId = _wrapper5.getByTestId,
          getByText = _wrapper5.getByText,
          getByPlaceholderText = _wrapper5.getByPlaceholderText;

    _react2.fireEvent.click(getByTestId('header-dropdown'));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Change Password'))));

    await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter Old Password"));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId("change-pwd-submit"))));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('OK'))));
  });
  it("should show error when new password is not entered", async () => {
    renderComponent();
    const _wrapper6 = wrapper,
          asFragment = _wrapper6.asFragment,
          getByTestId = _wrapper6.getByTestId,
          getByText = _wrapper6.getByText,
          getByPlaceholderText = _wrapper6.getByPlaceholderText;

    _react2.fireEvent.click(getByTestId('header-dropdown'));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Change Password'))));

    const oldPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter Old Password"));

    _react2.fireEvent.change(oldPwd, {
      target: {
        value: "abcd"
      }
    });

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId("change-pwd-submit"))));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('OK'))));
  });
  it("should show error when confirm password is not entered", async () => {
    renderComponent();
    const _wrapper7 = wrapper,
          asFragment = _wrapper7.asFragment,
          getByTestId = _wrapper7.getByTestId,
          getByText = _wrapper7.getByText,
          getByPlaceholderText = _wrapper7.getByPlaceholderText;

    _react2.fireEvent.click(getByTestId('header-dropdown'));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Change Password'))));

    const oldPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter Old Password"));

    _react2.fireEvent.change(oldPwd, {
      target: {
        value: "abcd"
      }
    });

    const newPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter New Password"));

    _react2.fireEvent.change(newPwd, {
      target: {
        value: "defg"
      }
    });

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId("change-pwd-submit"))));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('OK'))));
  });
  it("should show error when new password and confirm password do not match", async () => {
    renderComponent();
    const _wrapper8 = wrapper,
          asFragment = _wrapper8.asFragment,
          getByTestId = _wrapper8.getByTestId,
          getByText = _wrapper8.getByText,
          getByPlaceholderText = _wrapper8.getByPlaceholderText;

    _react2.fireEvent.click(getByTestId('header-dropdown'));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Change Password'))));

    const oldPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter Old Password"));

    _react2.fireEvent.change(oldPwd, {
      target: {
        value: "abcd"
      }
    });

    const newPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Enter New Password"));

    _react2.fireEvent.change(newPwd, {
      target: {
        value: "deg"
      }
    });

    const confPwd = await (0, _react2.waitForElement)(() => getByPlaceholderText("Confirm New Password"));

    _react2.fireEvent.change(confPwd, {
      target: {
        value: "defg"
      }
    });

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId("change-pwd-submit"))));

    expect((await (0, _react2.waitForElement)(() => getByText("Passwords do not match")))).toBeDefined();
  });
  it("should toggle the menu", async () => {
    window.innerWidth = 500;
    window.innerHeight = 200;
    window.dispatchEvent(new Event('resize'));
    renderComponent();
    const _wrapper9 = wrapper,
          getByText = _wrapper9.getByText,
          asFragment = _wrapper9.asFragment,
          getByTestId = _wrapper9.getByTestId;

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId('sidebar-toggle')))); // expect(await waitForElement(() => getByText('Dashboard'))).toBeDefined();


    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId('mobile-show-more'))));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByTestId('menu-expand'))));

    _react2.fireEvent.click((await (0, _react2.waitForElement)(() => getByText('Poseidon OS status:'))));

    expect(asFragment()).toMatchSnapshot(); // const dashboardLink = expect(await waitForElement(() => getByText('Poseidon OS status:')));
    // fireEvent.click(dashboardLink);
  }); //   it("should adjust the dropdown position", async () => {
  //     renderComponent();
  //     const { getByText, asFragment } = wrapper;
  //     window.innerWidth = 100
  //     window.innerHeight = 200
  //     window.dispatchEvent(new Event('resize'));
  //     expect(asFragment()).toMatchSnapshot();
  //     const dashboardLink = expect(await waitForElement(() => getByText('Poseidon OS status:')));
  //     fireEvent.click(dashboardLink);
  //   });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRlc3QuanMiXSwibmFtZXMiOlsiamVzdCIsInVubW9jayIsImRlc2NyaWJlIiwid3JhcHBlciIsIm1vY2siLCJoaXN0b3J5Iiwic3RvcmUiLCJiZWZvcmVFYWNoIiwic2FnYU1pZGRsZXdhcmUiLCJyb290UmVkdWNlcnMiLCJoZWFkZXJSZWR1Y2VyIiwiY29uZmlndXJhdGlvbnNldHRpbmdSZWR1Y2VyIiwiY29tcG9zZUVuaGFuY2VycyIsIndpbmRvdyIsIl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyIsImNvbXBvc2UiLCJydW4iLCJyb290U2FnYSIsInJvdXRlIiwiaW5pdGlhbEVudHJpZXMiLCJNb2NrQWRhcHRlciIsImF4aW9zIiwicmVuZGVyQ29tcG9uZW50IiwiYWZ0ZXJFYWNoIiwiY2xlYW51cCIsIml0IiwiYXNGcmFnbWVudCIsImdldEJ5VGVzdElkIiwiZ2V0QnlUZXh0IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJmaXJlRXZlbnQiLCJjbGljayIsIm9sZFB3ZCIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwia2V5RG93biIsImtleSIsImNvZGUiLCJjaGFyQ29kZSIsImNoYW5nZSIsInRhcmdldCIsInZhbHVlIiwibmV3UHdkIiwiY29uZlB3ZCIsInNweU9uIiwiZ2xvYmFsIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzdGF0dXMiLCJqc29uIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwidG9NYXRjaFNuYXBzaG90Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBO0FBRUFBLElBQUksQ0FBQ0MsTUFBTCxDQUFZLE9BQVo7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7O0FBR0FDLFFBQVEsQ0FBQyxZ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TUwsU0FBUyxDQUFDLHdCQUFELENBQTlCLENBQVAsRUFBTixDQUF3RU0sV0FBeEU7QUFDRCxHQWJDLENBQUY7QUFlQVQsRUFBQUEsRUFBRSxDQUFDLHdCQUFELEVBQTJCLFlBQVk7QUFDdkNaLElBQUFBLE1BQU0sQ0FBQ3NDLFVBQVAsR0FBb0IsR0FBcEI7QUFDQXRDLElBQUFBLE1BQU0sQ0FBQ3VDLFdBQVAsR0FBcUIsR0FBckI7QUFDQXZDLElBQUFBLE1BQU0sQ0FBQ3dDLGFBQVAsQ0FBcUIsSUFBSUMsS0FBSixDQUFVLFFBQVYsQ0FBckI7QUFDQWhDLElBQUFBLGVBQWU7QUFKd0Isc0JBS1FuQixPQUxSO0FBQUEsVUFLL0J5QixTQUwrQixhQUsvQkEsU0FMK0I7QUFBQSxVQUtwQkYsVUFMb0IsYUFLcEJBLFVBTG9CO0FBQUEsVUFLUkMsV0FMUSxhQUtSQSxXQUxROztBQU12Q0csc0JBQVVDLEtBQVYsRUFBZ0IsTUFBTSw0QkFBZSxNQUFNSixXQUFXLENBQUMsZ0JBQUQsQ0FBaEMsQ0FBdEIsR0FOdUMsQ0FPdkM7OztBQUNBRyxzQkFBVUMsS0FBVixFQUFnQixNQUFNLDRCQUFlLE1BQU1KLFdBQVcsQ0FBQyxrQkFBRCxDQUFoQyxDQUF0Qjs7QUFDQUcsc0JBQVVDLEtBQVYsRUFBZ0IsTUFBTSw0QkFBZSxNQUFNSixXQUFXLENBQUMsYUFBRCxDQUFoQyxDQUF0Qjs7QUFDQUcsc0JBQVVDLEtBQVYsRUFBZ0IsTUFBTSw0QkFBZSxNQUFNSCxTQUFTLENBQUMscUJBQUQsQ0FBOUIsQ0FBdEI7O0FBQ0FLLElBQUFBLE1BQU0sQ0FBQ1AsVUFBVSxFQUFYLENBQU4sQ0FBcUI2QixlQUFyQixHQVh1QyxDQVl2QztBQUNBO0FBQ0QsR0FkQyxDQUFGLENBcEsyQixDQW9MN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQyxDQTlMTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L2ltcG9ydHMtZmlyc3QgKi9cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9maXJzdCAqL1xuXG5qZXN0LnVubW9jaygnYXhpb3MnKTtcblxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IE1vY2tBZGFwdGVyIGZyb20gXCJheGlvcy1tb2NrLWFkYXB0ZXJcIjtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIGNsZWFudXAsIHdhaXRGb3JFbGVtZW50LCBnZXRCeVBsYWNlaG9sZGVyVGV4dCwgZ2V0QnlUZXh0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVNZW1vcnlIaXN0b3J5IH0gZnJvbSAnaGlzdG9yeSc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20vZXh0ZW5kLWV4cGVjdCc7XG5pbXBvcnQgeyBjcmVhdGVTdG9yZSwgY29tYmluZVJlZHVjZXJzLCBhcHBseU1pZGRsZXdhcmUsIGNvbXBvc2UgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgY3JlYXRlU2FnYU1pZGRsZXdhcmUgZnJvbSAncmVkdXgtc2FnYSc7XG5pbXBvcnQgeyBhY3QgfSBmcm9tIFwicmVhY3QtZG9tL3Rlc3QtdXRpbHNcIjtcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgaGVhZGVyUmVkdWNlciBmcm9tICcuLi8uLi9zdG9yZS9yZWR1Y2Vycy9oZWFkZXJSZWR1Y2VyJztcbmltcG9ydCBjb25maWd1cmF0aW9uc2V0dGluZ1JlZHVjZXIgZnJvbSAnLi4vLi4vc3RvcmUvcmVkdWNlcnMvY29uZmlndXJhdGlvbnNldHRpbmdSZWR1Y2VyJztcbmltcG9ydCByb290U2FnYSBmcm9tIFwiLi4vLi4vc2FnYXMvaW5kZXhTYWdhXCI7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gXCJxXCI7XG5cblxuZGVzY3JpYmUoJzxIZWFkZXIgLz4nLCAoKSA9PiB7XG4gIGxldCB3cmFwcGVyO1xuICBsZXQgbW9jaztcbiAgbGV0IGhpc3Rvcnk7XG4gIGxldCBzdG9yZTtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgY29uc3Qgc2FnYU1pZGRsZXdhcmUgPSBjcmVhdGVTYWdhTWlkZGxld2FyZSgpO1xuICAgIGNvbnN0IHJvb3RSZWR1Y2VycyA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgICBoZWFkZXJSZWR1Y2VyLFxuICAgICAgY29uZmlndXJhdGlvbnNldHRpbmdSZWR1Y2VyXG4gICAgfSk7XG4gICAgY29uc3QgY29tcG9zZUVuaGFuY2VycyA9IHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18gfHwgY29tcG9zZTtcbiAgICBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJvb3RSZWR1Y2VycywgY29tcG9zZUVuaGFuY2VycyhhcHBseU1pZGRsZXdhcmUoc2FnYU1pZGRsZXdhcmUpKSlcbiAgICBzYWdhTWlkZGxld2FyZS5ydW4ocm9vdFNhZ2EpO1xuICAgIGNvbnN0IHJvdXRlID0gJy8nO1xuICAgIGhpc3RvcnkgPSBjcmVhdGVNZW1vcnlIaXN0b3J5KHsgaW5pdGlhbEVudHJpZXM6IFtyb3V0ZV0gfSlcbiAgICBtb2NrID0gbmV3IE1vY2tBZGFwdGVyKGF4aW9zKTtcbiAgfSk7XG5cbiAgY29uc3QgcmVuZGVyQ29tcG9uZW50ID0gKCkgPT4ge1xuICAgIHdyYXBwZXIgPSByZW5kZXIoXG4gICAgICA8Um91dGVyIGhpc3Rvcnk9e2hpc3Rvcnl9PlxuICAgICAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICAgICAgICA8SGVhZGVyIC8+XG4gICAgICAgIDwvUHJvdmlkZXI+XG4gICAgICA8L1JvdXRlcj5cbiAgICApO1xuICB9XG5cbiAgYWZ0ZXJFYWNoKGNsZWFudXApO1xuXG4gIGl0KFwic2hvdWxkIHJlbmRlciBDaGFuZ2UgUGFzc3dvcmQgZGlhbG9ndWVcIiwgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuICAgIGNvbnN0ICB7IGFzRnJhZ21lbnQsIGdldEJ5VGVzdElkLCBnZXRCeVRleHQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0IH0gPSB3cmFwcGVyO1xuICAgIGZpcmVFdmVudC5jbGljayhnZXRCeVRlc3RJZCgnaGVhZGVyLWRyb3Bkb3duJykpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ0NoYW5nZSBQYXNzd29yZCcpKSk7XG4gICAgY29uc3Qgb2xkUHdkID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRlciBPbGQgUGFzc3dvcmRcIikpO1xuICAgIGV4cGVjdChvbGRQd2QpLnRvQmVEZWZpbmVkKCk7XG4gICAgLy8gZXhwZWN0KGFzRnJhZ21lbnQoKSkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGV4dCgnUG9zZWlkb24gT1Mgc3RhdHVzOicpKSk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIGNoYW5nZSB0aGUgUGFzc3dvcmRcIiwgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuICAgIGNvbnN0ICB7IGFzRnJhZ21lbnQsIGdldEJ5VGVzdElkLCBnZXRCeVRleHQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0IH0gPSB3cmFwcGVyO1xuICAgIGZpcmVFdmVudC5jbGljayhnZXRCeVRlc3RJZCgnaGVhZGVyLWRyb3Bkb3duJykpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ0NoYW5nZSBQYXNzd29yZCcpKSk7XG4gICAgY29uc3Qgb2xkUHdkID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRlciBPbGQgUGFzc3dvcmRcIikpO1xuICAgIGZpcmVFdmVudC5rZXlEb3duKG9sZFB3ZCwgeyBrZXk6ICdBJywgY29kZTogNjUsIGNoYXJDb2RlOiA2NSB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKG9sZFB3ZCwge3RhcmdldDoge3ZhbHVlOiBcImFiY2RcIn19KTtcbiAgICBjb25zdCBuZXdQd2QgPSBhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVBsYWNlaG9sZGVyVGV4dChcIkVudGVyIE5ldyBQYXNzd29yZFwiKSk7XG4gICAgZmlyZUV2ZW50LmtleURvd24obmV3UHdkLCB7IGtleTogJ0QnLCBjb2RlOiA2OCwgY2hhckNvZGU6IDY4IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UobmV3UHdkLCB7dGFyZ2V0OiB7dmFsdWU6IFwiZGVmZ1wifX0pO1xuICAgIGNvbnN0IGNvbmZQd2QgPSBhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVBsYWNlaG9sZGVyVGV4dChcIkNvbmZpcm0gTmV3IFBhc3N3b3JkXCIpKTtcbiAgICBmaXJlRXZlbnQua2V5RG93bihjb25mUHdkLCB7IGtleTogJ0QnLCBjb2RlOiA2OCwgY2hhckNvZGU6IDY4IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoY29uZlB3ZCwge3RhcmdldDoge3ZhbHVlOiBcImRlZmdcIn19KTtcbiAgICBqZXN0LnNweU9uKGdsb2JhbCwgJ2ZldGNoJylcbiAgICAubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICBzdGF0dXM6IDIwMCxcbiAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIHZhbHVlOiBcIlwiXG4gICAgICB9KVxuICAgIH0pKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXN0SWQoXCJjaGFuZ2UtcHdkLXN1Ym1pdFwiKSkpO1xuICB9KTtcblxuICBpdChcInNob3VsZCByZWRpcmVjdCBpZiB1c2VyIHNlc3Npb24gZW5kZWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuICAgIGNvbnN0ICB7IGFzRnJhZ21lbnQsIGdldEJ5VGVzdElkLCBnZXRCeVRleHQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0IH0gPSB3cmFwcGVyO1xuICAgIGZpcmVFdmVudC5jbGljayhnZXRCeVRlc3RJZCgnaGVhZGVyLWRyb3Bkb3duJykpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ0NoYW5nZSBQYXNzd29yZCcpKSk7XG4gICAgY29uc3Qgb2xkUHdkID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRlciBPbGQgUGFzc3dvcmRcIikpO1xuICAgIGZpcmVFdmVudC5rZXlEb3duKG9sZFB3ZCwgeyBrZXk6ICdBJywgY29kZTogNjUsIGNoYXJDb2RlOiA2NSB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKG9sZFB3ZCwge3RhcmdldDoge3ZhbHVlOiBcImFiY2RcIn19KTtcbiAgICBjb25zdCBuZXdQd2QgPSBhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVBsYWNlaG9sZGVyVGV4dChcIkVudGVyIE5ldyBQYXNzd29yZFwiKSk7XG4gICAgZmlyZUV2ZW50LmtleURvd24obmV3UHdkLCB7IGtleTogJ0QnLCBjb2RlOiA2OCwgY2hhckNvZGU6IDY4IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UobmV3UHdkLCB7dGFyZ2V0OiB7dmFsdWU6IFwiZGVmZ1wifX0pO1xuICAgIGNvbnN0IGNvbmZQd2QgPSBhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVBsYWNlaG9sZGVyVGV4dChcIkNvbmZpcm0gTmV3IFBhc3N3b3JkXCIpKTtcbiAgICBmaXJlRXZlbnQua2V5RG93bihjb25mUHdkLCB7IGtleTogJ0QnLCBjb2RlOiA2OCwgY2hhckNvZGU6IDY4IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoY29uZlB3ZCwge3RhcmdldDoge3ZhbHVlOiBcImRlZmdcIn19KTtcbiAgICBqZXN0LnNweU9uKGdsb2JhbCwgJ2ZldGNoJylcbiAgICAubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICBzdGF0dXM6IDQwMSxcbiAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIHZhbHVlOiBcIlwiXG4gICAgICB9KVxuICAgIH0pKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXN0SWQoXCJjaGFuZ2UtcHdkLXN1Ym1pdFwiKSkpO1xuICB9KTtcblxuICBpdChcInNob3VsZCB0aHJvdyBlcnJvciBpZiBwYXNzd29yZCBjaGFuZ2UgZmFpbGVkXCIsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXJDb21wb25lbnQoKTtcbiAgICBjb25zdCAgeyBhc0ZyYWdtZW50LCBnZXRCeVRlc3RJZCwgZ2V0QnlUZXh0LCBnZXRCeVBsYWNlaG9sZGVyVGV4dCB9ID0gd3JhcHBlcjtcbiAgICBmaXJlRXZlbnQuY2xpY2soZ2V0QnlUZXN0SWQoJ2hlYWRlci1kcm9wZG93bicpKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXh0KCdDaGFuZ2UgUGFzc3dvcmQnKSkpO1xuICAgIGNvbnN0IG9sZFB3ZCA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiRW50ZXIgT2xkIFBhc3N3b3JkXCIpKTtcbiAgICBmaXJlRXZlbnQua2V5RG93bihvbGRQd2QsIHsga2V5OiAnQScsIGNvZGU6IDY1LCBjaGFyQ29kZTogNjUgfSk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShvbGRQd2QsIHt0YXJnZXQ6IHt2YWx1ZTogXCJhYmNkXCJ9fSk7XG4gICAgY29uc3QgbmV3UHdkID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRlciBOZXcgUGFzc3dvcmRcIikpO1xuICAgIGZpcmVFdmVudC5rZXlEb3duKG5ld1B3ZCwgeyBrZXk6ICdEJywgY29kZTogNjgsIGNoYXJDb2RlOiA2OCB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKG5ld1B3ZCwge3RhcmdldDoge3ZhbHVlOiBcImRlZmdcIn19KTtcbiAgICBjb25zdCBjb25mUHdkID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJDb25maXJtIE5ldyBQYXNzd29yZFwiKSk7XG4gICAgZmlyZUV2ZW50LmtleURvd24oY29uZlB3ZCwgeyBrZXk6ICdEJywgY29kZTogNjgsIGNoYXJDb2RlOiA2OCB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKGNvbmZQd2QsIHt0YXJnZXQ6IHt2YWx1ZTogXCJkZWZnXCJ9fSk7XG4gICAgamVzdC5zcHlPbihnbG9iYWwsICdmZXRjaCcpXG4gICAgLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgfSlcbiAgICB9KSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGVzdElkKFwiY2hhbmdlLXB3ZC1zdWJtaXRcIikpKTtcbiAgICBleHBlY3QoYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXh0KFwiRXJyb3IgaW4gc2V0dGluZyBQYXNzd29yZFwiKSkpLnRvQmVEZWZpbmVkKCk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIHNob3cgZXJyb3Igd2hlbiBvbGQgcGFzc3dvcmQgaXMgbm90IGVudGVyZWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuICAgIGNvbnN0ICB7IGFzRnJhZ21lbnQsIGdldEJ5VGVzdElkLCBnZXRCeVRleHQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0IH0gPSB3cmFwcGVyO1xuICAgIGZpcmVFdmVudC5jbGljayhnZXRCeVRlc3RJZCgnaGVhZGVyLWRyb3Bkb3duJykpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ0NoYW5nZSBQYXNzd29yZCcpKSk7XG4gICAgYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRlciBPbGQgUGFzc3dvcmRcIikpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRlc3RJZChcImNoYW5nZS1wd2Qtc3VibWl0XCIpKSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGV4dCgnT0snKSkpO1xuICB9KTtcblxuICBpdChcInNob3VsZCBzaG93IGVycm9yIHdoZW4gbmV3IHBhc3N3b3JkIGlzIG5vdCBlbnRlcmVkXCIsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXJDb21wb25lbnQoKTtcbiAgICBjb25zdCAgeyBhc0ZyYWdtZW50LCBnZXRCeVRlc3RJZCwgZ2V0QnlUZXh0LCBnZXRCeVBsYWNlaG9sZGVyVGV4dCB9ID0gd3JhcHBlcjtcbiAgICBmaXJlRXZlbnQuY2xpY2soZ2V0QnlUZXN0SWQoJ2hlYWRlci1kcm9wZG93bicpKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXh0KCdDaGFuZ2UgUGFzc3dvcmQnKSkpO1xuICAgIGNvbnN0IG9sZFB3ZCA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiRW50ZXIgT2xkIFBhc3N3b3JkXCIpKTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKG9sZFB3ZCwge3RhcmdldDoge3ZhbHVlOiBcImFiY2RcIn19KTtcbiAgICBmaXJlRXZlbnQuY2xpY2soYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXN0SWQoXCJjaGFuZ2UtcHdkLXN1Ym1pdFwiKSkpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ09LJykpKTtcbiAgfSk7XG5cbiAgaXQoXCJzaG91bGQgc2hvdyBlcnJvciB3aGVuIGNvbmZpcm0gcGFzc3dvcmQgaXMgbm90IGVudGVyZWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuICAgIGNvbnN0ICB7IGFzRnJhZ21lbnQsIGdldEJ5VGVzdElkLCBnZXRCeVRleHQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0IH0gPSB3cmFwcGVyO1xuICAgIGZpcmVFdmVudC5jbGljayhnZXRCeVRlc3RJZCgnaGVhZGVyLWRyb3Bkb3duJykpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ0NoYW5nZSBQYXNzd29yZCcpKSk7XG4gICAgY29uc3Qgb2xkUHdkID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRlciBPbGQgUGFzc3dvcmRcIikpO1xuICAgIGZpcmVFdmVudC5jaGFuZ2Uob2xkUHdkLCB7dGFyZ2V0OiB7dmFsdWU6IFwiYWJjZFwifX0pO1xuICAgIGNvbnN0IG5ld1B3ZCA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiRW50ZXIgTmV3IFBhc3N3b3JkXCIpKTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKG5ld1B3ZCwge3RhcmdldDoge3ZhbHVlOiBcImRlZmdcIn19KTtcbiAgICBmaXJlRXZlbnQuY2xpY2soYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXN0SWQoXCJjaGFuZ2UtcHdkLXN1Ym1pdFwiKSkpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ09LJykpKTtcbiAgfSk7XG5cbiAgaXQoXCJzaG91bGQgc2hvdyBlcnJvciB3aGVuIG5ldyBwYXNzd29yZCBhbmQgY29uZmlybSBwYXNzd29yZCBkbyBub3QgbWF0Y2hcIiwgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuICAgIGNvbnN0ICB7IGFzRnJhZ21lbnQsIGdldEJ5VGVzdElkLCBnZXRCeVRleHQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0IH0gPSB3cmFwcGVyO1xuICAgIGZpcmVFdmVudC5jbGljayhnZXRCeVRlc3RJZCgnaGVhZGVyLWRyb3Bkb3duJykpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ0NoYW5nZSBQYXNzd29yZCcpKSk7XG4gICAgY29uc3Qgb2xkUHdkID0gYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRlciBPbGQgUGFzc3dvcmRcIikpO1xuICAgIGZpcmVFdmVudC5jaGFuZ2Uob2xkUHdkLCB7dGFyZ2V0OiB7dmFsdWU6IFwiYWJjZFwifX0pO1xuICAgIGNvbnN0IG5ld1B3ZCA9IGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiRW50ZXIgTmV3IFBhc3N3b3JkXCIpKTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKG5ld1B3ZCwge3RhcmdldDoge3ZhbHVlOiBcImRlZ1wifX0pO1xuICAgIGNvbnN0IGNvbmZQd2QgPSBhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVBsYWNlaG9sZGVyVGV4dChcIkNvbmZpcm0gTmV3IFBhc3N3b3JkXCIpKTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKGNvbmZQd2QsIHt0YXJnZXQ6IHt2YWx1ZTogXCJkZWZnXCJ9fSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGVzdElkKFwiY2hhbmdlLXB3ZC1zdWJtaXRcIikpKTtcbiAgICBleHBlY3QoYXdhaXQgd2FpdEZvckVsZW1lbnQoKCkgPT4gZ2V0QnlUZXh0KFwiUGFzc3dvcmRzIGRvIG5vdCBtYXRjaFwiKSkpLnRvQmVEZWZpbmVkKCk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIHRvZ2dsZSB0aGUgbWVudVwiLCBhc3luYyAoKSA9PiB7XG4gICAgd2luZG93LmlubmVyV2lkdGggPSA1MDBcbiAgICB3aW5kb3cuaW5uZXJIZWlnaHQgPSAyMDBcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICByZW5kZXJDb21wb25lbnQoKTtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCwgYXNGcmFnbWVudCwgZ2V0QnlUZXN0SWQgfSA9IHdyYXBwZXI7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGVzdElkKCdzaWRlYmFyLXRvZ2dsZScpKSk7XG4gICAgLy8gZXhwZWN0KGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGV4dCgnRGFzaGJvYXJkJykpKS50b0JlRGVmaW5lZCgpO1xuICAgIGZpcmVFdmVudC5jbGljayhhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRlc3RJZCgnbW9iaWxlLXNob3ctbW9yZScpKSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGVzdElkKCdtZW51LWV4cGFuZCcpKSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGV4dCgnUG9zZWlkb24gT1Mgc3RhdHVzOicpKSk7XG4gICAgZXhwZWN0KGFzRnJhZ21lbnQoKSkudG9NYXRjaFNuYXBzaG90KCk7XG4gICAgLy8gY29uc3QgZGFzaGJvYXJkTGluayA9IGV4cGVjdChhd2FpdCB3YWl0Rm9yRWxlbWVudCgoKSA9PiBnZXRCeVRleHQoJ1Bvc2VpZG9uIE9TIHN0YXR1czonKSkpO1xuICAgIC8vIGZpcmVFdmVudC5jbGljayhkYXNoYm9hcmRMaW5rKTtcbiAgfSk7XG5cbi8vICAgaXQoXCJzaG91bGQgYWRqdXN0IHRoZSBkcm9wZG93biBwb3NpdGlvblwiLCBhc3luYyAoKSA9PiB7XG4vLyAgICAgcmVuZGVyQ29tcG9uZW50KCk7XG4vLyAgICAgY29uc3QgeyBnZXRCeVRleHQsIGFzRnJhZ21lbnQgfSA9IHdyYXBwZXI7XG4vLyAgICAgd2luZG93LmlubmVyV2lkdGggPSAxMDBcbi8vICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgPSAyMDBcbi8vICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbi8vICAgICBleHBlY3QoYXNGcmFnbWVudCgpKS50b01hdGNoU25hcHNob3QoKTtcbi8vICAgICBjb25zdCBkYXNoYm9hcmRMaW5rID0gZXhwZWN0KGF3YWl0IHdhaXRGb3JFbGVtZW50KCgpID0+IGdldEJ5VGV4dCgnUG9zZWlkb24gT1Mgc3RhdHVzOicpKSk7XG4vLyAgICAgZmlyZUV2ZW50LmNsaWNrKGRhc2hib2FyZExpbmspO1xuLy8gICB9KTtcbn0pOyJdfQ==